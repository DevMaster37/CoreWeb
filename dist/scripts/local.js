var App=function(){var u,a,d,o,r,l,n,i=function(){var t=250;$(".sidebar-nav a"),$(".sidebar-nav-menu"),$(".sidebar-nav-submenu");$(document).on("click",".sidebar-nav-menu",function(){console.log("i am called");var e=$(this);return!0!==e.parent().hasClass("active")&&(e.hasClass("open")?(e.removeClass("open").next().slideUp(t),setTimeout(f,t)):($(".sidebar-nav-menu.open").removeClass("open").next().slideUp(t),e.addClass("open").next().slideDown(250),setTimeout(f,250))),!1}),$(document).on("click",".sidebar-nav-submenu",function(){var e=$(this);return!0!==e.parent().hasClass("active")&&(e.hasClass("open")?(e.removeClass("open").next().slideUp(t),setTimeout(f,t)):(e.closest("ul").find(".sidebar-nav-submenu.open").removeClass("open").next().slideUp(t),e.addClass("open").next().slideDown(250),setTimeout(f,250))),!1})},p=function(e,t){if("init"===e)(d.hasClass("navbar-fixed-top")||d.hasClass("navbar-fixed-bottom"))&&p("sidebar-scroll"),$(".sidebar-partial #sidebar").mouseenter(function(){p("close-sidebar-alt")}),$(".sidebar-alt-partial #sidebar-alt").mouseenter(function(){p("close-sidebar")});else{var i=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;"toggle-sidebar"===e?991<i?(u.toggleClass("sidebar-visible-lg"),u.hasClass("sidebar-visible-lg")&&p("close-sidebar-alt"),"toggle-other"===t&&(u.hasClass("sidebar-visible-lg")||p("open-sidebar-alt"))):(u.toggleClass("sidebar-visible-xs"),u.hasClass("sidebar-visible-xs")&&p("close-sidebar-alt")):"toggle-sidebar-alt"===e?991<i?(u.toggleClass("sidebar-alt-visible-lg"),u.hasClass("sidebar-alt-visible-lg")&&p("close-sidebar"),"toggle-other"===t&&(u.hasClass("sidebar-alt-visible-lg")||p("open-sidebar"))):(u.toggleClass("sidebar-alt-visible-xs"),u.hasClass("sidebar-alt-visible-xs")&&p("close-sidebar")):"open-sidebar"===e?(991<i?u.addClass("sidebar-visible-lg"):u.addClass("sidebar-visible-xs"),p("close-sidebar-alt")):"open-sidebar-alt"===e?(991<i?u.addClass("sidebar-alt-visible-lg"):u.addClass("sidebar-alt-visible-xs"),p("close-sidebar")):"close-sidebar"===e?991<i?u.removeClass("sidebar-visible-lg"):u.removeClass("sidebar-visible-xs"):"close-sidebar-alt"===e?991<i?u.removeClass("sidebar-alt-visible-lg"):u.removeClass("sidebar-alt-visible-xs"):"sidebar-scroll"==e&&n.length&&!n.parent(".slimScrollDiv").length&&(n.slimScroll({height:$(window).height(),color:"#fff",size:"3px",touchScrollStep:100}),$(window).resize(s),$(window).bind("orientationchange",h))}return!1},s=function(){n.css("height",$(window).height())},h=function(){setTimeout(n.css("height",$(window).height()),500)},f=function(){var e=$(window).height(),t=r.outerHeight(),i=l.outerHeight(),n=d.outerHeight(),s=o.outerHeight();d.hasClass("navbar-fixed-top")||d.hasClass("navbar-fixed-bottom")||t<e&&i<e?u.hasClass("footer-fixed")?a.css("min-height",e-n+"px"):a.css("min-height",e-(n+s)+"px"):u.hasClass("footer-fixed")?a.css("min-height",(i<t?t:i)-n+"px"):a.css("min-height",(i<t?t:i)-(n+s)+"px")},c=function(){$('[data-toggle="block-toggle-content"]').on("click",function(){var e=$(this).closest(".block").find(".block-content");$(this).hasClass("active")?e.slideDown():e.slideUp(),$(this).toggleClass("active")}),$('[data-toggle="block-toggle-fullscreen"]').on("click",function(){var e=$(this).closest(".block");$(this).hasClass("active")?e.removeClass("block-fullscreen"):e.addClass("block-fullscreen"),$(this).toggleClass("active")}),$('[data-toggle="block-hide"]').on("click",function(){$(this).closest(".block").fadeOut()})},g=function(){var e=$("#to-top"),t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;$(window).scroll(function(){150<$(this).scrollTop()&&991<t?e.fadeIn(100):e.fadeOut(100)}),e.click(function(){return $("html, body").animate({scrollTop:0},400),!1})},m=function(){var t,i=$(".sidebar-themes"),n=$("#theme-link");n.length&&(t=n.attr("href"),$("li",i).removeClass("active"),$('a[data-theme="'+t+'"]',i).parent("li").addClass("active")),$("a",i).click(function(e){t=$(this).data("theme"),$("li",i).removeClass("active"),$(this).parent("li").addClass("active"),"default"===t?n.length&&(n.remove(),n=$("#theme-link")):n.length?n.attr("href",t):($('link[href="styles/themes.css"]').before('<link id="theme-link" rel="stylesheet" href="'+t+'">'),n=$("#theme-link"))}),$(".dropdown-options a").click(function(e){e.stopPropagation()});var e=$("#options-main-style"),s=$("#options-main-style-alt");u.hasClass("style-alt")?s.addClass("active"):e.addClass("active"),e.click(function(){u.removeClass("style-alt"),$(this).addClass("active"),s.removeClass("active")}),s.click(function(){u.addClass("style-alt"),$(this).addClass("active"),e.removeClass("active")});var a=$("#options-header-default"),o=$("#options-header-inverse"),r=$("#options-header-top"),l=$("#options-header-bottom");d.hasClass("navbar-default")?a.addClass("active"):o.addClass("active"),d.hasClass("navbar-fixed-top")?r.addClass("active"):d.hasClass("navbar-fixed-bottom")&&l.addClass("active"),a.click(function(){d.removeClass("navbar-inverse").addClass("navbar-default"),$(this).addClass("active"),o.removeClass("active")}),o.click(function(){d.removeClass("navbar-default").addClass("navbar-inverse"),$(this).addClass("active"),a.removeClass("active")}),r.click(function(){u.removeClass("header-fixed-bottom").addClass("header-fixed-top"),d.removeClass("navbar-fixed-bottom").addClass("navbar-fixed-top"),$(this).addClass("active"),l.removeClass("active"),p("sidebar-scroll"),f()}),l.click(function(){u.removeClass("header-fixed-top").addClass("header-fixed-bottom"),d.removeClass("navbar-fixed-top").addClass("navbar-fixed-bottom"),$(this).addClass("active"),r.removeClass("active"),p("sidebar-scroll"),f()});var h=$("#options-footer-static"),c=$("#options-footer-fixed");u.hasClass("footer-fixed")?c.addClass("active"):h.addClass("active"),h.click(function(){u.removeClass("footer-fixed"),$(this).addClass("active"),c.removeClass("active"),f()}),c.click(function(){u.addClass("footer-fixed"),$(this).addClass("active"),h.removeClass("active"),f()})};return{init:function(){!function(){u=$("#page-container"),a=$("#page-content"),d=$("header"),o=$("#page-content + footer"),r=$("#sidebar"),l=$("#sidebar-alt"),n=$(".sidebar-scroll"),p("init"),i(),c(),g(),m(),f(),$(window).resize(function(){f()}),$(window).bind("orientationchange",f);var e=$("#year-copy"),t=new Date;2014===t.getFullYear()?e.html("2014"):e.html("2014-"+t.getFullYear().toString().substr(2,2)),$('[data-toggle="tabs"] a, .enable-tabs a').click(function(e){e.preventDefault(),$(this).tab("show")}),$('[data-toggle="tooltip"], .enable-tooltip').tooltip({container:"body",animation:!1}),$('[data-toggle="popover"], .enable-popover').popover({container:"body",animation:!0}),$('[data-toggle="lightbox-image"]').magnificPopup({type:"image",image:{titleSrc:"title"}}),$('[data-toggle="lightbox-gallery"]').magnificPopup({delegate:"a.gallery-link",type:"image",gallery:{enabled:!0,navigateByImgClick:!0,arrowMarkup:'<button type="button" class="mfp-arrow mfp-arrow-%dir%" title="%title%"></button>',tPrev:"Previous",tNext:"Next",tCounter:'<span class="mfp-counter">%curr% of %total%</span>'},image:{titleSrc:"title"}}),$(".textarea-editor").wysihtml5(),$(".select-chosen").chosen({width:"100%"}),$(".select-select2").select2(),$(".input-slider").slider(),$(".input-tags").tagsInput({width:"auto",height:"auto"}),$(".input-datepicker, .input-daterange").datepicker({weekStart:1}),$(".input-datepicker-close").datepicker({weekStart:1}).on("changeDate",function(e){$(this).datepicker("hide")}),$(".input-timepicker").timepicker({minuteStep:1,showSeconds:!0,showMeridian:!0}),$(".input-timepicker24").timepicker({minuteStep:1,showSeconds:!0,showMeridian:!1}),$(".pie-chart").easyPieChart({barColor:$(this).data("bar-color")?$(this).data("bar-color"):"#777777",trackColor:$(this).data("track-color")?$(this).data("track-color"):"#eeeeee",lineWidth:$(this).data("line-width")?$(this).data("line-width"):3,size:$(this).data("size")?$(this).data("size"):"80",animate:800,scaleColor:!1}),$("input, textarea").placeholder()}()},sidebar:function(e,t){p(e,t)},datatables:function(){$.extend(!0,$.fn.dataTable.defaults,{sDom:"<'row'<'col-sm-6 col-xs-5'l><'col-sm-6 col-xs-7'f>r>t<'row'<'col-sm-5 hidden-xs'i><'col-sm-7 col-xs-12 clearfix'p>>",sPaginationType:"bootstrap",oLanguage:{sLengthMenu:"_MENU_",sSearch:'<div class="input-group">_INPUT_<span class="input-group-addon"><i class="fa fa-search"></i></span></div>',sInfo:"<strong>_START_</strong>-<strong>_END_</strong> of <strong>_TOTAL_</strong>",oPaginate:{sPrevious:"",sNext:""}}})}}}();$(function(){App.init()}),function(){function e(){}for(var t,i=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],n=i.length,s=window.console=window.console||{};n--;)s[t=i[n]]||(s[t]=e)}(),function(r){function n(e,t){var i,n,s,a=e.nodeName.toLowerCase();return"area"===a?(n=(i=e.parentNode).name,!(!e.href||!n||"map"!==i.nodeName.toLowerCase())&&(!!(s=r("img[usemap=#"+n+"]")[0])&&o(s))):(/input|select|textarea|button|object/.test(a)?!e.disabled:"a"===a&&e.href||t)&&o(e)}function o(e){return r.expr.filters.visible(e)&&!r(e).parents().addBack().filter(function(){return"hidden"===r.css(this,"visibility")}).length}var t,e,i=0,s=/^ui-id-\d+$/;r.ui=r.ui||{},r.extend(r.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),r.fn.extend({focus:(e=r.fn.focus,function(t,i){return"number"==typeof t?this.each(function(){var e=this;setTimeout(function(){r(e).focus(),i&&i.call(e)},t)}):e.apply(this,arguments)}),scrollParent:function(){var e;return e=r.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(r.css(this,"position"))&&/(auto|scroll)/.test(r.css(this,"overflow")+r.css(this,"overflow-y")+r.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(r.css(this,"overflow")+r.css(this,"overflow-y")+r.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!e.length?r(document):e},zIndex:function(e){if(void 0!==e)return this.css("zIndex",e);if(this.length)for(var t,i,n=r(this[0]);n.length&&n[0]!==document;){if(("absolute"===(t=n.css("position"))||"relative"===t||"fixed"===t)&&(i=parseInt(n.css("zIndex"),10),!isNaN(i)&&0!==i))return i;n=n.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++i)})},removeUniqueId:function(){return this.each(function(){s.test(this.id)&&r(this).removeAttr("id")})}}),r.extend(r.expr[":"],{data:r.expr.createPseudo?r.expr.createPseudo(function(t){return function(e){return!!r.data(e,t)}}):function(e,t,i){return!!r.data(e,i[3])},focusable:function(e){return n(e,!isNaN(r.attr(e,"tabindex")))},tabbable:function(e){var t=r.attr(e,"tabindex"),i=isNaN(t);return(i||0<=t)&&n(e,!i)}}),r("<a>").outerWidth(1).jquery||r.each(["Width","Height"],function(e,i){function n(e,t,i,n){return r.each(s,function(){t-=parseFloat(r.css(e,"padding"+this))||0,i&&(t-=parseFloat(r.css(e,"border"+this+"Width"))||0),n&&(t-=parseFloat(r.css(e,"margin"+this))||0)}),t}var s="Width"===i?["Left","Right"]:["Top","Bottom"],a=i.toLowerCase(),o={innerWidth:r.fn.innerWidth,innerHeight:r.fn.innerHeight,outerWidth:r.fn.outerWidth,outerHeight:r.fn.outerHeight};r.fn["inner"+i]=function(e){return void 0===e?o["inner"+i].call(this):this.each(function(){r(this).css(a,n(this,e)+"px")})},r.fn["outer"+i]=function(e,t){return"number"!=typeof e?o["outer"+i].call(this,e):this.each(function(){r(this).css(a,n(this,e,!0,t)+"px")})}}),r.fn.addBack||(r.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),r("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(r.fn.removeData=(t=r.fn.removeData,function(e){return arguments.length?t.call(this,r.camelCase(e)):t.call(this)})),r.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),r.support.selectstart="onselectstart"in document.createElement("div"),r.fn.extend({disableSelection:function(){return this.bind((r.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),r.extend(r.ui,{plugin:{add:function(e,t,i){var n,s=r.ui[e].prototype;for(n in i)s.plugins[n]=s.plugins[n]||[],s.plugins[n].push([t,i[n]])},call:function(e,t,i){var n,s=e.plugins[t];if(s&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(n=0;s.length>n;n++)e.options[s[n][0]]&&s[n][1].apply(e.element,i)}},hasScroll:function(e,t){if("hidden"===r(e).css("overflow"))return!1;var i=t&&"left"===t?"scrollLeft":"scrollTop",n=!1;return 0<e[i]||(e[i]=1,n=0<e[i],e[i]=0,n)}})}(jQuery),function(c,u){var i=0,r=Array.prototype.slice,n=c.cleanData;c.cleanData=function(e){for(var t,i=0;null!=(t=e[i]);i++)try{c(t).triggerHandler("remove")}catch(e){}n(e)},c.widget=function(e,i,t){var n,s,a,o,r={},l=e.split(".")[0];e=e.split(".")[1],n=l+"-"+e,t||(t=i,i=c.Widget),c.expr[":"][n.toLowerCase()]=function(e){return!!c.data(e,n)},c[l]=c[l]||{},s=c[l][e],a=c[l][e]=function(e,t){return this._createWidget?(arguments.length&&this._createWidget(e,t),u):new a(e,t)},c.extend(a,s,{version:t.version,_proto:c.extend({},t),_childConstructors:[]}),(o=new i).options=c.widget.extend({},o.options),c.each(t,function(t,n){return c.isFunction(n)?r[t]=function(){var e,t=this._super,i=this._superApply;return this._super=s,this._superApply=a,e=n.apply(this,arguments),this._super=t,this._superApply=i,e}:r[t]=n,u;function s(){return i.prototype[t].apply(this,arguments)}function a(e){return i.prototype[t].apply(this,e)}}),a.prototype=c.widget.extend(o,{widgetEventPrefix:s&&o.widgetEventPrefix||e},r,{constructor:a,namespace:l,widgetName:e,widgetFullName:n}),s?(c.each(s._childConstructors,function(e,t){var i=t.prototype;c.widget(i.namespace+"."+i.widgetName,a,t._proto)}),delete s._childConstructors):i._childConstructors.push(a),c.widget.bridge(e,a)},c.widget.extend=function(e){for(var t,i,n=r.call(arguments,1),s=0,a=n.length;s<a;s++)for(t in n[s])i=n[s][t],n[s].hasOwnProperty(t)&&i!==u&&(e[t]=c.isPlainObject(i)?c.isPlainObject(e[t])?c.widget.extend({},e[t],i):c.widget.extend({},i):i);return e},c.widget.bridge=function(a,t){var o=t.prototype.widgetFullName||a;c.fn[a]=function(i){var e="string"==typeof i,n=r.call(arguments,1),s=this;return i=!e&&n.length?c.widget.extend.apply(null,[i].concat(n)):i,e?this.each(function(){var e,t=c.data(this,o);return t?c.isFunction(t[i])&&"_"!==i.charAt(0)?(e=t[i].apply(t,n))!==t&&e!==u?(s=e&&e.jquery?s.pushStack(e.get()):e,!1):u:c.error("no such method '"+i+"' for "+a+" widget instance"):c.error("cannot call methods on "+a+" prior to initialization; attempted to call method '"+i+"'")}):this.each(function(){var e=c.data(this,o);e?e.option(i||{})._init():c.data(this,o,new t(i,this))}),s}},c.Widget=function(){},c.Widget._childConstructors=[],c.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,t){t=c(t||this.defaultElement||this)[0],this.element=c(t),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=c.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=c(),this.hoverable=c(),this.focusable=c(),t!==this&&(c.data(t,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===t&&this.destroy()}}),this.document=c(t.style?t.ownerDocument:t.document||t),this.window=c(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:c.noop,_getCreateEventData:c.noop,_create:c.noop,_init:c.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(c.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:c.noop,widget:function(){return this.element},option:function(e,t){var i,n,s,a=e;if(0===arguments.length)return c.widget.extend({},this.options);if("string"==typeof e)if(a={},e=(i=e.split(".")).shift(),i.length){for(n=a[e]=c.widget.extend({},this.options[e]),s=0;i.length-1>s;s++)n[i[s]]=n[i[s]]||{},n=n[i[s]];if(e=i.pop(),1===arguments.length)return n[e]===u?null:n[e];n[e]=t}else{if(1===arguments.length)return this.options[e]===u?null:this.options[e];a[e]=t}return this._setOptions(a),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(o,r,e){var l,h=this;"boolean"!=typeof o&&(e=r,r=o,o=!1),e?(r=l=c(r),this.bindings=this.bindings.add(r)):(e=r,r=this.element,l=this.widget()),c.each(e,function(e,t){function i(){return o||!0!==h.options.disabled&&!c(this).hasClass("ui-state-disabled")?("string"==typeof t?h[t]:t).apply(h,arguments):u}"string"!=typeof t&&(i.guid=t.guid=t.guid||i.guid||c.guid++);var n=e.match(/^(\w+)\s*(.*)$/),s=n[1]+h.eventNamespace,a=n[2];a?l.delegate(a,s,i):r.bind(s,i)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){var i=this;return setTimeout(function(){return("string"==typeof e?i[e]:e).apply(i,arguments)},t||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){c(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){c(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){c(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){c(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,t,i){var n,s,a=this.options[e];if(i=i||{},(t=c.Event(t)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),t.target=this.element[0],s=t.originalEvent)for(n in s)n in t||(t[n]=s[n]);return this.element.trigger(t,i),!(c.isFunction(a)&&!1===a.apply(this.element[0],[t].concat(i))||t.isDefaultPrevented())}},c.each({show:"fadeIn",hide:"fadeOut"},function(a,o){c.Widget.prototype["_"+a]=function(t,e,i){"string"==typeof e&&(e={effect:e});var n,s=e?!0===e||"number"==typeof e?o:e.effect||o:a;"number"==typeof(e=e||{})&&(e={duration:e}),n=!c.isEmptyObject(e),e.complete=i,e.delay&&t.delay(e.delay),n&&c.effects&&c.effects.effect[s]?t[a](e):s!==a&&t[s]?t[s](e.duration,e.easing,i):t.queue(function(e){c(this)[a](),i&&i.call(t[0]),e()})}})}(jQuery),function(s){var a=!1;s(document).mouseup(function(){a=!1}),s.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(e){return!0===s.data(e.target,t.widgetName+".preventClickEvent")?(s.removeData(e.target,t.widgetName+".preventClickEvent"),e.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&s(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!a){this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var t=this,i=1===e.which,n=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&s(e.target).closest(this.options.cancel).length;return i&&!n&&this._mouseCapture(e)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){t.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?e.preventDefault():(!0===s.data(e.target,this.widgetName+".preventClickEvent")&&s.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return t._mouseMove(e)},this._mouseUpDelegate=function(e){return t._mouseUp(e)},s(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),a=!0)),!0}},_mouseMove:function(e){return s.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button?this._mouseUp(e):this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return s(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&s.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(y){y.widget("ui.draggable",y.ui.mouse,{version:"1.10.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(e){var t=this.options;return!(this.helper||t.disabled||0<y(e.target).closest(".ui-resizable-handle").length)&&(this.handle=this._getHandle(e),!!this.handle&&(y(!0===t.iframeFix?"iframe":t.iframeFix).each(function(){y("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(y(this).offset()).appendTo("body")}),!0))},_mouseStart:function(e){var t=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),y.ui.ddmanager&&(y.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,y.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,t.cursorAt&&this._adjustOffsetFromHelper(t.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),y.ui.ddmanager&&!t.dropBehaviour&&y.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),y.ui.ddmanager&&y.ui.ddmanager.dragStart(this,e),!0)},_mouseDrag:function(e,t){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),!t){var i=this._uiHash();if(!1===this._trigger("drag",e,i))return this._mouseUp({}),!1;this.position=i.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),y.ui.ddmanager&&y.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var t=this,i=!1;return y.ui.ddmanager&&!this.options.dropBehaviour&&(i=y.ui.ddmanager.drop(this,e)),this.dropped&&(i=this.dropped,this.dropped=!1),("original"!==this.options.helper||y.contains(this.element[0].ownerDocument,this.element[0]))&&("invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||!0===this.options.revert||y.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?y(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==t._trigger("stop",e)&&t._clear()}):!1!==this._trigger("stop",e)&&this._clear()),!1},_mouseUp:function(e){return y("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),y.ui.ddmanager&&y.ui.ddmanager.dragStop(this,e),y.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!y(e.target).closest(this.element.find(this.options.handle)).length},_createHelper:function(e){var t=this.options,i=y.isFunction(t.helper)?y(t.helper.apply(this.element[0],[e])):"clone"===t.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"===t.appendTo?this.element[0].parentNode:t.appendTo),i[0]===this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),y.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&y.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&y.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,t,i,n=this.options;return n.containment?"window"===n.containment?void(this.containment=[y(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,y(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,y(window).scrollLeft()+y(window).width()-this.helperProportions.width-this.margins.left,y(window).scrollTop()+(y(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===n.containment?void(this.containment=[0,0,y(document).width()-this.helperProportions.width-this.margins.left,(y(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):n.containment.constructor===Array?void(this.containment=n.containment):("parent"===n.containment&&(n.containment=this.helper[0].parentNode),void((i=(t=y(n.containment))[0])&&(e="hidden"!==t.css("overflow"),this.containment=[(parseInt(t.css("borderLeftWidth"),10)||0)+(parseInt(t.css("paddingLeft"),10)||0),(parseInt(t.css("borderTopWidth"),10)||0)+(parseInt(t.css("paddingTop"),10)||0),(e?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(t.css("borderRightWidth"),10)||0)-(parseInt(t.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(t.css("borderBottomWidth"),10)||0)-(parseInt(t.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=t))):void(this.containment=null)},_convertPositionTo:function(e,t){t=t||this.position;var i="absolute"===e?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&y.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:n.scrollTop(),left:n.scrollLeft()}),{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*i}},_generatePosition:function(e){var t,i,n,s,a=this.options,o="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&y.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=e.pageX,l=e.pageY;return this.offset.scroll||(this.offset.scroll={top:o.scrollTop(),left:o.scrollLeft()}),this.originalPosition&&(this.containment&&(t=this.relative_container?(i=this.relative_container.offset(),[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):this.containment,e.pageX-this.offset.click.left<t[0]&&(r=t[0]+this.offset.click.left),e.pageY-this.offset.click.top<t[1]&&(l=t[1]+this.offset.click.top),e.pageX-this.offset.click.left>t[2]&&(r=t[2]+this.offset.click.left),e.pageY-this.offset.click.top>t[3]&&(l=t[3]+this.offset.click.top)),a.grid&&(n=a.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,l=t?n-this.offset.click.top>=t[1]||n-this.offset.click.top>t[3]?n:n-this.offset.click.top>=t[1]?n-a.grid[1]:n+a.grid[1]:n,s=a.grid[0]?this.originalPageX+Math.round((r-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,r=t?s-this.offset.click.left>=t[0]||s-this.offset.click.left>t[2]?s:s-this.offset.click.left>=t[0]?s-a.grid[0]:s+a.grid[0]:s)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(e,t,i){return i=i||this._uiHash(),y.ui.plugin.call(this,e,[t,i]),"drag"===e&&(this.positionAbs=this._convertPositionTo("absolute")),y.Widget.prototype._trigger.call(this,e,t,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),y.ui.plugin.add("draggable","connectToSortable",{start:function(t,e){var i=y(this).data("ui-draggable"),n=i.options,s=y.extend({},e,{item:i.element});i.sortables=[],y(n.connectToSortable).each(function(){var e=y.data(this,"ui-sortable");e&&!e.options.disabled&&(i.sortables.push({instance:e,shouldRevert:e.options.revert}),e.refreshPositions(),e._trigger("activate",t,s))})},stop:function(e,t){var i=y(this).data("ui-draggable"),n=y.extend({},t,{item:i.element});y.each(i.sortables,function(){this.instance.isOver?(this.instance.isOver=0,i.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,"original"===i.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",e,n))})},drag:function(i,n){var s=y(this).data("ui-draggable"),a=this;y.each(s.sortables,function(){var e=!1,t=this;this.instance.positionAbs=s.positionAbs,this.instance.helperProportions=s.helperProportions,this.instance.offset.click=s.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(e=!0,y.each(s.sortables,function(){return this.instance.positionAbs=s.positionAbs,this.instance.helperProportions=s.helperProportions,this.instance.offset.click=s.offset.click,this!==t&&this.instance._intersectsWith(this.instance.containerCache)&&y.contains(t.instance.element[0],this.instance.element[0])&&(e=!1),e})),e?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=y(a).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return n.helper[0]},i.target=this.instance.currentItem[0],this.instance._mouseCapture(i,!0),this.instance._mouseStart(i,!0,!0),this.instance.offset.click.top=s.offset.click.top,this.instance.offset.click.left=s.offset.click.left,this.instance.offset.parent.left-=s.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=s.offset.parent.top-this.instance.offset.parent.top,s._trigger("toSortable",i),s.dropped=this.instance.element,s.currentItem=s.element,this.instance.fromOutside=s),this.instance.currentItem&&this.instance._mouseDrag(i)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",i,this.instance._uiHash(this.instance)),this.instance._mouseStop(i,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),s._trigger("fromSortable",i),s.dropped=!1)})}}),y.ui.plugin.add("draggable","cursor",{start:function(){var e=y("body"),t=y(this).data("ui-draggable").options;e.css("cursor")&&(t._cursor=e.css("cursor")),e.css("cursor",t.cursor)},stop:function(){var e=y(this).data("ui-draggable").options;e._cursor&&y("body").css("cursor",e._cursor)}}),y.ui.plugin.add("draggable","opacity",{start:function(e,t){var i=y(t.helper),n=y(this).data("ui-draggable").options;i.css("opacity")&&(n._opacity=i.css("opacity")),i.css("opacity",n.opacity)},stop:function(e,t){var i=y(this).data("ui-draggable").options;i._opacity&&y(t.helper).css("opacity",i._opacity)}}),y.ui.plugin.add("draggable","scroll",{start:function(){var e=y(this).data("ui-draggable");e.scrollParent[0]!==document&&"HTML"!==e.scrollParent[0].tagName&&(e.overflowOffset=e.scrollParent.offset())},drag:function(e){var t=y(this).data("ui-draggable"),i=t.options,n=!1;t.scrollParent[0]!==document&&"HTML"!==t.scrollParent[0].tagName?(i.axis&&"x"===i.axis||(t.overflowOffset.top+t.scrollParent[0].offsetHeight-e.pageY<i.scrollSensitivity?t.scrollParent[0].scrollTop=n=t.scrollParent[0].scrollTop+i.scrollSpeed:e.pageY-t.overflowOffset.top<i.scrollSensitivity&&(t.scrollParent[0].scrollTop=n=t.scrollParent[0].scrollTop-i.scrollSpeed)),i.axis&&"y"===i.axis||(t.overflowOffset.left+t.scrollParent[0].offsetWidth-e.pageX<i.scrollSensitivity?t.scrollParent[0].scrollLeft=n=t.scrollParent[0].scrollLeft+i.scrollSpeed:e.pageX-t.overflowOffset.left<i.scrollSensitivity&&(t.scrollParent[0].scrollLeft=n=t.scrollParent[0].scrollLeft-i.scrollSpeed))):(i.axis&&"x"===i.axis||(e.pageY-y(document).scrollTop()<i.scrollSensitivity?n=y(document).scrollTop(y(document).scrollTop()-i.scrollSpeed):y(window).height()-(e.pageY-y(document).scrollTop())<i.scrollSensitivity&&(n=y(document).scrollTop(y(document).scrollTop()+i.scrollSpeed))),i.axis&&"y"===i.axis||(e.pageX-y(document).scrollLeft()<i.scrollSensitivity?n=y(document).scrollLeft(y(document).scrollLeft()-i.scrollSpeed):y(window).width()-(e.pageX-y(document).scrollLeft())<i.scrollSensitivity&&(n=y(document).scrollLeft(y(document).scrollLeft()+i.scrollSpeed)))),!1!==n&&y.ui.ddmanager&&!i.dropBehaviour&&y.ui.ddmanager.prepareOffsets(t,e)}}),y.ui.plugin.add("draggable","snap",{start:function(){var i=y(this).data("ui-draggable"),e=i.options;i.snapElements=[],y(e.snap.constructor!==String?e.snap.items||":data(ui-draggable)":e.snap).each(function(){var e=y(this),t=e.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:t.top,left:t.left})})},drag:function(e,t){var i,n,s,a,o,r,l,h,c,u,d=y(this).data("ui-draggable"),p=d.options,f=p.snapTolerance,g=t.offset.left,m=g+d.helperProportions.width,v=t.offset.top,b=v+d.helperProportions.height;for(c=d.snapElements.length-1;0<=c;c--)r=(o=d.snapElements[c].left)+d.snapElements[c].width,h=(l=d.snapElements[c].top)+d.snapElements[c].height,m<o-f||r+f<g||b<l-f||h+f<v||!y.contains(d.snapElements[c].item.ownerDocument,d.snapElements[c].item)?(d.snapElements[c].snapping&&d.options.snap.release&&d.options.snap.release.call(d.element,e,y.extend(d._uiHash(),{snapItem:d.snapElements[c].item})),d.snapElements[c].snapping=!1):("inner"!==p.snapMode&&(i=f>=Math.abs(l-b),n=f>=Math.abs(h-v),s=f>=Math.abs(o-m),a=f>=Math.abs(r-g),i&&(t.position.top=d._convertPositionTo("relative",{top:l-d.helperProportions.height,left:0}).top-d.margins.top),n&&(t.position.top=d._convertPositionTo("relative",{top:h,left:0}).top-d.margins.top),s&&(t.position.left=d._convertPositionTo("relative",{top:0,left:o-d.helperProportions.width}).left-d.margins.left),a&&(t.position.left=d._convertPositionTo("relative",{top:0,left:r}).left-d.margins.left)),u=i||n||s||a,"outer"!==p.snapMode&&(i=f>=Math.abs(l-v),n=f>=Math.abs(h-b),s=f>=Math.abs(o-g),a=f>=Math.abs(r-m),i&&(t.position.top=d._convertPositionTo("relative",{top:l,left:0}).top-d.margins.top),n&&(t.position.top=d._convertPositionTo("relative",{top:h-d.helperProportions.height,left:0}).top-d.margins.top),s&&(t.position.left=d._convertPositionTo("relative",{top:0,left:o}).left-d.margins.left),a&&(t.position.left=d._convertPositionTo("relative",{top:0,left:r-d.helperProportions.width}).left-d.margins.left)),!d.snapElements[c].snapping&&(i||n||s||a||u)&&d.options.snap.snap&&d.options.snap.snap.call(d.element,e,y.extend(d._uiHash(),{snapItem:d.snapElements[c].item})),d.snapElements[c].snapping=i||n||s||a||u)}}),y.ui.plugin.add("draggable","stack",{start:function(){var t,e=this.data("ui-draggable").options,i=y.makeArray(y(e.stack)).sort(function(e,t){return(parseInt(y(e).css("zIndex"),10)||0)-(parseInt(y(t).css("zIndex"),10)||0)});i.length&&(t=parseInt(y(i[0]).css("zIndex"),10)||0,y(i).each(function(e){y(this).css("zIndex",t+e)}),this.css("zIndex",t+i.length))}}),y.ui.plugin.add("draggable","zIndex",{start:function(e,t){var i=y(t.helper),n=y(this).data("ui-draggable").options;i.css("zIndex")&&(n._zIndex=i.css("zIndex")),i.css("zIndex",n.zIndex)},stop:function(e,t){var i=y(this).data("ui-draggable").options;i._zIndex&&y(t.helper).css("zIndex",i._zIndex)}})}(jQuery),function(v){function d(e){return parseInt(e,10)||0}function u(e){return!isNaN(parseInt(e,10))}v.widget("ui.resizable",v.ui.mouse,{version:"1.10.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var e,t,i,n,s=this,a=this.options;if(this.element.addClass("ui-resizable"),v.extend(this,{_aspectRatio:!!a.aspectRatio,aspectRatio:a.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:a.helper||a.ghost||a.animate?a.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(v("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=a.handles||(v(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},t=0;e.length>t;t++)i=v.trim(e[t]),(n=v("<div class='ui-resizable-handle "+("ui-resizable-"+i)+"'></div>")).css({zIndex:a.zIndex}),"se"===i&&n.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[i]=".ui-resizable-"+i,this.element.append(n);this._renderAxis=function(e){var t,i,n,s;for(t in e=e||this.element,this.handles)this.handles[t].constructor===String&&(this.handles[t]=v(this.handles[t],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(i=v(this.handles[t],this.element),s=/sw|ne|nw|se|n|s/.test(t)?i.outerHeight():i.outerWidth(),n=["padding",/ne|nw|n/.test(t)?"Top":/se|sw|s/.test(t)?"Bottom":/^e$/.test(t)?"Right":"Left"].join(""),e.css(n,s),this._proportionallyResize()),v(this.handles[t]).length},this._renderAxis(this.element),this._handles=v(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){s.resizing||(this.className&&(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),s.axis=n&&n[1]?n[1]:"se")}),a.autoHide&&(this._handles.hide(),v(this.element).addClass("ui-resizable-autohide").mouseenter(function(){a.disabled||(v(this).removeClass("ui-resizable-autohide"),s._handles.show())}).mouseleave(function(){a.disabled||s.resizing||(v(this).addClass("ui-resizable-autohide"),s._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();function e(e){v(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()}var t;return this.elementIsWrapper&&(e(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),e(this.originalElement),this},_mouseCapture:function(e){var t,i,n=!1;for(t in this.handles)(i=v(this.handles[t])[0])!==e.target&&!v.contains(i,e.target)||(n=!0);return!this.options.disabled&&n},_mouseStart:function(e){var t,i,n,s=this.options,a=this.element.position(),o=this.element;return this.resizing=!0,/absolute/.test(o.css("position"))?o.css({position:"absolute",top:o.css("top"),left:o.css("left")}):o.is(".ui-draggable")&&o.css({position:"absolute",top:a.top,left:a.left}),this._renderProxy(),t=d(this.helper.css("left")),i=d(this.helper.css("top")),s.containment&&(t+=v(s.containment).scrollLeft()||0,i+=v(s.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:t,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.originalPosition={left:t,top:i},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof s.aspectRatio?s.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=v(".ui-resizable-"+this.axis).css("cursor"),v("body").css("cursor","auto"===n?this.axis+"-resize":n),o.addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var t,i=this.helper,n={},s=this.originalMousePosition,a=this.axis,o=this.position.top,r=this.position.left,l=this.size.width,h=this.size.height,c=e.pageX-s.left||0,u=e.pageY-s.top||0,d=this._change[a];return d&&(t=d.apply(this,[e,c,u]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(t=this._updateRatio(t,e)),t=this._respectSize(t,e),this._updateCache(t),this._propagate("resize",e),this.position.top!==o&&(n.top=this.position.top+"px"),this.position.left!==r&&(n.left=this.position.left+"px"),this.size.width!==l&&(n.width=this.size.width+"px"),this.size.height!==h&&(n.height=this.size.height+"px"),i.css(n),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),v.isEmptyObject(n)||this._trigger("resize",e,this.ui())),!1},_mouseStop:function(e){this.resizing=!1;var t,i,n,s,a,o,r,l=this.options,h=this;return this._helper&&(n=(i=(t=this._proportionallyResizeElements).length&&/textarea/i.test(t[0].nodeName))&&v.ui.hasScroll(t[0],"left")?0:h.sizeDiff.height,s=i?0:h.sizeDiff.width,a={width:h.helper.width()-s,height:h.helper.height()-n},o=parseInt(h.element.css("left"),10)+(h.position.left-h.originalPosition.left)||null,r=parseInt(h.element.css("top"),10)+(h.position.top-h.originalPosition.top)||null,l.animate||this.element.css(v.extend(a,{top:r,left:o})),h.helper.height(h.size.height),h.helper.width(h.size.width),this._helper&&!l.animate&&this._proportionallyResize()),v("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(e){var t,i,n,s,a,o=this.options;a={minWidth:u(o.minWidth)?o.minWidth:0,maxWidth:u(o.maxWidth)?o.maxWidth:1/0,minHeight:u(o.minHeight)?o.minHeight:0,maxHeight:u(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||e)&&(t=a.minHeight*this.aspectRatio,n=a.minWidth/this.aspectRatio,i=a.maxHeight*this.aspectRatio,s=a.maxWidth/this.aspectRatio,t>a.minWidth&&(a.minWidth=t),n>a.minHeight&&(a.minHeight=n),a.maxWidth>i&&(a.maxWidth=i),a.maxHeight>s&&(a.maxHeight=s)),this._vBoundaries=a},_updateCache:function(e){this.offset=this.helper.offset(),u(e.left)&&(this.position.left=e.left),u(e.top)&&(this.position.top=e.top),u(e.height)&&(this.size.height=e.height),u(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,i=this.size,n=this.axis;return u(e.height)?e.width=e.height*this.aspectRatio:u(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===n&&(e.left=t.left+(i.width-e.width),e.top=null),"nw"===n&&(e.top=t.top+(i.height-e.height),e.left=t.left+(i.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,i=this.axis,n=u(e.width)&&t.maxWidth&&t.maxWidth<e.width,s=u(e.height)&&t.maxHeight&&t.maxHeight<e.height,a=u(e.width)&&t.minWidth&&t.minWidth>e.width,o=u(e.height)&&t.minHeight&&t.minHeight>e.height,r=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,h=/sw|nw|w/.test(i),c=/nw|ne|n/.test(i);return a&&(e.width=t.minWidth),o&&(e.height=t.minHeight),n&&(e.width=t.maxWidth),s&&(e.height=t.maxHeight),a&&h&&(e.left=r-t.minWidth),n&&h&&(e.left=r-t.maxWidth),o&&c&&(e.top=l-t.minHeight),s&&c&&(e.top=l-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var e,t,i,n,s,a=this.helper||this.element;for(e=0;this._proportionallyResizeElements.length>e;e++){if(s=this._proportionallyResizeElements[e],!this.borderDif)for(this.borderDif=[],i=[s.css("borderTopWidth"),s.css("borderRightWidth"),s.css("borderBottomWidth"),s.css("borderLeftWidth")],n=[s.css("paddingTop"),s.css("paddingRight"),s.css("paddingBottom"),s.css("paddingLeft")],t=0;t<i.length;t++)this.borderDif[t]=(parseInt(i[t],10)||0)+(parseInt(n[t],10)||0);s.css({height:a.height()-this.borderDif[0]-this.borderDif[2]||0,width:a.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var e=this.element,t=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||v("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++t.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize;return{left:this.originalPosition.left+t,width:i.width-t}},n:function(e,t,i){var n=this.originalSize;return{top:this.originalPosition.top+i,height:n.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(e,t,i){return v.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,t,i]))},sw:function(e,t,i){return v.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,t,i]))},ne:function(e,t,i){return v.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,t,i]))},nw:function(e,t,i){return v.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,t,i]))}},_propagate:function(e,t){v.ui.plugin.call(this,e,[t,this.ui()]),"resize"!==e&&this._trigger(e,t,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),v.ui.plugin.add("resizable","animate",{stop:function(t){var i=v(this).data("ui-resizable"),e=i.options,n=i._proportionallyResizeElements,s=n.length&&/textarea/i.test(n[0].nodeName),a=s&&v.ui.hasScroll(n[0],"left")?0:i.sizeDiff.height,o=s?0:i.sizeDiff.width,r={width:i.size.width-o,height:i.size.height-a},l=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,h=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(v.extend(r,h&&l?{top:h,left:l}:{}),{duration:e.animateDuration,easing:e.animateEasing,step:function(){var e={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};n&&n.length&&v(n[0]).css({width:e.width,height:e.height}),i._updateCache(e),i._propagate("resize",t)}})}}),v.ui.plugin.add("resizable","containment",{start:function(){var i,n,e,t,s,a,o,r=v(this).data("ui-resizable"),l=r.options,h=r.element,c=l.containment,u=c instanceof v?c.get(0):/parent/.test(c)?h.parent().get(0):c;u&&(r.containerElement=v(u),/document/.test(c)||c===document?(r.containerOffset={left:0,top:0},r.containerPosition={left:0,top:0},r.parentData={element:v(document),left:0,top:0,width:v(document).width(),height:v(document).height()||document.body.parentNode.scrollHeight}):(i=v(u),n=[],v(["Top","Right","Left","Bottom"]).each(function(e,t){n[e]=d(i.css("padding"+t))}),r.containerOffset=i.offset(),r.containerPosition=i.position(),r.containerSize={height:i.innerHeight()-n[3],width:i.innerWidth()-n[1]},e=r.containerOffset,t=r.containerSize.height,s=r.containerSize.width,a=v.ui.hasScroll(u,"left")?u.scrollWidth:s,o=v.ui.hasScroll(u)?u.scrollHeight:t,r.parentData={element:u,left:e.left,top:e.top,width:a,height:o}))},resize:function(e){var t,i,n,s,a=v(this).data("ui-resizable"),o=a.options,r=a.containerOffset,l=a.position,h=a._aspectRatio||e.shiftKey,c={top:0,left:0},u=a.containerElement;u[0]!==document&&/static/.test(u.css("position"))&&(c=r),l.left<(a._helper?r.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-r.left:a.position.left-c.left),h&&(a.size.height=a.size.width/a.aspectRatio),a.position.left=o.helper?r.left:0),l.top<(a._helper?r.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-r.top:a.position.top),h&&(a.size.width=a.size.height*a.aspectRatio),a.position.top=a._helper?r.top:0),a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top,t=Math.abs((a._helper,a.offset.left-c.left+a.sizeDiff.width)),i=Math.abs((a._helper?a.offset.top-c.top:a.offset.top-r.top)+a.sizeDiff.height),n=a.containerElement.get(0)===a.element.parent().get(0),s=/relative|absolute/.test(a.containerElement.css("position")),n&&s&&(t-=Math.abs(a.parentData.left)),t+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-t,h&&(a.size.height=a.size.width/a.aspectRatio)),i+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-i,h&&(a.size.width=a.size.height*a.aspectRatio))},stop:function(){var e=v(this).data("ui-resizable"),t=e.options,i=e.containerOffset,n=e.containerPosition,s=e.containerElement,a=v(e.helper),o=a.offset(),r=a.outerWidth()-e.sizeDiff.width,l=a.outerHeight()-e.sizeDiff.height;e._helper&&!t.animate&&/relative/.test(s.css("position"))&&v(this).css({left:o.left-n.left-i.left,width:r,height:l}),e._helper&&!t.animate&&/static/.test(s.css("position"))&&v(this).css({left:o.left-n.left-i.left,width:r,height:l})}}),v.ui.plugin.add("resizable","alsoResize",{start:function(){function t(e){v(e).each(function(){var e=v(this);e.data("ui-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})}var e=v(this).data("ui-resizable").options;"object"!=typeof e.alsoResize||e.alsoResize.parentNode?t(e.alsoResize):e.alsoResize.length?(e.alsoResize=e.alsoResize[0],t(e.alsoResize)):v.each(e.alsoResize,function(e){t(e)})},resize:function(e,a){function i(e,i){v(e).each(function(){var e=v(this),n=v(this).data("ui-resizable-alsoresize"),s={},t=i&&i.length?i:e.parents(a.originalElement[0]).length?["width","height"]:["width","height","top","left"];v.each(t,function(e,t){var i=(n[t]||0)+(r[t]||0);i&&0<=i&&(s[t]=i||null)}),e.css(s)})}var t=v(this).data("ui-resizable"),n=t.options,s=t.originalSize,o=t.originalPosition,r={height:t.size.height-s.height||0,width:t.size.width-s.width||0,top:t.position.top-o.top||0,left:t.position.left-o.left||0};"object"!=typeof n.alsoResize||n.alsoResize.nodeType?i(n.alsoResize):v.each(n.alsoResize,function(e,t){i(e,t)})},stop:function(){v(this).removeData("resizable-alsoresize")}}),v.ui.plugin.add("resizable","ghost",{start:function(){var e=v(this).data("ui-resizable"),t=e.options,i=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof t.ghost?t.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=v(this).data("ui-resizable");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=v(this).data("ui-resizable");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),v.ui.plugin.add("resizable","grid",{resize:function(){var e=v(this).data("ui-resizable"),t=e.options,i=e.size,n=e.originalSize,s=e.originalPosition,a=e.axis,o="number"==typeof t.grid?[t.grid,t.grid]:t.grid,r=o[0]||1,l=o[1]||1,h=Math.round((i.width-n.width)/r)*r,c=Math.round((i.height-n.height)/l)*l,u=n.width+h,d=n.height+c,p=t.maxWidth&&u>t.maxWidth,f=t.maxHeight&&d>t.maxHeight,g=t.minWidth&&t.minWidth>u,m=t.minHeight&&t.minHeight>d;t.grid=o,g&&(u+=r),m&&(d+=l),p&&(u-=r),f&&(d-=l),/^(se|s|e)$/.test(a)?(e.size.width=u,e.size.height=d):/^(ne)$/.test(a)?(e.size.width=u,e.size.height=d,e.position.top=s.top-c):/^(sw)$/.test(a)?(e.size.width=u,e.size.height=d,e.position.left=s.left-h):(0<d-l?(e.size.height=d,e.position.top=s.top-c):(e.size.height=l,e.position.top=s.top+n.height-l),0<u-r?(e.size.width=u,e.position.left=s.left-h):(e.size.width=r,e.position.left=s.left+n.width-r))}})}(jQuery),function(X,l,n){var L=function(h){var j=function(e){function o(e,t){var i=j.defaults.columns,s=e.aoColumns.length;i=h.extend({},j.models.oColumn,i,{sSortingClass:e.oClasses.sSortable,sSortingClassJUI:e.oClasses.sSortJUI,nTh:t||l.createElement("th"),sTitle:i.sTitle?i.sTitle:t?t.innerHTML:"",aDataSort:i.aDataSort?i.aDataSort:[s],mData:i.mData?i.oDefaults:s});e.aoColumns.push(i),e.aoPreSearchCols[s]===n||null===e.aoPreSearchCols[s]?e.aoPreSearchCols[s]=h.extend({},j.models.oSearch):((i=e.aoPreSearchCols[s]).bRegex===n&&(i.bRegex=!0),i.bSmart===n&&(i.bSmart=!0),i.bCaseInsensitive===n&&(i.bCaseInsensitive=!0)),m(e,s,null)}function m(e,t,i){var s=e.aoColumns[t];i!==n&&null!==i&&(i.mDataProp&&!i.mData&&(i.mData=i.mDataProp),i.sType!==n&&(s.sType=i.sType,s._bAutoType=!1),h.extend(s,i),p(s,i,"sWidth","sWidthOrig"),i.iDataSort!==n&&(s.aDataSort=[i.iDataSort]),p(s,i,"aDataSort"));var a=s.mRender?Q(s.mRender):null,o=Q(s.mData);s.fnGetData=function(e,t){var i=o(e,t);return s.mRender&&t&&""!==t?a(i,t,e):i},s.fnSetData=L(s.mData),e.oFeatures.bSort||(s.bSortable=!1),!s.bSortable||-1==h.inArray("asc",s.asSorting)&&-1==h.inArray("desc",s.asSorting)?(s.sSortingClass=e.oClasses.sSortableNone,s.sSortingClassJUI=""):-1==h.inArray("asc",s.asSorting)&&-1==h.inArray("desc",s.asSorting)?(s.sSortingClass=e.oClasses.sSortable,s.sSortingClassJUI=e.oClasses.sSortJUI):-1!=h.inArray("asc",s.asSorting)&&-1==h.inArray("desc",s.asSorting)?(s.sSortingClass=e.oClasses.sSortableAsc,s.sSortingClassJUI=e.oClasses.sSortJUIAscAllowed):-1==h.inArray("asc",s.asSorting)&&-1!=h.inArray("desc",s.asSorting)&&(s.sSortingClass=e.oClasses.sSortableDesc,s.sSortingClassJUI=e.oClasses.sSortJUIDescAllowed)}function k(e){if(!1===e.oFeatures.bAutoWidth)return!1;da(e);for(var t=0,i=e.aoColumns.length;t<i;t++)e.aoColumns[t].nTh.style.width=e.aoColumns[t].sWidth}function G(e,t){var i=r(e,"bVisible");return"number"==typeof i[t]?i[t]:null}function R(e,t){var i=r(e,"bVisible");return-1!==(i=h.inArray(t,i))?i:null}function t(e){return r(e,"bVisible").length}function r(e,i){var n=[];return h.map(e.aoColumns,function(e,t){e[i]&&n.push(t)}),n}function B(e){for(var t=j.ext.aTypes,i=t.length,n=0;n<i;n++){var s=t[n](e);if(null!==s)return s}return"string"}function u(e,t){for(var i=t.split(","),n=[],s=0,a=e.aoColumns.length;s<a;s++)for(var o=0;o<a;o++)if(e.aoColumns[s].sName==i[o]){n.push(o);break}return n}function M(e){for(var t="",i=0,n=e.aoColumns.length;i<n;i++)t+=e.aoColumns[i].sName+",";return t.length==n?"":t.slice(0,-1)}function ta(e,t,i,n){var s,a,r,l,c;if(t)for(s=t.length-1;0<=s;s--){var u=t[s].aTargets;for(h.isArray(u)||D(e,1,"aTargets must be an array of targets, not a "+typeof u),a=0,r=u.length;a<r;a++)if("number"==typeof u[a]&&0<=u[a]){for(;e.aoColumns.length<=u[a];)o(e);n(u[a],t[s])}else if("number"==typeof u[a]&&u[a]<0)n(e.aoColumns.length+u[a],t[s]);else if("string"==typeof u[a])for(l=0,c=e.aoColumns.length;l<c;l++)"_all"!=u[a]&&!h(e.aoColumns[l].nTh).hasClass(u[a])||n(l,t[s])}if(i)for(s=0,e=i.length;s<e;s++)n(s,i[s])}function H(e,t){var i;i=h.isArray(t)?t.slice():h.extend(!0,{},t);var n=e.aoData.length;(a=h.extend(!0,{},j.models.oRow))._aData=i,e.aoData.push(a);for(var s,a=0,o=e.aoColumns.length;a<o;a++)"function"==typeof(i=e.aoColumns[a]).fnRender&&i.bUseRendered&&null!==i.mData?F(e,n,a,S(e,n,a)):F(e,n,a,v(e,n,a)),i._bAutoType&&"string"!=i.sType&&(null!==(s=v(e,n,a,"type"))&&""!==s&&(s=B(s),null===i.sType?i.sType=s:i.sType!=s&&"html"!=i.sType&&(i.sType="string")));return e.aiDisplayMaster.push(n),e.oFeatures.bDeferRender||ea(e,n),n}function ua(e){var t,i,n,s,a,o,r;if(e.bDeferLoading||null===e.sAjaxSource)for(t=e.nTBody.firstChild;t;){if("TR"==t.nodeName.toUpperCase())for(i=e.aoData.length,t._DT_RowIndex=i,e.aoData.push(h.extend(!0,{},j.models.oRow,{nTr:t})),e.aiDisplayMaster.push(i),a=t.firstChild,n=0;a;)"TD"!=(o=a.nodeName.toUpperCase())&&"TH"!=o||(F(e,i,n,h.trim(a.innerHTML)),n++),a=a.nextSibling;t=t.nextSibling}for(n=[],t=0,i=(s=T(e)).length;t<i;t++)for(a=s[t].firstChild;a;)"TD"!=(o=a.nodeName.toUpperCase())&&"TH"!=o||n.push(a),a=a.nextSibling;for(i=0,s=e.aoColumns.length;i<s;i++){null===(r=e.aoColumns[i]).sTitle&&(r.sTitle=r.nTh.innerHTML);var l,c,u=r._bAutoType,d="function"==typeof r.fnRender,p=null!==r.sClass,f=r.bVisible;if(u||d||p||!f)for(o=0,t=e.aoData.length;o<t;o++)a=e.aoData[o],l=n[o*s+i],u&&"string"!=r.sType&&(""!==(c=v(e,o,i,"type"))&&(c=B(c),null===r.sType?r.sType=c:r.sType!=c&&"html"!=r.sType&&(r.sType="string"))),r.mRender?l.innerHTML=v(e,o,i,"display"):r.mData!==i&&(l.innerHTML=v(e,o,i,"display")),d&&(c=S(e,o,i),l.innerHTML=c,r.bUseRendered&&F(e,o,i,c)),p&&(l.className+=" "+r.sClass),f?a._anHidden[i]=null:(a._anHidden[i]=l).parentNode.removeChild(l),r.fnCreatedCell&&r.fnCreatedCell.call(e.oInstance,l,v(e,o,i,"display"),a._aData,o,i)}if(0!==e.aoRowCreatedCallback.length)for(t=0,i=e.aoData.length;t<i;t++)A(e,"aoRowCreatedCallback",null,[(a=e.aoData[t]).nTr,a._aData,t])}function I(e,t){return t._DT_RowIndex!==n?t._DT_RowIndex:null}function fa(e,t,i){t=J(e,t);var n=0;for(e=e.aoColumns.length;n<e;n++)if(t[n]===i)return n;return-1}function Y(e,t,i,n){for(var s=[],a=0,o=n.length;a<o;a++)s.push(v(e,t,n[a],i));return s}function v(e,t,i,s){var a=e.aoColumns[i];if((i=a.fnGetData(e.aoData[t]._aData,s))===n)return e.iDrawError!=e.iDraw&&null===a.sDefaultContent&&(D(e,0,"Requested unknown parameter "+("function"==typeof a.mData?"{mData function}":"'"+a.mData+"'")+" from the data source for row "+t),e.iDrawError=e.iDraw),a.sDefaultContent;if(null===i&&null!==a.sDefaultContent)i=a.sDefaultContent;else if("function"==typeof i)return i();return"display"==s&&null===i?"":i}function F(e,t,i,n){e.aoColumns[i].fnSetData(e.aoData[t]._aData,n)}function Q(s){if(null===s)return function(){return null};if("function"==typeof s)return function(e,t,i){return s(e,t,i)};if("string"!=typeof s||-1===s.indexOf(".")&&-1===s.indexOf("["))return function(e){return e[s]};var l=function(e,t,i){var s,a=i.split(".");if(""!==i){var o=0;for(s=a.length;o<s;o++){if(i=a[o].match(U)){a[o]=a[o].replace(U,""),""!==a[o]&&(e=e[a[o]]),s=[],a.splice(0,o+1);a=a.join("."),o=0;for(var r=e.length;o<r;o++)s.push(l(e[o],t,a));e=""===(e=i[0].substring(1,i[0].length-1))?s:s.join(e);break}if(null===e||e[a[o]]===n)return n;e=e[a[o]]}}return e};return function(e,t){return l(e,t,s)}}function L(i){if(null===i)return function(){};if("function"==typeof i)return function(e,t){i(e,"set",t)};if("string"!=typeof i||-1===i.indexOf(".")&&-1===i.indexOf("["))return function(e,t){e[i]=t};var h=function(e,t,i){var s,a,o=0;for(a=(i=i.split(".")).length-1;o<a;o++){if(s=i[o].match(U)){i[o]=i[o].replace(U,""),e[i[o]]=[],(s=i.slice()).splice(0,o+1),a=s.join(".");for(var r=0,l=t.length;r<l;r++)h(s={},t[r],a),e[i[o]].push(s);return}null!==e[i[o]]&&e[i[o]]!==n||(e[i[o]]={}),e=e[i[o]]}e[i[i.length-1].replace(U,"")]=t};return function(e,t){return h(e,t,i)}}function Z(e){for(var t=[],i=e.aoData.length,n=0;n<i;n++)t.push(e.aoData[n]._aData);return t}function ga(e){e.aoData.splice(0,e.aoData.length),e.aiDisplayMaster.splice(0,e.aiDisplayMaster.length),e.aiDisplay.splice(0,e.aiDisplay.length),y(e)}function ha(e,t){for(var i=-1,n=0,s=e.length;n<s;n++)e[n]==t?i=n:e[n]>t&&e[n]--;-1!=i&&e.splice(i,1)}function S(e,t,i){var n=e.aoColumns[i];return n.fnRender({iDataRow:t,iDataColumn:i,oSettings:e,aData:e.aoData[t]._aData,mDataProp:n.mData},v(e,t,i,"display"))}function ea(e,t){var i,n=e.aoData[t];if(null===n.nTr){n.nTr=l.createElement("tr"),n.nTr._DT_RowIndex=t,n._aData.DT_RowId&&(n.nTr.id=n._aData.DT_RowId),n._aData.DT_RowClass&&(n.nTr.className=n._aData.DT_RowClass);for(var s=0,a=e.aoColumns.length;s<a;s++){var o=e.aoColumns[s];(i=l.createElement(o.sCellType)).innerHTML="function"!=typeof o.fnRender||o.bUseRendered&&null!==o.mData?v(e,t,s,"display"):S(e,t,s),null!==o.sClass&&(i.className=o.sClass),o.bVisible?(n.nTr.appendChild(i),n._anHidden[s]=null):n._anHidden[s]=i,o.fnCreatedCell&&o.fnCreatedCell.call(e.oInstance,i,v(e,t,s,"display"),n._aData,t,s)}A(e,"aoRowCreatedCallback",null,[n.nTr,n._aData,t])}}function va(e){var t,i,n;if(0!==h("th, td",e.nTHead).length)for(t=0,n=e.aoColumns.length;t<n;t++)(i=e.aoColumns[t].nTh).setAttribute("role","columnheader"),e.aoColumns[t].bSortable&&(i.setAttribute("tabindex",e.iTabIndex),i.setAttribute("aria-controls",e.sTableId)),null!==e.aoColumns[t].sClass&&h(i).addClass(e.aoColumns[t].sClass),e.aoColumns[t].sTitle!=i.innerHTML&&(i.innerHTML=e.aoColumns[t].sTitle);else{var s=l.createElement("tr");for(t=0,n=e.aoColumns.length;t<n;t++)(i=e.aoColumns[t].nTh).innerHTML=e.aoColumns[t].sTitle,i.setAttribute("tabindex","0"),null!==e.aoColumns[t].sClass&&h(i).addClass(e.aoColumns[t].sClass),s.appendChild(i);h(e.nTHead).html("")[0].appendChild(s),V(e.aoHeader,e.nTHead)}if(h(e.nTHead).children("tr").attr("role","row"),e.bJUI)for(t=0,n=e.aoColumns.length;t<n;t++){i=e.aoColumns[t].nTh,(s=l.createElement("div")).className=e.oClasses.sSortJUIWrapper,h(i).contents().appendTo(s);var a=l.createElement("span");a.className=e.oClasses.sSortIcon,s.appendChild(a),i.appendChild(s)}if(e.oFeatures.bSort)for(t=0;t<e.aoColumns.length;t++)!1!==e.aoColumns[t].bSortable?ia(e,e.aoColumns[t].nTh,t):h(e.aoColumns[t].nTh).addClass(e.oClasses.sSortableNone);if(""!==e.oClasses.sFooterTH&&h(e.nTFoot).children("tr").children("th").addClass(e.oClasses.sFooterTH),null!==e.nTFoot)for(i=N(e,null,e.aoFooter),t=0,n=e.aoColumns.length;t<n;t++)i[t]&&(e.aoColumns[t].nTf=i[t],e.aoColumns[t].sClass&&h(i[t]).addClass(e.aoColumns[t].sClass))}function W(e,t,i){var s,a,o,r,l=[],h=[],c=e.aoColumns.length;for(i===n&&(i=!1),s=0,a=t.length;s<a;s++){for(l[s]=t[s].slice(),l[s].nTr=t[s].nTr,o=c-1;0<=o;o--)e.aoColumns[o].bVisible||i||l[s].splice(o,1);h.push([])}for(s=0,a=l.length;s<a;s++){if(e=l[s].nTr)for(;o=e.firstChild;)e.removeChild(o);for(o=0,t=l[s].length;o<t;o++)if(r=c=1,h[s][o]===n){for(e.appendChild(l[s][o].cell),h[s][o]=1;l[s+c]!==n&&l[s][o].cell==l[s+c][o].cell;)h[s+c][o]=1,c++;for(;l[s][o+r]!==n&&l[s][o].cell==l[s][o+r].cell;){for(i=0;i<c;i++)h[s+i][o+r]=1;r++}l[s][o].cell.rowSpan=c,l[s][o].cell.colSpan=r}}}function x(e){var i=A(e,"aoPreDrawCallback","preDraw",[e]);if(-1!==h.inArray(!1,i))E(e,!1);else{i=[];var s,a,o=0,r=e.asStripeClasses.length;if(s=e.aoOpenRows.length,e.bDrawing=!0,e.iInitDisplayStart!==n&&-1!=e.iInitDisplayStart&&(e._iDisplayStart=e.oFeatures.bServerSide?e.iInitDisplayStart:e.iInitDisplayStart>=e.fnRecordsDisplay()?0:e.iInitDisplayStart,e.iInitDisplayStart=-1,y(e)),e.bDeferLoading)e.bDeferLoading=!1,e.iDraw++;else if(e.oFeatures.bServerSide){if(!e.bDestroying&&!wa(e))return}else e.iDraw++;if(0!==e.aiDisplay.length){var c=e._iDisplayStart;for(a=e._iDisplayEnd,e.oFeatures.bServerSide&&(c=0,a=e.aoData.length);c<a;c++){var u=e.aoData[e.aiDisplay[c]];null===u.nTr&&ea(e,e.aiDisplay[c]);var d=u.nTr;if(0!==r){var p=e.asStripeClasses[o%r];u._sRowStripe!=p&&(h(d).removeClass(u._sRowStripe).addClass(p),u._sRowStripe=p)}if(A(e,"aoRowCallback",null,[d,e.aoData[e.aiDisplay[c]]._aData,o,c]),i.push(d),o++,0!==s)for(u=0;u<s;u++)if(d==e.aoOpenRows[u].nParent){i.push(e.aoOpenRows[u].nTr);break}}}else i[0]=l.createElement("tr"),e.asStripeClasses[0]&&(i[0].className=e.asStripeClasses[0]),r=(s=e.oLanguage).sZeroRecords,1!=e.iDraw||null===e.sAjaxSource||e.oFeatures.bServerSide?s.sEmptyTable&&0===e.fnRecordsTotal()&&(r=s.sEmptyTable):r=s.sLoadingRecords,(s=l.createElement("td")).setAttribute("valign","top"),s.colSpan=t(e),s.className=e.oClasses.sRowEmpty,s.innerHTML=ja(e,r),i[o].appendChild(s);if(A(e,"aoHeaderCallback","header",[h(e.nTHead).children("tr")[0],Z(e),e._iDisplayStart,e.fnDisplayEnd(),e.aiDisplay]),A(e,"aoFooterCallback","footer",[h(e.nTFoot).children("tr")[0],Z(e),e._iDisplayStart,e.fnDisplayEnd(),e.aiDisplay]),o=l.createDocumentFragment(),s=l.createDocumentFragment(),e.nTBody){if(r=e.nTBody.parentNode,s.appendChild(e.nTBody),!e.oScroll.bInfinite||!e._bInitComplete||e.bSorted||e.bFiltered)for(;s=e.nTBody.firstChild;)e.nTBody.removeChild(s);for(s=0,a=i.length;s<a;s++)o.appendChild(i[s]);e.nTBody.appendChild(o),null!==r&&r.appendChild(e.nTBody)}A(e,"aoDrawCallback","draw",[e]),e.bSorted=!1,e.bFiltered=!1,e.bDrawing=!1,e.oFeatures.bServerSide&&(E(e,!1),e._bInitComplete||$(e))}}function aa(e){e.oFeatures.bSort?O(e,e.oPreviousSearch):e.oFeatures.bFilter?K(e,e.oPreviousSearch):(y(e),x(e))}function xa(e){var t=h("<div></div>")[0];e.nTable.parentNode.insertBefore(t,e.nTable),e.nTableWrapper=h('<div id="'+e.sTableId+'_wrapper" class="'+e.oClasses.sWrapper+'" role="grid"></div>')[0],e.nTableReinsertBefore=e.nTable.nextSibling;for(var i,n,s,a,o,r,l,c=e.nTableWrapper,u=e.sDom.split(""),d=0;d<u.length;d++){if(n=0,"<"==(s=u[d])){if(a=h("<div></div>")[0],"'"==(o=u[d+1])||'"'==o){for(r="",l=2;u[d+l]!=o;)r+=u[d+l],l++;"H"==r?r=e.oClasses.sJUIHeader:"F"==r&&(r=e.oClasses.sJUIFooter),-1!=r.indexOf(".")?(o=r.split("."),a.id=o[0].substr(1,o[0].length-1),a.className=o[1]):"#"==r.charAt(0)?a.id=r.substr(1,r.length-1):a.className=r,d+=l}c.appendChild(a),c=a}else if(">"==s)c=c.parentNode;else if("l"==s&&e.oFeatures.bPaginate&&e.oFeatures.bLengthChange)i=ya(e),n=1;else if("f"==s&&e.oFeatures.bFilter)i=za(e),n=1;else if("r"==s&&e.oFeatures.bProcessing)i=Aa(e),n=1;else if("t"==s)i=Ba(e),n=1;else if("i"==s&&e.oFeatures.bInfo)i=Ca(e),n=1;else if("p"==s&&e.oFeatures.bPaginate)i=Da(e),n=1;else if(0!==j.ext.aoFeatures.length)for(l=0,o=(a=j.ext.aoFeatures).length;l<o;l++)if(s==a[l].cFeature){(i=a[l].fnInit(e))&&(n=1);break}1==n&&null!==i&&("object"!=typeof e.aanFeatures[s]&&(e.aanFeatures[s]=[]),e.aanFeatures[s].push(i),c.appendChild(i))}t.parentNode.replaceChild(e.nTableWrapper,t)}function V(e,t){var i,n,s,a,o,r,l,c,u,d,p=h(t).children("tr");for(e.splice(0,e.length),s=0,r=p.length;s<r;s++)e.push([]);for(s=0,r=p.length;s<r;s++)for(n=(i=p[s]).firstChild;n;){if("TD"==n.nodeName.toUpperCase()||"TH"==n.nodeName.toUpperCase()){for(c=(c=1*n.getAttribute("colspan"))&&0!==c&&1!==c?c:1,u=(u=1*n.getAttribute("rowspan"))&&0!==u&&1!==u?u:1,a=0,o=e[s];o[a];)a++;for(l=a,d=1===c,o=0;o<c;o++)for(a=0;a<u;a++)e[s+a][l+o]={cell:n,unique:d},e[s+a].nTr=i}n=n.nextSibling}}function N(e,t,i){var n=[];i||(i=e.aoHeader,t&&V(i=[],t));t=0;for(var s=i.length;t<s;t++)for(var a=0,o=i[t].length;a<o;a++)!i[t][a].unique||n[a]&&e.bSortCellsTop||(n[a]=i[t][a].cell);return n}function wa(t){if(t.bAjaxDataGet){t.iDraw++,E(t,!0);var e=Ea(t);return ka(t,e),t.fnServerData.call(t.oInstance,t.sAjaxSource,e,function(e){Fa(t,e)},t),!1}return!0}function Ea(e){var t,i,n,s,a=e.aoColumns.length,o=[];for(o.push({name:"sEcho",value:e.iDraw}),o.push({name:"iColumns",value:a}),o.push({name:"sColumns",value:M(e)}),o.push({name:"iDisplayStart",value:e._iDisplayStart}),o.push({name:"iDisplayLength",value:!1!==e.oFeatures.bPaginate?e._iDisplayLength:-1}),n=0;n<a;n++)t=e.aoColumns[n].mData,o.push({name:"mDataProp_"+n,value:"function"==typeof t?"function":t});if(!1!==e.oFeatures.bFilter)for(o.push({name:"sSearch",value:e.oPreviousSearch.sSearch}),o.push({name:"bRegex",value:e.oPreviousSearch.bRegex}),n=0;n<a;n++)o.push({name:"sSearch_"+n,value:e.aoPreSearchCols[n].sSearch}),o.push({name:"bRegex_"+n,value:e.aoPreSearchCols[n].bRegex}),o.push({name:"bSearchable_"+n,value:e.aoColumns[n].bSearchable});if(!1!==e.oFeatures.bSort){var r=0;for(t=null!==e.aaSortingFixed?e.aaSortingFixed.concat(e.aaSorting):e.aaSorting.slice(),n=0;n<t.length;n++)for(i=e.aoColumns[t[n][0]].aDataSort,s=0;s<i.length;s++)o.push({name:"iSortCol_"+r,value:i[s]}),o.push({name:"sSortDir_"+r,value:t[n][1]}),r++;for(o.push({name:"iSortingCols",value:r}),n=0;n<a;n++)o.push({name:"bSortable_"+n,value:e.aoColumns[n].bSortable})}return o}function ka(e,t){A(e,"aoServerParams","serverParams",[t])}function Fa(e,t){if(t.sEcho!==n){if(1*t.sEcho<e.iDraw)return;e.iDraw=1*t.sEcho}(!e.oScroll.bInfinite||e.oScroll.bInfinite&&(e.bSorted||e.bFiltered))&&ga(e),e._iRecordsTotal=parseInt(t.iTotalRecords,10),e._iRecordsDisplay=parseInt(t.iTotalDisplayRecords,10);var i,s=M(e);(s=t.sColumns!==n&&""!==s&&t.sColumns!=s)&&(i=u(e,t.sColumns));for(var a=Q(e.sAjaxDataProp)(t),o=0,r=a.length;o<r;o++)if(s){for(var l=[],h=0,c=e.aoColumns.length;h<c;h++)l.push(a[o][i[h]]);H(e,l)}else H(e,a[o]);e.aiDisplay=e.aiDisplayMaster.slice(),e.bAjaxDataGet=!1,x(e),e.bAjaxDataGet=!0,E(e,!1)}function za(s){var a=s.oPreviousSearch,e=-1!==(e=s.oLanguage.sSearch).indexOf("_INPUT_")?e.replace("_INPUT_",'<input type="text" />'):""===e?'<input type="text" />':e+' <input type="text" />',t=l.createElement("div");return t.className=s.oClasses.sFilter,t.innerHTML="<label>"+e+"</label>",s.aanFeatures.f||(t.id=s.sTableId+"_filter"),e=h('input[type="text"]',t),t._DT_Input=e[0],e.val(a.sSearch.replace('"',"&quot;")),e.bind("keyup.DT",function(){for(var e=s.aanFeatures.f,t=""===this.value?"":this.value,i=0,n=e.length;i<n;i++)e[i]!=h(this).parents("div.dataTables_filter")[0]&&h(e[i]._DT_Input).val(t);t!=a.sSearch&&K(s,{sSearch:t,bRegex:a.bRegex,bSmart:a.bSmart,bCaseInsensitive:a.bCaseInsensitive})}),e.attr("aria-controls",s.sTableId).bind("keypress.DT",function(e){if(13==e.keyCode)return!1}),t}function K(e,t,i){function n(e){s.sSearch=e.sSearch,s.bRegex=e.bRegex,s.bSmart=e.bSmart,s.bCaseInsensitive=e.bCaseInsensitive}var s=e.oPreviousSearch,a=e.aoPreSearchCols;if(e.oFeatures.bServerSide)n(t);else{for(Ga(e,t.sSearch,i,t.bRegex,t.bSmart,t.bCaseInsensitive),n(t),t=0;t<e.aoPreSearchCols.length;t++)Ha(e,a[t].sSearch,t,a[t].bRegex,a[t].bSmart,a[t].bCaseInsensitive);Ia(e)}e.bFiltered=!0,h(e.oInstance).trigger("filter",e),e._iDisplayStart=0,y(e),x(e),la(e,0)}function Ia(e){for(var t=j.ext.afnFiltering,i=r(e,"bSearchable"),n=0,s=t.length;n<s;n++)for(var a=0,o=0,l=e.aiDisplay.length;o<l;o++){var h=e.aiDisplay[o-a];t[n](e,Y(e,h,"filter",i),h)||(e.aiDisplay.splice(o-a,1),a++)}}function Ha(e,t,i,n,s,a){if(""!==t)for(t=ma(t,n,s,a),n=e.aiDisplay.length-1;0<=n;n--)s=Ja(v(e,e.aiDisplay[n],i,"filter"),e.aoColumns[i].sType),t.test(s)||(e.aiDisplay.splice(n,1),0)}function Ga(e,t,i,n,s,a){if(n=ma(t,n,s,a),s=e.oPreviousSearch,i=i||0,0!==j.ext.afnFiltering.length&&(i=1),t.length<=0)e.aiDisplay.splice(0,e.aiDisplay.length),e.aiDisplay=e.aiDisplayMaster.slice();else if(e.aiDisplay.length==e.aiDisplayMaster.length||s.sSearch.length>t.length||1==i||0!==t.indexOf(s.sSearch))for(e.aiDisplay.splice(0,e.aiDisplay.length),la(e,1),t=0;t<e.aiDisplayMaster.length;t++)n.test(e.asDataSearch[t])&&e.aiDisplay.push(e.aiDisplayMaster[t]);else for(t=i=0;t<e.asDataSearch.length;t++)n.test(e.asDataSearch[t])||(e.aiDisplay.splice(t-i,1),i++)}function la(e,t){if(!e.oFeatures.bServerSide){e.asDataSearch=[];for(var i=r(e,"bSearchable"),n=1===t?e.aiDisplayMaster:e.aiDisplay,s=0,a=n.length;s<a;s++)e.asDataSearch[s]=na(e,Y(e,n[s],"filter",i))}}function na(e,t){var i=t.join("  ");return-1!==i.indexOf("&")&&(i=h("<div>").html(i).text()),i.replace(/[\n\r]/g," ")}function ma(e,t,i,n){return e=i?"^(?=.*?"+(e=t?e.split(" "):oa(e).split(" ")).join(")(?=.*?")+").*$":t?e:oa(e),RegExp(e,n?"i":"")}function Ja(e,t){return"function"==typeof j.ext.ofnSearch[t]?j.ext.ofnSearch[t](e):null===e?"":"html"==t?e.replace(/[\r\n]/g," ").replace(/<.*?>/g,""):"string"==typeof e?e.replace(/[\r\n]/g," "):e}function oa(e){return e.replace(RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^|\\-)","g"),"\\$1")}function Ca(e){var t=l.createElement("div");return t.className=e.oClasses.sInfo,e.aanFeatures.i||(e.aoDrawCallback.push({fn:Ka,sName:"information"}),t.id=e.sTableId+"_info"),e.nTable.setAttribute("aria-describedby",e.sTableId+"_info"),t}function Ka(e){if(e.oFeatures.bInfo&&0!==e.aanFeatures.i.length){var t,i=e.oLanguage,n=e._iDisplayStart+1,s=e.fnDisplayEnd(),a=e.fnRecordsTotal(),o=e.fnRecordsDisplay();for(t=0===o?i.sInfoEmpty:i.sInfo,o!=a&&(t+=" "+i.sInfoFiltered),t=ja(e,t+=i.sInfoPostFix),null!==i.fnInfoCallback&&(t=i.fnInfoCallback.call(e.oInstance,e,n,s,a,o,t)),i=0,n=(e=e.aanFeatures.i).length;i<n;i++)h(e[i]).html(t)}}function ja(e,t){var i=e.fnFormatNumber(e._iDisplayStart+1),n=e.fnDisplayEnd(),s=(n=e.fnFormatNumber(n),e.fnRecordsDisplay()),a=(s=e.fnFormatNumber(s),e.fnRecordsTotal());a=e.fnFormatNumber(a);return e.oScroll.bInfinite&&(i=e.fnFormatNumber(1)),t.replace(/_START_/g,i).replace(/_END_/g,n).replace(/_TOTAL_/g,s).replace(/_MAX_/g,a)}function ba(i){var n,e,s=i.iInitDisplayStart;if(!1===i.bInitialised)setTimeout(function(){ba(i)},200);else{for(xa(i),va(i),W(i,i.aoHeader),i.nTFoot&&W(i,i.aoFooter),E(i,!0),i.oFeatures.bAutoWidth&&da(i),n=0,e=i.aoColumns.length;n<e;n++)null!==i.aoColumns[n].sWidth&&(i.aoColumns[n].nTh.style.width=q(i.aoColumns[n].sWidth));i.oFeatures.bSort?O(i):i.oFeatures.bFilter?K(i,i.oPreviousSearch):(i.aiDisplay=i.aiDisplayMaster.slice(),y(i),x(i)),null===i.sAjaxSource||i.oFeatures.bServerSide?i.oFeatures.bServerSide||(E(i,!1),$(i)):(ka(i,e=[]),i.fnServerData.call(i.oInstance,i.sAjaxSource,e,function(e){var t=""!==i.sAjaxDataProp?Q(i.sAjaxDataProp)(e):e;for(n=0;n<t.length;n++)H(i,t[n]);i.iInitDisplayStart=s,i.oFeatures.bSort?O(i):(i.aiDisplay=i.aiDisplayMaster.slice(),y(i),x(i)),E(i,!1),$(i,e)},i))}}function $(e,t){e._bInitComplete=!0,A(e,"aoInitComplete","init",[e,t])}function pa(e){var t=j.defaults.oLanguage;!e.sEmptyTable&&e.sZeroRecords&&"No data available in table"===t.sEmptyTable&&p(e,e,"sZeroRecords","sEmptyTable"),!e.sLoadingRecords&&e.sZeroRecords&&"Loading..."===t.sLoadingRecords&&p(e,e,"sZeroRecords","sLoadingRecords")}function ya(i){if(i.oScroll.bInfinite)return null;var n,s,e='<select size="1" name="'+i.sTableId+'_length">',t=i.aLengthMenu;if(2==t.length&&"object"==typeof t[0]&&"object"==typeof t[1])for(s=t[n=0].length;n<s;n++)e+='<option value="'+t[0][n]+'">'+t[1][n]+"</option>";else for(n=0,s=t.length;n<s;n++)e+='<option value="'+t[n]+'">'+t[n]+"</option>";return e+="</select>",t=l.createElement("div"),i.aanFeatures.l||(t.id=i.sTableId+"_length"),t.className=i.oClasses.sLength,t.innerHTML="<label>"+i.oLanguage.sLengthMenu.replace("_MENU_",e)+"</label>",h('select option[value="'+i._iDisplayLength+'"]',t).attr("selected",!0),h("select",t).bind("change.DT",function(){var e=h(this).val(),t=i.aanFeatures.l;for(n=0,s=t.length;n<s;n++)t[n]!=this.parentNode&&h("select",t[n]).val(e);i._iDisplayLength=parseInt(e,10),y(i),i.fnDisplayEnd()==i.fnRecordsDisplay()&&(i._iDisplayStart=i.fnDisplayEnd()-i._iDisplayLength,i._iDisplayStart<0&&(i._iDisplayStart=0)),-1==i._iDisplayLength&&(i._iDisplayStart=0),x(i)}),h("select",t).attr("aria-controls",i.sTableId),t}function y(e){e._iDisplayEnd=!1===e.oFeatures.bPaginate?e.aiDisplay.length:e._iDisplayStart+e._iDisplayLength>e.aiDisplay.length||-1==e._iDisplayLength?e.aiDisplay.length:e._iDisplayStart+e._iDisplayLength}function Da(e){if(e.oScroll.bInfinite)return null;var t=l.createElement("div");return t.className=e.oClasses.sPaging+e.sPaginationType,j.ext.oPagination[e.sPaginationType].fnInit(e,t,function(e){y(e),x(e)}),e.aanFeatures.p||e.aoDrawCallback.push({fn:function(e){j.ext.oPagination[e.sPaginationType].fnUpdate(e,function(e){y(e),x(e)})},sName:"pagination"}),t}function qa(e,t){var i=e._iDisplayStart;if("number"==typeof t)e._iDisplayStart=t*e._iDisplayLength,e._iDisplayStart>e.fnRecordsDisplay()&&(e._iDisplayStart=0);else if("first"==t)e._iDisplayStart=0;else if("previous"==t)e._iDisplayStart=0<=e._iDisplayLength?e._iDisplayStart-e._iDisplayLength:0,e._iDisplayStart<0&&(e._iDisplayStart=0);else if("next"==t)0<=e._iDisplayLength?e._iDisplayStart+e._iDisplayLength<e.fnRecordsDisplay()&&(e._iDisplayStart+=e._iDisplayLength):e._iDisplayStart=0;else if("last"==t)if(0<=e._iDisplayLength){var n=parseInt((e.fnRecordsDisplay()-1)/e._iDisplayLength,10)+1;e._iDisplayStart=(n-1)*e._iDisplayLength}else e._iDisplayStart=0;else D(e,0,"Unknown paging action: "+t);return h(e.oInstance).trigger("page",e),i!=e._iDisplayStart}function Aa(e){var t=l.createElement("div");return e.aanFeatures.r||(t.id=e.sTableId+"_processing"),t.innerHTML=e.oLanguage.sProcessing,t.className=e.oClasses.sProcessing,e.nTable.parentNode.insertBefore(t,e.nTable),t}function E(e,t){if(e.oFeatures.bProcessing)for(var i=e.aanFeatures.r,n=0,s=i.length;n<s;n++)i[n].style.visibility=t?"visible":"hidden";h(e.oInstance).trigger("processing",[e,t])}function Ba(e){if(""===e.oScroll.sX&&""===e.oScroll.sY)return e.nTable;var t=l.createElement("div"),i=l.createElement("div"),n=l.createElement("div"),s=l.createElement("div"),a=l.createElement("div"),o=l.createElement("div"),r=e.nTable.cloneNode(!1),c=e.nTable.cloneNode(!1),u=e.nTable.getElementsByTagName("thead")[0],d=0===e.nTable.getElementsByTagName("tfoot").length?null:e.nTable.getElementsByTagName("tfoot")[0],p=e.oClasses;return i.appendChild(n),a.appendChild(o),s.appendChild(e.nTable),t.appendChild(i),t.appendChild(s),n.appendChild(r),r.appendChild(u),null!==d&&(t.appendChild(a),o.appendChild(c),c.appendChild(d)),t.className=p.sScrollWrapper,i.className=p.sScrollHead,n.className=p.sScrollHeadInner,s.className=p.sScrollBody,a.className=p.sScrollFoot,o.className=p.sScrollFootInner,e.oScroll.bAutoCss&&(i.style.overflow="hidden",i.style.position="relative",a.style.overflow="hidden",s.style.overflow="auto"),i.style.border="0",i.style.width="100%",a.style.border="0",n.style.width=""!==e.oScroll.sXInner?e.oScroll.sXInner:"100%",r.removeAttribute("id"),r.style.marginLeft="0",e.nTable.style.marginLeft="0",null!==d&&(c.removeAttribute("id"),c.style.marginLeft="0"),0<(n=h(e.nTable).children("caption")).length&&("top"===(n=n[0])._captionSide?r.appendChild(n):"bottom"===n._captionSide&&d&&c.appendChild(n)),""!==e.oScroll.sX&&(i.style.width=q(e.oScroll.sX),s.style.width=q(e.oScroll.sX),null!==d&&(a.style.width=q(e.oScroll.sX)),h(s).scroll(function(){i.scrollLeft=this.scrollLeft,null!==d&&(a.scrollLeft=this.scrollLeft)})),""!==e.oScroll.sY&&(s.style.height=q(e.oScroll.sY)),e.aoDrawCallback.push({fn:La,sName:"scrolling"}),e.oScroll.bInfinite&&h(s).scroll(function(){!e.bDrawing&&0!==h(this).scrollTop()&&h(this).scrollTop()+h(this).height()>h(e.nTable).height()-e.oScroll.iLoadGap&&e.fnDisplayEnd()<e.fnRecordsDisplay()&&(qa(e,"next"),y(e),x(e))}),e.nScrollHead=i,e.nScrollFoot=a,t}function La(e){function t(e){(l=e.style).paddingTop="0",l.paddingBottom="0",l.borderTopWidth="0",l.borderBottomWidth="0",l.height=0}var i,n,s,a,o,r,l,c,u=e.nScrollHead.getElementsByTagName("div")[0],d=u.getElementsByTagName("table")[0],p=e.nTable.parentNode,f=[],g=[],m=null!==e.nTFoot?e.nScrollFoot.getElementsByTagName("div")[0]:null,v=null!==e.nTFoot?m.getElementsByTagName("table")[0]:null,b=e.oBrowser.bScrollOversize;h(e.nTable).children("thead, tfoot").remove(),i=h(e.nTHead).clone()[0],e.nTable.insertBefore(i,e.nTable.childNodes[0]),s=e.nTHead.getElementsByTagName("tr"),a=i.getElementsByTagName("tr"),null!==e.nTFoot&&(o=h(e.nTFoot).clone()[0],e.nTable.insertBefore(o,e.nTable.childNodes[1]),r=e.nTFoot.getElementsByTagName("tr"),o=o.getElementsByTagName("tr")),""===e.oScroll.sX&&(p.style.width="100%",u.parentNode.style.width="100%");var y=N(e,i);for(i=0,n=y.length;i<n;i++)c=G(e,i),y[i].style.width=e.aoColumns[c].sWidth;null!==e.nTFoot&&C(function(e){e.style.width=""},o),e.oScroll.bCollapse&&""!==e.oScroll.sY&&(p.style.height=p.offsetHeight+e.nTHead.offsetHeight+"px"),i=h(e.nTable).outerWidth(),""===e.oScroll.sX?(e.nTable.style.width="100%",b&&(h("tbody",p).height()>p.offsetHeight||"scroll"==h(p).css("overflow-y"))&&(e.nTable.style.width=q(h(e.nTable).outerWidth()-e.oScroll.iBarWidth))):""!==e.oScroll.sXInner?e.nTable.style.width=q(e.oScroll.sXInner):i==h(p).width()&&h(p).height()<h(e.nTable).height()?(e.nTable.style.width=q(i-e.oScroll.iBarWidth),h(e.nTable).outerWidth()>i-e.oScroll.iBarWidth&&(e.nTable.style.width=q(i))):e.nTable.style.width=q(i),i=h(e.nTable).outerWidth(),C(t,a),C(function(e){f.push(q(h(e).width()))},a),C(function(e,t){e.style.width=f[t]},s),h(a).height(0),null!==e.nTFoot&&(C(t,o),C(function(e){g.push(q(h(e).width()))},o),C(function(e,t){e.style.width=g[t]},r),h(o).height(0)),C(function(e,t){e.innerHTML="",e.style.width=f[t]},a),null!==e.nTFoot&&C(function(e,t){e.innerHTML="",e.style.width=g[t]},o),h(e.nTable).outerWidth()<i?(s=p.scrollHeight>p.offsetHeight||"scroll"==h(p).css("overflow-y")?i+e.oScroll.iBarWidth:i,b&&(p.scrollHeight>p.offsetHeight||"scroll"==h(p).css("overflow-y"))&&(e.nTable.style.width=q(s-e.oScroll.iBarWidth)),p.style.width=q(s),e.nScrollHead.style.width=q(s),null!==e.nTFoot&&(e.nScrollFoot.style.width=q(s)),""===e.oScroll.sX?D(e,1,"The table cannot fit into the current element which will cause column misalignment. The table has been drawn at its minimum possible width."):""!==e.oScroll.sXInner&&D(e,1,"The table cannot fit into the current element which will cause column misalignment. Increase the sScrollXInner value or remove it to allow automatic calculation")):(p.style.width=q("100%"),e.nScrollHead.style.width=q("100%"),null!==e.nTFoot&&(e.nScrollFoot.style.width=q("100%"))),""===e.oScroll.sY&&b&&(p.style.height=q(e.nTable.offsetHeight+e.oScroll.iBarWidth)),""!==e.oScroll.sY&&e.oScroll.bCollapse&&(p.style.height=q(e.oScroll.sY),b=""!==e.oScroll.sX&&e.nTable.offsetWidth>p.offsetWidth?e.oScroll.iBarWidth:0,e.nTable.offsetHeight<p.offsetHeight&&(p.style.height=q(e.nTable.offsetHeight+b))),b=h(e.nTable).outerWidth(),d.style.width=q(b),u.style.width=q(b),d=h(e.nTable).height()>p.clientHeight||"scroll"==h(p).css("overflow-y"),u.style.paddingRight=d?e.oScroll.iBarWidth+"px":"0px",null!==e.nTFoot&&(v.style.width=q(b),m.style.width=q(b),m.style.paddingRight=d?e.oScroll.iBarWidth+"px":"0px"),h(p).scroll(),(e.bSorted||e.bFiltered)&&(p.scrollTop=0)}function C(e,t,i){for(var n,s,a=0,o=0,r=t.length;o<r;){for(n=t[o].firstChild,s=i?i[o].firstChild:null;n;)1===n.nodeType&&(i?e(n,s,a):e(n,a),a++),n=n.nextSibling,s=i?s.nextSibling:null;o++}}function Ma(e,t){if(!e||null===e||""===e)return 0;t=t||l.body;var i,n=l.createElement("div");return n.style.width=q(e),t.appendChild(n),i=n.offsetWidth,t.removeChild(n),i}function da(e){var t,i,n,s=0,a=0,o=e.aoColumns.length,r=h("th",e.nTHead),c=e.nTable.getAttribute("width");for(n=e.nTable.parentNode,i=0;i<o;i++)e.aoColumns[i].bVisible&&(a++,null!==e.aoColumns[i].sWidth&&(null!==(t=Ma(e.aoColumns[i].sWidthOrig,n))&&(e.aoColumns[i].sWidth=q(t)),s++));if(o==r.length&&0===s&&a==o&&""===e.oScroll.sX&&""===e.oScroll.sY)for(i=0;i<e.aoColumns.length;i++)null!==(t=h(r[i]).width())&&(e.aoColumns[i].sWidth=q(t));else{for(s=e.nTable.cloneNode(!1),i=e.nTHead.cloneNode(!0),a=l.createElement("tbody"),t=l.createElement("tr"),s.removeAttribute("id"),s.appendChild(i),null!==e.nTFoot&&(s.appendChild(e.nTFoot.cloneNode(!0)),C(function(e){e.style.width=""},s.getElementsByTagName("tr"))),s.appendChild(a),a.appendChild(t),0===(a=h("thead th",s)).length&&(a=h("tbody tr:eq(0)>td",s)),r=N(e,i),i=a=0;i<o;i++){var u=e.aoColumns[i];u.bVisible&&null!==u.sWidthOrig&&""!==u.sWidthOrig?r[i-a].style.width=q(u.sWidthOrig):u.bVisible?r[i-a].style.width="":a++}for(i=0;i<o;i++)e.aoColumns[i].bVisible&&(null!==(a=Na(e,i))&&(a=a.cloneNode(!0),""!==e.aoColumns[i].sContentPadding&&(a.innerHTML+=e.aoColumns[i].sContentPadding),t.appendChild(a)));if(n.appendChild(s),""!==e.oScroll.sX&&""!==e.oScroll.sXInner?s.style.width=q(e.oScroll.sXInner):""!==e.oScroll.sX?(s.style.width="",h(s).width()<n.offsetWidth&&(s.style.width=q(n.offsetWidth))):""!==e.oScroll.sY?s.style.width=q(n.offsetWidth):c&&(s.style.width=q(c)),s.style.visibility="hidden",Oa(e,s),0===(o=h("tbody tr:eq(0)",s).children()).length&&(o=N(e,h("thead",s)[0])),""!==e.oScroll.sX){for(i=a=n=0;i<e.aoColumns.length;i++)e.aoColumns[i].bVisible&&(n=null===e.aoColumns[i].sWidthOrig?n+h(o[a]).outerWidth():n+(parseInt(e.aoColumns[i].sWidth.replace("px",""),10)+(h(o[a]).outerWidth()-h(o[a]).width())),a++);s.style.width=q(n),e.nTable.style.width=q(n)}for(i=a=0;i<e.aoColumns.length;i++)e.aoColumns[i].bVisible&&(null!==(n=h(o[a]).width())&&0<n&&(e.aoColumns[i].sWidth=q(n)),a++);o=h(s).css("width"),e.nTable.style.width=-1!==o.indexOf("%")?o:q(h(s).outerWidth()),s.parentNode.removeChild(s)}c&&(e.nTable.style.width=q(c))}function Oa(e,t){""===e.oScroll.sX&&""!==e.oScroll.sY?(h(t).width(),t.style.width=q(h(t).outerWidth()-e.oScroll.iBarWidth)):""!==e.oScroll.sX&&(t.style.width=q(h(t).outerWidth()))}function Na(e,t){var i=Pa(e,t);if(i<0)return null;if(null!==e.aoData[i].nTr)return J(e,i)[t];var n=l.createElement("td");return n.innerHTML=v(e,i,t,""),n}function Pa(e,t){for(var i=-1,n=-1,s=0;s<e.aoData.length;s++){var a;(a=(a=v(e,s,t,"display")+"").replace(/<.*?>/g,"")).length>i&&(i=a.length,n=s)}return n}function q(e){if(null===e)return"0px";if("number"==typeof e)return e<0?"0px":e+"px";var t=e.charCodeAt(e.length-1);return t<48||57<t?e:e+"px"}function Qa(){var e=l.createElement("p");(t=e.style).width="100%",t.height="200px",t.padding="0px";var t,i=l.createElement("div");return(t=i.style).position="absolute",t.top="0px",t.left="0px",t.visibility="hidden",t.width="200px",t.height="150px",t.padding="0px",t.overflow="hidden",i.appendChild(e),l.body.appendChild(i),t=e.offsetWidth,i.style.overflow="scroll",t==(e=e.offsetWidth)&&(e=i.clientWidth),l.body.removeChild(i),t-e}function O(e,t){var i,s,a,o,r,l,c=[],u=[],d=j.ext.oSort,p=e.aoData,f=e.aoColumns,g=e.oLanguage.oAria;if(!e.oFeatures.bServerSide&&(0!==e.aaSorting.length||null!==e.aaSortingFixed)){for(c=null!==e.aaSortingFixed?e.aaSortingFixed.concat(e.aaSorting):e.aaSorting.slice(),i=0;i<c.length;i++)if(a=R(e,s=c[i][0]),o=e.aoColumns[s].sSortDataType,j.ext.afnSortData[o])if((r=j.ext.afnSortData[o].call(e.oInstance,e,s,a)).length===p.length)for(a=0,o=p.length;a<o;a++)F(e,a,s,r[a]);else D(e,0,"Returned data sort array (col "+s+") is the wrong length");for(i=0,s=e.aiDisplayMaster.length;i<s;i++)u[e.aiDisplayMaster[i]]=i;var m,b=c.length;for(i=0,s=p.length;i<s;i++)for(a=0;a<b;a++)for(r=0,l=(m=f[c[a][0]].aDataSort).length;r<l;r++)o=f[m[r]].sType,o=d[(o||"string")+"-pre"],p[i]._aSortData[m[r]]=o?o(v(e,i,m[r],"sort")):v(e,i,m[r],"sort");e.aiDisplayMaster.sort(function(e,t){var i,n,s,a,o;for(i=0;i<b;i++)for(n=0,s=(o=f[c[i][0]].aDataSort).length;n<s;n++)if(a=f[o[n]].sType,0!==(a=d[(a||"string")+"-"+c[i][1]](p[e]._aSortData[o[n]],p[t]._aSortData[o[n]])))return a;return d["numeric-asc"](u[e],u[t])})}for(t!==n&&!t||e.oFeatures.bDeferRender||P(e),i=0,s=e.aoColumns.length;i<s;i++)o=f[i].sTitle.replace(/<.*?>/g,""),(a=f[i].nTh).removeAttribute("aria-sort"),a.removeAttribute("aria-label"),f[i].bSortable?0<c.length&&c[0][0]==i?(a.setAttribute("aria-sort","asc"==c[0][1]?"ascending":"descending"),a.setAttribute("aria-label",o+("asc"==(f[i].asSorting[c[0][2]+1]?f[i].asSorting[c[0][2]+1]:f[i].asSorting[0])?g.sSortAscending:g.sSortDescending))):a.setAttribute("aria-label",o+("asc"==f[i].asSorting[0]?g.sSortAscending:g.sSortDescending)):a.setAttribute("aria-label",o);e.bSorted=!0,h(e.oInstance).trigger("sort",e),e.oFeatures.bFilter?K(e,e.oPreviousSearch,1):(e.aiDisplay=e.aiDisplayMaster.slice(),e._iDisplayStart=0,y(e),x(e))}function ia(a,e,o,t){Ra(e,{},function(s){if(!1!==a.aoColumns[o].bSortable){function e(){var e,t;if(s.shiftKey){for(var i=!1,n=0;n<a.aaSorting.length;n++)if(a.aaSorting[n][0]==o){i=!0,e=a.aaSorting[n][0],t=a.aaSorting[n][2]+1,a.aoColumns[e].asSorting[t]?(a.aaSorting[n][1]=a.aoColumns[e].asSorting[t],a.aaSorting[n][2]=t):a.aaSorting.splice(n,1);break}!1===i&&a.aaSorting.push([o,a.aoColumns[o].asSorting[0],0])}else 1==a.aaSorting.length&&a.aaSorting[0][0]==o?(e=a.aaSorting[0][0],t=a.aaSorting[0][2]+1,a.aoColumns[e].asSorting[t]||(t=0),a.aaSorting[0][1]=a.aoColumns[e].asSorting[t],a.aaSorting[0][2]=t):(a.aaSorting.splice(0,a.aaSorting.length),a.aaSorting.push([o,a.aoColumns[o].asSorting[0],0]));O(a)}a.oFeatures.bProcessing?(E(a,!0),setTimeout(function(){e(),a.oFeatures.bServerSide||E(a,!1)},0)):e(),"function"==typeof t&&t(a)}})}function P(e){var t,i,n,s,a,o=e.aoColumns.length,r=e.oClasses;for(t=0;t<o;t++)e.aoColumns[t].bSortable&&h(e.aoColumns[t].nTh).removeClass(r.sSortAsc+" "+r.sSortDesc+" "+e.aoColumns[t].sSortingClass);for(i=null!==e.aaSortingFixed?e.aaSortingFixed.concat(e.aaSorting):e.aaSorting.slice(),t=0;t<e.aoColumns.length;t++)if(e.aoColumns[t].bSortable){for(a=e.aoColumns[t].sSortingClass,s=-1,n=0;n<i.length;n++)if(i[n][0]==t){a="asc"==i[n][1]?r.sSortAsc:r.sSortDesc,s=n;break}h(e.aoColumns[t].nTh).addClass(a),e.bJUI&&((a=h("span."+r.sSortIcon,e.aoColumns[t].nTh)).removeClass(r.sSortJUIAsc+" "+r.sSortJUIDesc+" "+r.sSortJUI+" "+r.sSortJUIAscAllowed+" "+r.sSortJUIDescAllowed),a.addClass(-1==s?e.aoColumns[t].sSortingClassJUI:"asc"==i[s][1]?r.sSortJUIAsc:r.sSortJUIDesc))}else h(e.aoColumns[t].nTh).addClass(e.aoColumns[t].sSortingClass);if(a=r.sSortColumn,e.oFeatures.bSort&&e.oFeatures.bSortClasses){for(e=J(e),s=[],t=0;t<o;t++)s.push("");for(t=0,n=1;t<i.length;t++)s[r=parseInt(i[t][0],10)]=a+n,n<3&&n++;var l;for(a=RegExp(a+"[123]"),t=0,i=e.length;t<i;t++)r=t%o,n=e[t].className,l=s[r],(r=n.replace(a,l))!=n?e[t].className=h.trim(r):0<l.length&&-1==n.indexOf(l)&&(e[t].className=n+" "+l)}}function ra(e){if(e.oFeatures.bStateSave&&!e.bDestroying){var t,i;t=e.oScroll.bInfinite;var n={iCreate:(new Date).getTime(),iStart:t?0:e._iDisplayStart,iEnd:t?e._iDisplayLength:e._iDisplayEnd,iLength:e._iDisplayLength,aaSorting:h.extend(!0,[],e.aaSorting),oSearch:h.extend(!0,{},e.oPreviousSearch),aoSearchCols:h.extend(!0,[],e.aoPreSearchCols),abVisCols:[]};for(t=0,i=e.aoColumns.length;t<i;t++)n.abVisCols.push(e.aoColumns[t].bVisible);A(e,"aoStateSaveParams","stateSaveParams",[e,n]),e.fnStateSave.call(e.oInstance,e,n)}}function Sa(e,t){if(e.oFeatures.bStateSave){var i=e.fnStateLoad.call(e.oInstance,e);if(i){var n=A(e,"aoStateLoadParams","stateLoadParams",[e,i]);if(-1===h.inArray(!1,n)){for(e.oLoadedState=h.extend(!0,{},i),e._iDisplayStart=i.iStart,e.iInitDisplayStart=i.iStart,e._iDisplayEnd=i.iEnd,e._iDisplayLength=i.iLength,e.aaSorting=i.aaSorting.slice(),e.saved_aaSorting=i.aaSorting.slice(),h.extend(e.oPreviousSearch,i.oSearch),h.extend(!0,e.aoPreSearchCols,i.aoSearchCols),t.saved_aoColumns=[],n=0;n<i.abVisCols.length;n++)t.saved_aoColumns[n]={},t.saved_aoColumns[n].bVisible=i.abVisCols[n];A(e,"aoStateLoaded","stateLoaded",[e,i])}}}}function s(e){for(var t=0;t<j.settings.length;t++)if(j.settings[t].nTable===e)return j.settings[t];return null}function T(e){for(var t=[],i=0,n=(e=e.aoData).length;i<n;i++)null!==e[i].nTr&&t.push(e[i].nTr);return t}function J(e,t){var i,s,a,o,r,l,h=[];s=0;var c=e.aoData.length;for(t!==n&&(c=(s=t)+1),a=s;a<c;a++)if(null!==(l=e.aoData[a]).nTr){for(s=[],i=l.nTr.firstChild;i;)"td"!=(o=i.nodeName.toLowerCase())&&"th"!=o||s.push(i),i=i.nextSibling;for(o=i=0,r=e.aoColumns.length;o<r;o++)e.aoColumns[o].bVisible?h.push(s[o-i]):(h.push(l._anHidden[o]),i++)}return h}function D(e,t,i){if(e=null===e?"DataTables warning: "+i:"DataTables warning (table id = '"+e.sTableId+"'): "+i,0===t){if("alert"!=j.ext.sErrMode)throw Error(e);alert(e)}else X.console&&console.log&&console.log(e)}function p(e,t,i,s){s===n&&(s=i),t[i]!==n&&(e[s]=t[i])}function Ta(t,i){var n,s;for(s in i)i.hasOwnProperty(s)&&(n=i[s],"object"==typeof e[s]&&null!==n&&!1===h.isArray(n)?h.extend(!0,t[s],n):t[s]=n);return t}function Ra(t,e,i){h(t).bind("click.DT",e,function(e){t.blur(),i(e)}).bind("keypress.DT",e,function(e){13===e.which&&i(e)}).bind("selectstart.DT",function(){return!1})}function z(e,t,i,n){i&&e[t].push({fn:i,sName:n})}function A(e,t,i,n){for(var s=[],a=(t=e[t]).length-1;0<=a;a--)s.push(t[a].fn.apply(e.oInstance,n));return null!==i&&h(e.oInstance).trigger(i,n),s}function Ua(e){var t=h('<div style="position:absolute; top:0; left:0; height:1px; width:1px; overflow:hidden"><div style="position:absolute; top:1px; left:1px; width:100px; overflow:scroll;"><div id="DT_BrowserTest" style="width:100%; height:10px;"></div></div></div>')[0];l.body.appendChild(t),e.oBrowser.bScrollOversize=100===h("#DT_BrowserTest",t)[0].offsetWidth,l.body.removeChild(t)}function Va(t){return function(){var e=[s(this[j.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return j.ext.oApi[t].apply(this,e)}}var U=/\[.*?\]$/,Wa=X.JSON?JSON.stringify:function(e){var t=typeof e;if("object"!==t||null===e)return"string"===t&&(e='"'+e+'"'),e+"";var i,n,s=[],a=h.isArray(e);for(i in e)"string"===(t=typeof(n=e[i]))?n='"'+n+'"':"object"===t&&null!==n&&(n=Wa(n)),s.push((a?"":'"'+i+'":')+n);return(a?"[":"{")+s+(a?"]":"}")};for(var sa in this.$=function(e,t){var i,n,a,o=[],r=(n=s(this[j.ext.iApiIndex])).aoData,l=n.aiDisplay,c=n.aiDisplayMaster;if(t=t||{},"current"==(t=h.extend({},{filter:"none",order:"current",page:"all"},t)).page)for(i=n._iDisplayStart,n=n.fnDisplayEnd();i<n;i++)(a=r[l[i]].nTr)&&o.push(a);else if("current"==t.order&&"none"==t.filter)for(i=0,n=c.length;i<n;i++)(a=r[c[i]].nTr)&&o.push(a);else if("current"==t.order&&"applied"==t.filter)for(i=0,n=l.length;i<n;i++)(a=r[l[i]].nTr)&&o.push(a);else if("original"==t.order&&"none"==t.filter)for(i=0,n=r.length;i<n;i++)(a=r[i].nTr)&&o.push(a);else if("original"==t.order&&"applied"==t.filter)for(i=0,n=r.length;i<n;i++)a=r[i].nTr,-1!==h.inArray(i,l)&&a&&o.push(a);else D(n,1,"Unknown selection options");return i=(o=h(o)).filter(e),o=o.find(e),h([].concat(h.makeArray(i),h.makeArray(o)))},this._=function(e,t){var i,n,s=[],a=this.$(e,t);for(i=0,n=a.length;i<n;i++)s.push(this.fnGetData(a[i]));return s},this.fnAddData=function(e,t){if(0===e.length)return[];var i,a=[],o=s(this[j.ext.iApiIndex]);if("object"==typeof e[0]&&null!==e[0])for(var r=0;r<e.length;r++){if(-1==(i=H(o,e[r])))return a;a.push(i)}else{if(-1==(i=H(o,e)))return a;a.push(i)}return o.aiDisplay=o.aiDisplayMaster.slice(),t!==n&&!t||aa(o),a},this.fnAdjustColumnSizing=function(e){var t=s(this[j.ext.iApiIndex]);k(t),e===n||e?this.fnDraw(!1):""===t.oScroll.sX&&""===t.oScroll.sY||this.oApi._fnScrollDraw(t)},this.fnClearTable=function(e){var t=s(this[j.ext.iApiIndex]);ga(t),e!==n&&!e||x(t)},this.fnClose=function(e){for(var t=s(this[j.ext.iApiIndex]),i=0;i<t.aoOpenRows.length;i++)if(t.aoOpenRows[i].nParent==e)return(e=t.aoOpenRows[i].nTr.parentNode)&&e.removeChild(t.aoOpenRows[i].nTr),t.aoOpenRows.splice(i,1),0;return 1},this.fnDeleteRow=function(e,t,i){var a,o,r=s(this[j.ext.iApiIndex]),l=(e="object"==typeof e?I(r,e):e,r.aoData.splice(e,1));for(a=0,o=r.aoData.length;a<o;a++)null!==r.aoData[a].nTr&&(r.aoData[a].nTr._DT_RowIndex=a);return a=h.inArray(e,r.aiDisplay),r.asDataSearch.splice(a,1),ha(r.aiDisplayMaster,e),ha(r.aiDisplay,e),"function"==typeof t&&t.call(this,r,l),r._iDisplayStart>=r.fnRecordsDisplay()&&(r._iDisplayStart-=r._iDisplayLength,r._iDisplayStart<0&&(r._iDisplayStart=0)),i!==n&&!i||(y(r),x(r)),l},this.fnDestroy=function(t){var i,a,o=s(this[j.ext.iApiIndex]),r=o.nTableWrapper.parentNode,l=o.nTBody;t=t!==n&&t;if(o.bDestroying=!0,A(o,"aoDestroyCallback","destroy",[o]),!t)for(i=0,a=o.aoColumns.length;i<a;i++)!1===o.aoColumns[i].bVisible&&this.fnSetColumnVis(i,!0);for(h(o.nTableWrapper).find("*").andSelf().unbind(".DT"),h("tbody>tr>td."+o.oClasses.sRowEmpty,o.nTable).parent().remove(),o.nTable!=o.nTHead.parentNode&&(h(o.nTable).children("thead").remove(),o.nTable.appendChild(o.nTHead)),o.nTFoot&&o.nTable!=o.nTFoot.parentNode&&(h(o.nTable).children("tfoot").remove(),o.nTable.appendChild(o.nTFoot)),o.nTable.parentNode.removeChild(o.nTable),h(o.nTableWrapper).remove(),o.aaSorting=[],o.aaSortingFixed=[],P(o),h(T(o)).removeClass(o.asStripeClasses.join(" ")),h("th, td",o.nTHead).removeClass([o.oClasses.sSortable,o.oClasses.sSortableAsc,o.oClasses.sSortableDesc,o.oClasses.sSortableNone].join(" ")),o.bJUI&&(h("th span."+o.oClasses.sSortIcon+", td span."+o.oClasses.sSortIcon,o.nTHead).remove(),h("th, td",o.nTHead).each(function(){var e=h("div."+o.oClasses.sSortJUIWrapper,this),t=e.contents();h(this).append(t),e.remove()})),!t&&o.nTableReinsertBefore?r.insertBefore(o.nTable,o.nTableReinsertBefore):t||r.appendChild(o.nTable),i=0,a=o.aoData.length;i<a;i++)null!==o.aoData[i].nTr&&l.appendChild(o.aoData[i].nTr);if(!0===o.oFeatures.bAutoWidth&&(o.nTable.style.width=q(o.sDestroyWidth)),a=o.asDestroyStripes.length)for(t=h(l).children("tr"),i=0;i<a;i++)t.filter(":nth-child("+a+"n + "+i+")").addClass(o.asDestroyStripes[i]);for(i=0,a=j.settings.length;i<a;i++)j.settings[i]==o&&j.settings.splice(i,1);e=o=null},this.fnDraw=function(e){var t=s(this[j.ext.iApiIndex]);!1===e?(y(t),x(t)):aa(t)},this.fnFilter=function(t,i,a,e,o,r){var c=s(this[j.ext.iApiIndex]);if(c.oFeatures.bFilter)if(a!==n&&null!==a||(a=!1),e!==n&&null!==e||(e=!0),o!==n&&null!==o||(o=!0),r!==n&&null!==r||(r=!0),i===n||null===i){if(K(c,{sSearch:t+"",bRegex:a,bSmart:e,bCaseInsensitive:r},1),o&&c.aanFeatures.f)for(a=0,e=(i=c.aanFeatures.f).length;a<e;a++)try{i[a]._DT_Input!=l.activeElement&&h(i[a]._DT_Input).val(t)}catch(e){h(i[a]._DT_Input).val(t)}}else h.extend(c.aoPreSearchCols[i],{sSearch:t+"",bRegex:a,bSmart:e,bCaseInsensitive:r}),K(c,c.oPreviousSearch,1)},this.fnGetData=function(e,t){var i=s(this[j.ext.iApiIndex]);if(e===n)return Z(i);var a=e;if("object"==typeof e){var o=e.nodeName.toLowerCase();"tr"===o?a=I(i,e):"td"===o&&(t=fa(i,a=I(i,e.parentNode),e))}return t!==n?v(i,a,t,""):i.aoData[a]!==n?i.aoData[a]._aData:null},this.fnGetNodes=function(e){var t=s(this[j.ext.iApiIndex]);return e!==n?t.aoData[e]!==n?t.aoData[e].nTr:null:T(t)},this.fnGetPosition=function(e){var t=s(this[j.ext.iApiIndex]),i=e.nodeName.toUpperCase();return"TR"==i?I(t,e):"TD"==i||"TH"==i?[i=I(t,e.parentNode),R(t,e=fa(t,i,e)),e]:null},this.fnIsOpen=function(e){for(var t=s(this[j.ext.iApiIndex]),i=0;i<t.aoOpenRows.length;i++)if(t.aoOpenRows[i].nParent==e)return!0;return!1},this.fnOpen=function(e,i,n){var a=s(this[j.ext.iApiIndex]),o=T(a);if(-1!==h.inArray(e,o)){this.fnClose(e);o=l.createElement("tr");var r=l.createElement("td");return o.appendChild(r),r.className=n,r.colSpan=t(a),"string"==typeof i?r.innerHTML=i:h(r).html(i),i=h("tr",a.nTBody),-1!=h.inArray(e,i)&&h(o).insertAfter(e),a.aoOpenRows.push({nTr:o,nParent:e}),o}},this.fnPageChange=function(e,t){var i=s(this[j.ext.iApiIndex]);qa(i,e),y(i),t!==n&&!t||x(i)},this.fnSetColumnVis=function(e,i,a){var o,r,l,h,c=s(this[j.ext.iApiIndex]),u=c.aoColumns,d=c.aoData;if(u[e].bVisible!=i){if(i){for(o=r=0;o<e;o++)u[o].bVisible&&r++;if(!(h=r>=t(c)))for(o=e;o<u.length;o++)if(u[o].bVisible){l=o;break}for(o=0,r=d.length;o<r;o++)null!==d[o].nTr&&(h?d[o].nTr.appendChild(d[o]._anHidden[e]):d[o].nTr.insertBefore(d[o]._anHidden[e],J(c,o)[l]))}else for(o=0,r=d.length;o<r;o++)null!==d[o].nTr&&(l=J(c,o)[e],(d[o]._anHidden[e]=l).parentNode.removeChild(l));for(u[e].bVisible=i,W(c,c.aoHeader),c.nTFoot&&W(c,c.aoFooter),o=0,r=c.aoOpenRows.length;o<r;o++)c.aoOpenRows[o].nTr.colSpan=t(c);a!==n&&!a||(k(c),x(c)),ra(c)}},this.fnSettings=function(){return s(this[j.ext.iApiIndex])},this.fnSort=function(e){var t=s(this[j.ext.iApiIndex]);t.aaSorting=e,O(t)},this.fnSortListener=function(e,t,i){ia(s(this[j.ext.iApiIndex]),e,t,i)},this.fnUpdate=function(e,t,i,a,o){var l=s(this[j.ext.iApiIndex]);t="object"==typeof t?I(l,t):t;if(h.isArray(e)&&i===n)for(l.aoData[t]._aData=e.slice(),i=0;i<l.aoColumns.length;i++)this.fnUpdate(v(l,t,i),t,i,!1,!1);else if(h.isPlainObject(e)&&i===n)for(l.aoData[t]._aData=h.extend(!0,{},e),i=0;i<l.aoColumns.length;i++)this.fnUpdate(v(l,t,i),t,i,!1,!1);else{F(l,t,i,e);e=v(l,t,i,"display");var c=l.aoColumns[i];null!==c.fnRender&&(e=S(l,t,i),c.bUseRendered&&F(l,t,i,e)),null!==l.aoData[t].nTr&&(J(l,t)[i].innerHTML=e)}return i=h.inArray(t,l.aiDisplay),l.asDataSearch[i]=na(l,Y(l,t,"filter",r(l,"bSearchable"))),o!==n&&!o||k(l),a!==n&&!a||aa(l),0},this.fnVersionCheck=j.ext.fnVersionCheck,this.oApi={_fnExternApiFunc:Va,_fnInitialise:ba,_fnInitComplete:$,_fnLanguageCompat:pa,_fnAddColumn:o,_fnColumnOptions:m,_fnAddData:H,_fnCreateTr:ea,_fnGatherData:ua,_fnBuildHead:va,_fnDrawHead:W,_fnDraw:x,_fnReDraw:aa,_fnAjaxUpdate:wa,_fnAjaxParameters:Ea,_fnAjaxUpdateDraw:Fa,_fnServerParams:ka,_fnAddOptionsHtml:xa,_fnFeatureHtmlTable:Ba,_fnScrollDraw:La,_fnAdjustColumnSizing:k,_fnFeatureHtmlFilter:za,_fnFilterComplete:K,_fnFilterCustom:Ia,_fnFilterColumn:Ha,_fnFilter:Ga,_fnBuildSearchArray:la,_fnBuildSearchRow:na,_fnFilterCreateSearch:ma,_fnDataToSearch:Ja,_fnSort:O,_fnSortAttachListener:ia,_fnSortingClasses:P,_fnFeatureHtmlPaginate:Da,_fnPageChange:qa,_fnFeatureHtmlInfo:Ca,_fnUpdateInfo:Ka,_fnFeatureHtmlLength:ya,_fnFeatureHtmlProcessing:Aa,_fnProcessingDisplay:E,_fnVisibleToColumnIndex:G,_fnColumnIndexToVisible:R,_fnNodeToDataIndex:I,_fnVisbleColumns:t,_fnCalculateEnd:y,_fnConvertToWidth:Ma,_fnCalculateColumnWidths:da,_fnScrollingWidthAdjust:Oa,_fnGetWidestNode:Na,_fnGetMaxLenString:Pa,_fnStringToCss:q,_fnDetectType:B,_fnSettingsFromNode:s,_fnGetDataMaster:Z,_fnGetTrNodes:T,_fnGetTdNodes:J,_fnEscapeRegex:oa,_fnDeleteIndex:ha,_fnReOrderIndex:u,_fnColumnOrdering:M,_fnLog:D,_fnClearTable:ga,_fnSaveState:ra,_fnLoadState:Sa,_fnCreateCookie:function(a,b,c,d,e){var f=new Date;f.setTime(f.getTime()+1e3*c);var c=X.location.pathname.split("/"),a=a+"_"+c.pop().replace(/[\/:]/g,"").toLowerCase(),g;if(b=null!==e?(g="function"==typeof h.parseJSON?h.parseJSON(b):eval("("+b+")"),e(a,g,f.toGMTString(),c.join("/")+"/")):a+"="+encodeURIComponent(b)+"; expires="+f.toGMTString()+"; path="+c.join("/")+"/",a=l.cookie.split(";"),e=b.split(";")[0].length,f=[],4096<e+l.cookie.length+10){for(var j=0,o=a.length;j<o;j++)if(-1!=a[j].indexOf(d)){var k=a[j].split("=");try{(g=eval("("+decodeURIComponent(k[1])+")"))&&g.iCreate&&f.push({name:k[0],time:g.iCreate})}catch(e){}}for(f.sort(function(e,t){return t.time-e.time});4096<e+l.cookie.length+10;){if(0===f.length)return;d=f.pop(),l.cookie=d.name+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; path="+c.join("/")+"/"}}l.cookie=b},_fnReadCookie:function(e){e=e+"_"+(t=X.location.pathname.split("/"))[t.length-1].replace(/[\/:]/g,"").toLowerCase()+"=";for(var t=l.cookie.split(";"),i=0;i<t.length;i++){for(var n=t[i];" "==n.charAt(0);)n=n.substring(1,n.length);if(0===n.indexOf(e))return decodeURIComponent(n.substring(e.length,n.length))}return null},_fnDetectHeader:V,_fnGetUniqueThs:N,_fnScrollBarWidth:Qa,_fnApplyToChildren:C,_fnMap:p,_fnGetRowData:Y,_fnGetCellData:v,_fnSetCellData:F,_fnGetObjectDataFn:Q,_fnSetObjectDataFn:L,_fnApplyColumnDefs:ta,_fnBindAction:Ra,_fnExtend:Ta,_fnCallbackReg:z,_fnCallbackFire:A,_fnJsonString:Wa,_fnRender:S,_fnNodeToColumnIndex:fa,_fnInfoMacros:ja,_fnBrowserDetect:Ua,_fnGetColumns:r},h.extend(j.ext.oApi,this.oApi),j.ext.oApi)sa&&(this[sa]=Va(sa));var ca=this;return this.each(function(){var t,i,s,a=0;i=this.getAttribute("id");var r=!1,c=!1;if("table"!=this.nodeName.toLowerCase())D(null,0,"Attempted to initialise DataTables on a node which is not a table: "+this.nodeName);else{for(a=0,t=j.settings.length;a<t;a++){if(j.settings[a].nTable==this){if(e===n||e.bRetrieve)return j.settings[a].oInstance;if(e.bDestroy){j.settings[a].oInstance.fnDestroy();break}return void D(j.settings[a],0,"Cannot reinitialise DataTable.\n\nTo retrieve the DataTables object for this table, pass no arguments or see the docs for bRetrieve and bDestroy")}if(j.settings[a].sTableId==this.id){j.settings.splice(a,1);break}}null!==i&&""!==i||(this.id=i="DataTables_Table_"+j.ext._oExternConfig.iNextUnique++);var u=h.extend(!0,{},j.models.oSettings,{nTable:this,oApi:ca.oApi,oInit:e,sDestroyWidth:h(this).width(),sInstance:i,sTableId:i});if(j.settings.push(u),u.oInstance=1===ca.length?ca:h(this).dataTable(),(e=e||{}).oLanguage&&pa(e.oLanguage),e=Ta(h.extend(!0,{},j.defaults),e),p(u.oFeatures,e,"bPaginate"),p(u.oFeatures,e,"bLengthChange"),p(u.oFeatures,e,"bFilter"),p(u.oFeatures,e,"bSort"),p(u.oFeatures,e,"bInfo"),p(u.oFeatures,e,"bProcessing"),p(u.oFeatures,e,"bAutoWidth"),p(u.oFeatures,e,"bSortClasses"),p(u.oFeatures,e,"bServerSide"),p(u.oFeatures,e,"bDeferRender"),p(u.oScroll,e,"sScrollX","sX"),p(u.oScroll,e,"sScrollXInner","sXInner"),p(u.oScroll,e,"sScrollY","sY"),p(u.oScroll,e,"bScrollCollapse","bCollapse"),p(u.oScroll,e,"bScrollInfinite","bInfinite"),p(u.oScroll,e,"iScrollLoadGap","iLoadGap"),p(u.oScroll,e,"bScrollAutoCss","bAutoCss"),p(u,e,"asStripeClasses"),p(u,e,"asStripClasses","asStripeClasses"),p(u,e,"fnServerData"),p(u,e,"fnFormatNumber"),p(u,e,"sServerMethod"),p(u,e,"aaSorting"),p(u,e,"aaSortingFixed"),p(u,e,"aLengthMenu"),p(u,e,"sPaginationType"),p(u,e,"sAjaxSource"),p(u,e,"sAjaxDataProp"),p(u,e,"iCookieDuration"),p(u,e,"sCookiePrefix"),p(u,e,"sDom"),p(u,e,"bSortCellsTop"),p(u,e,"iTabIndex"),p(u,e,"oSearch","oPreviousSearch"),p(u,e,"aoSearchCols","aoPreSearchCols"),p(u,e,"iDisplayLength","_iDisplayLength"),p(u,e,"bJQueryUI","bJUI"),p(u,e,"fnCookieCallback"),p(u,e,"fnStateLoad"),p(u,e,"fnStateSave"),p(u.oLanguage,e,"fnInfoCallback"),z(u,"aoDrawCallback",e.fnDrawCallback,"user"),z(u,"aoServerParams",e.fnServerParams,"user"),z(u,"aoStateSaveParams",e.fnStateSaveParams,"user"),z(u,"aoStateLoadParams",e.fnStateLoadParams,"user"),z(u,"aoStateLoaded",e.fnStateLoaded,"user"),z(u,"aoRowCallback",e.fnRowCallback,"user"),z(u,"aoRowCreatedCallback",e.fnCreatedRow,"user"),z(u,"aoHeaderCallback",e.fnHeaderCallback,"user"),z(u,"aoFooterCallback",e.fnFooterCallback,"user"),z(u,"aoInitComplete",e.fnInitComplete,"user"),z(u,"aoPreDrawCallback",e.fnPreDrawCallback,"user"),u.oFeatures.bServerSide&&u.oFeatures.bSort&&u.oFeatures.bSortClasses?z(u,"aoDrawCallback",P,"server_side_sort_classes"):u.oFeatures.bDeferRender&&z(u,"aoDrawCallback",P,"defer_sort_classes"),e.bJQueryUI?(h.extend(u.oClasses,j.ext.oJUIClasses),e.sDom===j.defaults.sDom&&"lfrtip"===j.defaults.sDom&&(u.sDom='<"H"lfr>t<"F"ip>')):h.extend(u.oClasses,j.ext.oStdClasses),h(this).addClass(u.oClasses.sTable),""===u.oScroll.sX&&""===u.oScroll.sY||(u.oScroll.iBarWidth=Qa()),u.iInitDisplayStart===n&&(u.iInitDisplayStart=e.iDisplayStart,u._iDisplayStart=e.iDisplayStart),e.bStateSave&&(u.oFeatures.bStateSave=!0,Sa(u,e),z(u,"aoDrawCallback",ra,"state_save")),null!==e.iDeferLoading&&(u.bDeferLoading=!0,a=h.isArray(e.iDeferLoading),u._iRecordsDisplay=a?e.iDeferLoading[0]:e.iDeferLoading,u._iRecordsTotal=a?e.iDeferLoading[1]:e.iDeferLoading),null!==e.aaData&&(c=!0),""!==e.oLanguage.sUrl?(u.oLanguage.sUrl=e.oLanguage.sUrl,h.getJSON(u.oLanguage.sUrl,null,function(t){pa(t),h.extend(!0,u.oLanguage,e.oLanguage,t),ba(u)}),r=!0):h.extend(!0,u.oLanguage,e.oLanguage),null===e.asStripeClasses&&(u.asStripeClasses=[u.oClasses.sStripeOdd,u.oClasses.sStripeEven]),t=u.asStripeClasses.length,u.asDestroyStripes=[],t){for(i=!1,s=h(this).children("tbody").children("tr:lt("+t+")"),a=0;a<t;a++)s.hasClass(u.asStripeClasses[a])&&(i=!0,u.asDestroyStripes.push(u.asStripeClasses[a]));i&&s.removeClass(u.asStripeClasses.join(" "))}if(i=[],0!==(a=this.getElementsByTagName("thead")).length&&(V(u.aoHeader,a[0]),i=N(u)),null===e.aoColumns)for(s=[],a=0,t=i.length;a<t;a++)s.push(null);else s=e.aoColumns;for(a=0,t=s.length;a<t;a++)e.saved_aoColumns!==n&&e.saved_aoColumns.length==t&&(null===s[a]&&(s[a]={}),s[a].bVisible=e.saved_aoColumns[a].bVisible),o(u,i?i[a]:null);for(ta(u,e.aoColumnDefs,s,function(e,t){m(u,e,t)}),a=0,t=u.aaSorting.length;a<t;a++){u.aaSorting[a][0]>=u.aoColumns.length&&(u.aaSorting[a][0]=0);var d=u.aoColumns[u.aaSorting[a][0]];for(u.aaSorting[a][2]===n&&(u.aaSorting[a][2]=0),e.aaSorting===n&&u.saved_aaSorting===n&&(u.aaSorting[a][1]=d.asSorting[0]),i=0,s=d.asSorting.length;i<s;i++)if(u.aaSorting[a][1]==d.asSorting[i]){u.aaSorting[a][2]=i;break}}if(P(u),Ua(u),a=h(this).children("caption").each(function(){this._captionSide=h(this).css("caption-side")}),0===(t=h(this).children("thead")).length&&(t=[l.createElement("thead")],this.appendChild(t[0])),u.nTHead=t[0],0===(t=h(this).children("tbody")).length&&(t=[l.createElement("tbody")],this.appendChild(t[0])),u.nTBody=t[0],u.nTBody.setAttribute("role","alert"),u.nTBody.setAttribute("aria-live","polite"),u.nTBody.setAttribute("aria-relevant","all"),0===(t=h(this).children("tfoot")).length&&0<a.length&&(""!==u.oScroll.sX||""!==u.oScroll.sY)&&(t=[l.createElement("tfoot")],this.appendChild(t[0])),0<t.length&&(u.nTFoot=t[0],V(u.aoFooter,u.nTFoot)),c)for(a=0;a<e.aaData.length;a++)H(u,e.aaData[a]);else ua(u);u.aiDisplay=u.aiDisplayMaster.slice(),!(u.bInitialised=!0)===r&&ba(u)}}),ca=null,this};j.fnVersionCheck=function(e){function t(e,t){for(;e.length<t;)e+="0";return e}for(var i=j.ext.sVersion.split("."),n="",s="",a=0,o=(e=e.split(".")).length;a<o;a++)n+=t(i[a],3),s+=t(e[a],3);return parseInt(n,10)>=parseInt(s,10)},j.fnIsDataTable=function(e){for(var t=j.settings,i=0;i<t.length;i++)if(t[i].nTable===e||t[i].nScrollHead===e||t[i].nScrollFoot===e)return!0;return!1},j.fnTables=function(i){var n=[];return jQuery.each(j.settings,function(e,t){(!i||!0===i&&h(t.nTable).is(":visible"))&&n.push(t.nTable)}),n},j.version="1.9.4",j.settings=[],j.models={},j.models.ext={afnFiltering:[],afnSortData:[],aoFeatures:[],aTypes:[],fnVersionCheck:j.fnVersionCheck,iApiIndex:0,ofnSearch:{},oApi:{},oStdClasses:{},oJUIClasses:{},oPagination:{},oSort:{},sVersion:j.version,sErrMode:"alert",_oExternConfig:{iNextUnique:0}},j.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},j.models.oRow={nTr:null,_aData:[],_aSortData:[],_anHidden:[],_sRowStripe:""},j.models.oColumn={aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bUseRendered:null,bVisible:null,_bAutoType:!0,fnCreatedCell:null,fnGetData:null,fnRender:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},j.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollAutoCss:!0,bScrollCollapse:!1,bScrollInfinite:!1,bServerSide:!1,bSort:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCookieCallback:null,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(e){if(e<1e3)return e;e=(i=e+"").split("");for(var t="",i=i.length,n=0;n<i;n++)0==n%3&&0!==n&&(t=this.oLanguage.sInfoThousands+t),t=e[i-n-1]+t;return t},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:function(e,t,i,n){n.jqXHR=h.ajax({url:e,data:t,success:function(e){e.sError&&n.oApi._fnLog(n,0,e.sError),h(n.oInstance).trigger("xhr",[n,e]),i(e)},dataType:"json",cache:!1,type:n.sServerMethod,error:function(e,t){"parsererror"==t&&n.oApi._fnLog(n,0,"DataTables warning: JSON data from server could not be parsed. This is caused by a JSON formatting error.")}})},fnServerParams:null,fnStateLoad:function(e){var e=this.oApi._fnReadCookie(e.sCookiePrefix+e.sInstance),j;try{j="function"==typeof h.parseJSON?h.parseJSON(e):eval("("+e+")")}catch(e){j=null}return j},fnStateLoadParams:null,fnStateLoaded:null,fnStateSave:function(e,t){this.oApi._fnCreateCookie(e.sCookiePrefix+e.sInstance,this.oApi._fnJsonString(t),e.iCookieDuration,e.sCookiePrefix,e.fnCookieCallback)},fnStateSaveParams:null,iCookieDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iScrollLoadGap:100,iTabIndex:0,oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sInfoThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sUrl:"",sZeroRecords:"No matching records found"},oSearch:h.extend({},j.models.oSearch),sAjaxDataProp:"aaData",sAjaxSource:null,sCookiePrefix:"SpryMedia_DataTables_",sDom:"lfrtip",sPaginationType:"two_button",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET"},j.defaults.columns={aDataSort:null,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bUseRendered:!0,bVisible:!0,fnCreatedCell:null,fnRender:null,iDataSort:-1,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},j.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortClasses:null,bStateSave:null},oScroll:{bAutoCss:null,bCollapse:null,bInfinite:null,iBarWidth:0,iLoadGap:null,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1},aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aoColumns:[],aoHeader:[],aoFooter:[],asDataSearch:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:null,asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,sPaginationType:"two_button",iCookieDuration:0,sCookiePrefix:"",fnCookieCallback:null,aoStateSave:[],aoStateLoad:[],oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iDisplayEnd:10,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsTotal,10):this.aiDisplayMaster.length},fnRecordsDisplay:function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsDisplay,10):this.aiDisplay.length},fnDisplayEnd:function(){return this.oFeatures.bServerSide?!1===this.oFeatures.bPaginate||-1==this._iDisplayLength?this._iDisplayStart+this.aiDisplay.length:Math.min(this._iDisplayStart+this._iDisplayLength,this._iRecordsDisplay):this._iDisplayEnd},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null},j.ext=h.extend(!0,{},j.models.ext),h.extend(j.ext.oStdClasses,{sTable:"dataTable",sPagePrevEnabled:"paginate_enabled_previous",sPagePrevDisabled:"paginate_disabled_previous",sPageNextEnabled:"paginate_enabled_next",sPageNextDisabled:"paginate_disabled_next",sPageJUINext:"",sPageJUIPrev:"",sPageButton:"paginate_button",sPageButtonActive:"paginate_active",sPageButtonStaticDisabled:"paginate_button paginate_button_disabled",sPageFirst:"first",sPagePrevious:"previous",sPageNext:"next",sPageLast:"last",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sFooterTH:"",sJUIHeader:"",sJUIFooter:""}),h.extend(j.ext.oJUIClasses,j.ext.oStdClasses,{sPagePrevEnabled:"fg-button ui-button ui-state-default ui-corner-left",sPagePrevDisabled:"fg-button ui-button ui-state-default ui-corner-left ui-state-disabled",sPageNextEnabled:"fg-button ui-button ui-state-default ui-corner-right",sPageNextDisabled:"fg-button ui-button ui-state-default ui-corner-right ui-state-disabled",sPageJUINext:"ui-icon ui-icon-circle-arrow-e",sPageJUIPrev:"ui-icon ui-icon-circle-arrow-w",sPageButton:"fg-button ui-button ui-state-default",sPageButtonActive:"fg-button ui-button ui-state-default ui-state-disabled",sPageButtonStaticDisabled:"fg-button ui-button ui-state-default ui-state-disabled",sPageFirst:"first ui-corner-tl ui-corner-bl",sPageLast:"last ui-corner-tr ui-corner-br",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:"ui-state-default",sSortDesc:"ui-state-default",sSortable:"ui-state-default",sSortableAsc:"ui-state-default",sSortableDesc:"ui-state-default",sSortableNone:"ui-state-default",sSortJUIAsc:"css_right ui-icon ui-icon-triangle-1-n",sSortJUIDesc:"css_right ui-icon ui-icon-triangle-1-s",sSortJUI:"css_right ui-icon ui-icon-carat-2-n-s",sSortJUIAscAllowed:"css_right ui-icon ui-icon-carat-1-n",sSortJUIDescAllowed:"css_right ui-icon ui-icon-carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead ui-state-default",sScrollFoot:"dataTables_scrollFoot ui-state-default",sFooterTH:"ui-state-default",sJUIHeader:"fg-toolbar ui-toolbar ui-widget-header ui-corner-tl ui-corner-tr ui-helper-clearfix",sJUIFooter:"fg-toolbar ui-toolbar ui-widget-header ui-corner-bl ui-corner-br ui-helper-clearfix"}),h.extend(j.ext.oPagination,{two_button:{fnInit:function(t,e,i){function n(e){t.oApi._fnPageChange(t,e.data.action)&&i(t)}var s=t.oLanguage.oPaginate;s=t.bJUI?'<a class="'+t.oClasses.sPagePrevDisabled+'" tabindex="'+t.iTabIndex+'" role="button"><span class="'+t.oClasses.sPageJUIPrev+'"></span></a><a class="'+t.oClasses.sPageNextDisabled+'" tabindex="'+t.iTabIndex+'" role="button"><span class="'+t.oClasses.sPageJUINext+'"></span></a>':'<a class="'+t.oClasses.sPagePrevDisabled+'" tabindex="'+t.iTabIndex+'" role="button">'+s.sPrevious+'</a><a class="'+t.oClasses.sPageNextDisabled+'" tabindex="'+t.iTabIndex+'" role="button">'+s.sNext+"</a>";h(e).append(s);s=(a=h("a",e))[0];var a=a[1];t.oApi._fnBindAction(s,{action:"previous"},n),t.oApi._fnBindAction(a,{action:"next"},n),t.aanFeatures.p||(e.id=t.sTableId+"_paginate",s.id=t.sTableId+"_previous",a.id=t.sTableId+"_next",s.setAttribute("aria-controls",t.sTableId),a.setAttribute("aria-controls",t.sTableId))},fnUpdate:function(e){if(e.aanFeatures.p)for(var t,i=e.oClasses,n=e.aanFeatures.p,s=0,a=n.length;s<a;s++)(t=n[s].firstChild)&&(t.className=0===e._iDisplayStart?i.sPagePrevDisabled:i.sPagePrevEnabled,(t=t.nextSibling).className=e.fnDisplayEnd()==e.fnRecordsDisplay()?i.sPageNextDisabled:i.sPageNextEnabled)}},iFullNumbersShowPages:5,full_numbers:{fnInit:function(t,e,i){function n(e){t.oApi._fnPageChange(t,e.data.action)&&i(t)}var s=t.oLanguage.oPaginate,a=t.oClasses;h(e).append('<a  tabindex="'+t.iTabIndex+'" class="'+a.sPageButton+" "+a.sPageFirst+'">'+s.sFirst+'</a><a  tabindex="'+t.iTabIndex+'" class="'+a.sPageButton+" "+a.sPagePrevious+'">'+s.sPrevious+'</a><span></span><a tabindex="'+t.iTabIndex+'" class="'+a.sPageButton+" "+a.sPageNext+'">'+s.sNext+'</a><a tabindex="'+t.iTabIndex+'" class="'+a.sPageButton+" "+a.sPageLast+'">'+s.sLast+"</a>");s=(r=h("a",e))[0],a=r[1];var o=r[2],r=r[3];t.oApi._fnBindAction(s,{action:"first"},n),t.oApi._fnBindAction(a,{action:"previous"},n),t.oApi._fnBindAction(o,{action:"next"},n),t.oApi._fnBindAction(r,{action:"last"},n),t.aanFeatures.p||(e.id=t.sTableId+"_paginate",s.id=t.sTableId+"_first",a.id=t.sTableId+"_previous",o.id=t.sTableId+"_next",r.id=t.sTableId+"_last")},fnUpdate:function(t,i){if(t.aanFeatures.p){function e(e){t.oApi._fnBindAction(this,{page:e+n-1},function(e){t.oApi._fnPageChange(t,e.data.page),i(t),e.preventDefault()})}var n,s,a=j.ext.oPagination.iFullNumbersShowPages,o=Math.floor(a/2),r=Math.ceil(t.fnRecordsDisplay()/t._iDisplayLength),l=Math.ceil(t._iDisplayStart/t._iDisplayLength)+1,c="",u=t.oClasses,d=t.aanFeatures.p;for(-1===t._iDisplayLength?l=o=n=1:o=r<a?(n=1,r):l<=o?(n=1,a):r-o<=l?(n=r-a+1,r):(n=l-Math.ceil(a/2)+1)+a-1,a=n;a<=o;a++)c+=l!==a?'<a tabindex="'+t.iTabIndex+'" class="'+u.sPageButton+'">'+t.fnFormatNumber(a)+"</a>":'<a tabindex="'+t.iTabIndex+'" class="'+u.sPageButtonActive+'">'+t.fnFormatNumber(a)+"</a>";for(a=0,o=d.length;a<o;a++)(s=d[a]).hasChildNodes()&&(h("span:eq(0)",s).html(c).children("a").each(e),s=[(s=s.getElementsByTagName("a"))[0],s[1],s[s.length-2],s[s.length-1]],h(s).removeClass(u.sPageButton+" "+u.sPageButtonActive+" "+u.sPageButtonStaticDisabled),h([s[0],s[1]]).addClass(1==l?u.sPageButtonStaticDisabled:u.sPageButton),h([s[2],s[3]]).addClass(0===r||l===r||-1===t._iDisplayLength?u.sPageButtonStaticDisabled:u.sPageButton))}}}}),h.extend(j.ext.oSort,{"string-pre":function(e){return"string"!=typeof e&&(e=null!==e&&e.toString?e.toString():""),e.toLowerCase()},"string-asc":function(e,t){return e<t?-1:t<e?1:0},"string-desc":function(e,t){return e<t?1:t<e?-1:0},"html-pre":function(e){return e.replace(/<.*?>/g,"").toLowerCase()},"html-asc":function(e,t){return e<t?-1:t<e?1:0},"html-desc":function(e,t){return e<t?1:t<e?-1:0},"date-pre":function(e){return e=Date.parse(e),!isNaN(e)&&""!==e||(e=Date.parse("01/01/1970 00:00:00")),e},"date-asc":function(e,t){return e-t},"date-desc":function(e,t){return t-e},"numeric-pre":function(e){return"-"==e||""===e?0:1*e},"numeric-asc":function(e,t){return e-t},"numeric-desc":function(e,t){return t-e}}),h.extend(j.ext.aTypes,[function(e){if("number"==typeof e)return"numeric";if("string"!=typeof e)return null;var t,i=!1;if(t=e.charAt(0),-1=="0123456789-".indexOf(t))return null;for(var n=1;n<e.length;n++){if(t=e.charAt(n),-1=="0123456789.".indexOf(t))return null;if("."==t){if(i)return null;i=!0}}return"numeric"},function(e){var t=Date.parse(e);return null!==t&&!isNaN(t)||"string"==typeof e&&0===e.length?"date":null},function(e){return"string"==typeof e&&-1!=e.indexOf("<")&&-1!=e.indexOf(">")?"html":null}]),h.fn.DataTable=j,h.fn.dataTable=j,h.fn.dataTableSettings=j.settings,h.fn.dataTableExt=j.ext};"function"==typeof define&&define.amd?define(["jquery"],L):jQuery&&!jQuery.fn.dataTable&&L(jQuery)}(window,document),jQuery.fn.dataTableExt.oApi.fnPagingInfo=function(e){return{iStart:e._iDisplayStart,iEnd:e.fnDisplayEnd(),iLength:e._iDisplayLength,iTotal:e.fnRecordsTotal(),iFilteredTotal:e.fnRecordsDisplay(),iPage:Math.ceil(e._iDisplayStart/e._iDisplayLength),iTotalPages:Math.ceil(e.fnRecordsDisplay()/e._iDisplayLength)}},jQuery.extend(jQuery.fn.dataTableExt.oPagination,{bootstrap:{fnInit:function(t,e,i){function n(e){e.preventDefault(),t.oApi._fnPageChange(t,e.data.action)&&i(t)}var s=t.oLanguage.oPaginate;jQuery(e).append('<ul class="pagination pagination-sm remove-margin"><li class="prev disabled"><a href="javascript:void(0)"><i class="fa fa-chevron-left"></i> '+s.sPrevious+'</a></li><li class="next disabled"><a href="javascript:void(0)">'+s.sNext+' <i class="fa fa-chevron-right"></i></a></li></ul>');var a=jQuery("a",e);jQuery(a[0]).bind("click.DT",{action:"previous"},n),jQuery(a[1]).bind("click.DT",{action:"next"},n)},fnUpdate:function(t,i){var e,n,s,a,o,r=t.oInstance.fnPagingInfo(),l=t.aanFeatures.p,h=Math.floor(2.5);for(o=r.iTotalPages<5?(a=1,r.iTotalPages):r.iPage<=h?(a=1,5):r.iPage>=r.iTotalPages-h?(a=r.iTotalPages-5+1,r.iTotalPages):(a=r.iPage-h+1)+5-1,e=0,iLen=l.length;iLen>e;e++){for(jQuery("li:gt(0)",l[e]).filter(":not(:last)").remove(),n=a;n<=o;n++)s=n===r.iPage+1?'class="active"':"",jQuery("<li "+s+'><a href="javascript:void(0)">'+n+"</a></li>").insertBefore(jQuery("li:last",l[e])[0]).bind("click",function(e){e.preventDefault(),t._iDisplayStart=(parseInt(jQuery("a",this).text(),10)-1)*r.iLength,i(t)});0===r.iPage?jQuery("li:first",l[e]).addClass("disabled"):jQuery("li:first",l[e]).removeClass("disabled"),r.iPage===r.iTotalPages-1||0===r.iTotalPages?jQuery("li:last",l[e]).addClass("disabled"):jQuery("li:last",l[e]).removeClass("disabled")}}}}),function(ve,be){function e(e){ve.extend(!0,f,e)}function o(t,a,e){function i(){setTimeout(function(){!T.start&&s()&&r()},0)}function n(){return t.is(":visible")}function s(){return ve("body").is(":visible")}function o(e){var t;T&&e==T.name||(t=e,A++,T&&(w("viewDestroy",T,T,T.element),v(),T.triggerEventDestroy(),b(),T.element.remove(),x.deactivateButton(T.name)),x.activateButton(t),T=new K[t](ve("<div class='fc-view fc-view-"+t+"' style='position:relative'/>").appendTo(S),C),r(),y(),A--)}function r(e){(!T.start||e||T.start>F||F>=T.end)&&n()&&l(e)}function l(e){var t;A++,T.start&&(w("viewDestroy",T,T,T.element),v(),g()),b(),T.render(F,e||0),u(),y(),(T.afterRender||function(){})(),x.updateTitle(T.title),(t=new Date)>=T.start&&T.end>t?x.disableButton("today"):x.enableButton("today"),w("viewRender",T,T,T.element),T.trigger("viewDisplay",M),A--,!a.lazyFetching||N(T.visStart,T.visEnd)?m():f()}function h(){n()&&(v(),g(),c(),u(),f())}function c(){D=a.contentHeight?a.contentHeight:a.height?a.height-(_?_.height():0)-Me(S):Math.round(S.width()/Math.max(a.aspectRatio,.5))}function u(){D===be&&c(),A++,T.setHeight(D),T.setWidth(S.width()),A--,k=t.outerWidth()}function d(){if(!A)if(T.start){var e=++I;setTimeout(function(){e==I&&!A&&n()&&k!=(k=t.outerWidth())&&(A++,h(),T.trigger("windowResize",M),A--)},200)}else i()}function p(e){g(),f(e)}function f(e){n()&&(T.setEventData(P),T.renderEvents(P,e),T.trigger("eventAfterAllRender"))}function g(){T.triggerEventDestroy(),T.clearEvents(),T.clearEventData()}function m(){R(T.visStart,T.visEnd)}function v(){T&&T.unselect()}function b(){S.css({width:"100%",height:S.height(),overflow:"hidden"})}function y(){S.css({width:"",height:"",overflow:""})}function w(e,t){return a[e]?a[e].apply(t||M,Array.prototype.slice.call(arguments,2)):be}var C=this;C.options=a,C.render=function(e){S?n()&&(c(),l(e)):(a.theme,t.addClass("fc"),a.isRTL?t.addClass("fc-rtl"):t.addClass("fc-ltr"),a.theme&&t.addClass("ui-widget"),S=ve("<div class='fc-content' style='position:relative'/>").prependTo(t),x=new O(C,a),(_=x.render())&&t.prepend(_),o(a.defaultView),a.handleWindowResize&&ve(window).resize(d),s()||i())},C.destroy=function(){T&&(w("viewDestroy",T,T,T.element),T.triggerEventDestroy()),ve(window).unbind("resize",d),x.destroy(),S.remove(),t.removeClass("fc fc-rtl ui-widget")},C.refetchEvents=function(){g(),m()},C.reportEvents=function(e){P=e,f()},C.reportEventChange=function(e){p(e)},C.rerenderEvents=p,C.changeView=o,C.select=function(e,t,i){T.select(e,t,i===be||i)},C.unselect=v,C.prev=function(){r(-1)},C.next=function(){r(1)},C.prevYear=function(){L(F,-1),r()},C.nextYear=function(){L(F,1),r()},C.today=function(){F=new Date,r()},C.gotoDate=function(e,t,i){e instanceof Date?F=xe(e):H(F,e,t,i),r()},C.incrementDate=function(e,t,i){e!==be&&L(F,e),t!==be&&z(F,t),i!==be&&ye(F,i),r()},C.formatDate=function(e,t){return j(e,t,a)},C.formatDates=function(e,t,i){return U(e,t,i,a)},C.getDate=function(){return xe(F)},C.getView=function(){return T},C.option=function(e,t){return t===be?a[e]:("height"!=e&&"contentHeight"!=e&&"aspectRatio"!=e||(a[e]=t,h()),be)},C.trigger=w,function(g,e){function a(i,n){!function e(t,i){var n,s,a=Q.sourceFetchers;for(n=0;a.length>n;n++){if(!0===(s=a[n](t,b,y,i)))return;if("object"==typeof s)return e(s,i),be}var o=t.events;if(o)ve.isFunction(o)?(m(),o(xe(b),xe(y),function(e){i(e),v()})):ve.isArray(o)?i(o):i();else{var r=t.url;if(r){var l,h=t.success,c=t.error,u=t.complete;l=ve.isFunction(t.data)?t.data():t.data;var d=ve.extend({},l||{}),p=$(t.startParam,g.startParam),f=$(t.endParam,g.endParam);p&&(d[p]=Math.round(b/1e3)),f&&(d[f]=Math.round(y/1e3)),m(),ve.ajax(ve.extend({},J,t,{data:d,success:function(e){e=e||[];var t=V(h,this,arguments);ve.isArray(t)&&(e=t),i(e)},error:function(){V(c,this,arguments),i()},complete:function(){V(u,this,arguments),v()}}))}else i()}}(i,function(e){if(n==d){if(e){g.eventDataTransform&&(e=ve.map(e,g.eventDataTransform)),i.eventDataTransform&&(e=ve.map(e,i.eventDataTransform));for(var t=0;e.length>t;t++)e[t].source=i,r(e[t]);w=w.concat(e)}--p||h(w)}})}function t(e){return ve.isFunction(e)||ve.isArray(e)?e={events:e}:"string"==typeof e&&(e={url:e}),"object"==typeof e?(function(e){e.className?"string"==typeof e.className&&(e.className=e.className.split(/\s+/)):e.className=[];for(var t=Q.sourceNormalizers,i=0;t.length>i;i++)t[i](e)}(e),u.push(e),e):be}function m(){f++||o("loading",null,!0,l())}function v(){--f||o("loading",null,!1,l())}function r(e){var t=e.source||{},i=$(t.ignoreTimezone,g.ignoreTimezone);e._id=e._id||(e.id===be?"_fc"+Z++:e.id+""),e.date&&(e.start||(e.start=e.date),delete e.date),e._start=xe(e.start=W(e.start,i)),e.end=W(e.end,i),e.end&&e.end<=e.start&&(e.end=null),e._end=e.end?xe(e.end):null,e.allDay===be&&(e.allDay=$(t.allDayDefault,g.allDayDefault)),e.className?"string"==typeof e.className&&(e.className=e.className.split(/\s+/)):e.className=[]}function i(e,t){return e&&t&&n(e)==n(t)}function n(e){return("object"==typeof e?e.events||e.url:"")||e}var s=this;s.isFetchNeeded=function(e,t){return!b||e<b||y<t},s.fetchEvents=function(e,t){b=e,y=t,w=[];var i=++d,n=u.length;p=n;for(var s=0;s<n;s++)a(u[s],i)},s.addEventSource=function(e){(e=t(e))&&(p++,a(e,d))},s.removeEventSource=function(t){u=ve.grep(u,function(e){return!i(e,t)}),w=ve.grep(w,function(e){return!i(e.source,t)}),h(w)},s.updateEvent=function(e){var t,i,n=w.length,s=l().defaultEventEnd,a=e.start-e._start,o=e.end?e.end-(e._end||s(e)):0;for(t=0;t<n;t++)(i=w[t])._id==e._id&&i!=e&&(i.start=new Date(+i.start+a),i.end=e.end?i.end?new Date(+i.end+o):new Date(+s(i)+o):null,i.title=e.title,i.url=e.url,i.allDay=e.allDay,i.className=e.className,i.editable=e.editable,i.color=e.color,i.backgroundColor=e.backgroundColor,i.borderColor=e.borderColor,i.textColor=e.textColor,r(i));r(e),h(w)},s.renderEvent=function(e,t){r(e),e.source||(t&&(c.events.push(e),e.source=c),w.push(e)),h(w)},s.removeEvents=function(e){if(e){if(!ve.isFunction(e)){var t=e+"";e=function(e){return e._id==t}}w=ve.grep(w,e,!0);for(var i=0;u.length>i;i++)ve.isArray(u[i].events)&&(u[i].events=ve.grep(u[i].events,e,!0))}else{w=[];for(i=0;u.length>i;i++)ve.isArray(u[i].events)&&(u[i].events=[])}h(w)},s.clientEvents=function(t){return ve.isFunction(t)?ve.grep(w,t):t?(t+="",ve.grep(w,function(e){return e._id==t})):w},s.normalizeEvent=r;for(var b,y,o=s.trigger,l=s.getView,h=s.reportEvents,c={events:[]},u=[c],d=0,p=0,f=0,w=[],C=0;e.length>C;C++)t(e[C])}.call(C,a,e);var x,_,S,T,k,D,E,N=C.isFetchNeeded,R=C.fetchEvents,M=t[0],I=0,A=0,F=new Date,P=[];H(F,a.year,a.month,a.date),a.droppable&&ve(document).bind("dragstart",function(e,t){var i=e.target,n=ve(i);if(!n.parents(".fc").length){var s=a.dropAccept;(ve.isFunction(s)?s.call(i,n):n.is(s))&&(E=i,T.dragStart(E,e,t))}}).bind("dragstop",function(e,t){E&&(T.dragStop(E,e,t),E=null)})}function O(l,h){function e(e){var r=ve("<td class='fc-header-"+e+"'/>"),t=h.header[e];return t&&ve.each(t.split(" "),function(e){var o;0<e&&r.append("<span class='fc-header-space'/>"),ve.each(this.split(","),function(e,t){var i;if("title"==t)r.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>"),o&&o.addClass(c+"-corner-right"),o=null;else if(l[t]?i=l[t]:K[t]&&(i=function(){a.removeClass(c+"-state-hover"),l.changeView(t)}),i){var n=h.theme?N(h.buttonIcons,t):null,s=N(h.buttonText,t),a=ve("<span class='fc-button fc-button-"+t+" "+c+"-state-default'>"+(n?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+n+"'/></span>":s)+"</span>").click(function(){a.hasClass(c+"-state-disabled")||i()}).mousedown(function(){a.not("."+c+"-state-active").not("."+c+"-state-disabled").addClass(c+"-state-down")}).mouseup(function(){a.removeClass(c+"-state-down")}).hover(function(){a.not("."+c+"-state-active").not("."+c+"-state-disabled").addClass(c+"-state-hover")},function(){a.removeClass(c+"-state-hover").removeClass(c+"-state-down")}).appendTo(r);Fe(a),o||a.addClass(c+"-corner-left"),o=a}}),o&&o.addClass(c+"-corner-right")}),r}var t=this;t.render=function(){return c=h.theme?"ui":"fc",h.header?i=ve("<table class='fc-header' style='width:100%'/>").append(ve("<tr/>").append(e("left")).append(e("center")).append(e("right"))):be},t.destroy=function(){i.remove()},t.updateTitle=function(e){i.find("h2").html(e)},t.activateButton=function(e){i.find("span.fc-button-"+e).addClass(c+"-state-active")},t.deactivateButton=function(e){i.find("span.fc-button-"+e).removeClass(c+"-state-active")},t.disableButton=function(e){i.find("span.fc-button-"+e).addClass(c+"-state-disabled")},t.enableButton=function(e){i.find("span.fc-button-"+e).removeClass(c+"-state-disabled")};var c,i=ve([])}function L(e,t,i){return e.setFullYear(e.getFullYear()+t),i||Ce(e),e}function z(e,t,i){if(+e){var n=e.getMonth()+t,s=xe(e);for(s.setDate(1),s.setMonth(n),e.setMonth(n),i||Ce(e);e.getMonth()!=s.getMonth();)e.setDate(e.getDate()+(e<s?1:-1))}return e}function ye(e,t,i){if(+e){var n=e.getDate()+t,s=xe(e);s.setHours(9),s.setDate(n),e.setDate(n),i||Ce(e),r(e,s)}return e}function r(e,t){if(+e)for(;e.getDate()!=t.getDate();)e.setTime(+e+(e<t?1:-1)*d)}function we(e,t){return e.setMinutes(e.getMinutes()+t),e}function Ce(e){return e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e}function xe(e,t){return t?Ce(new Date(+e)):new Date(+e)}function _e(){for(var e,t=0;(e=new Date(1970,t++,1)).getHours(););return e}function Se(e,t){return Math.round((xe(e,!0)-xe(t,!0))/s)}function H(e,t,i,n){t!==be&&t!=e.getFullYear()&&(e.setDate(1),e.setMonth(0),e.setFullYear(t)),i!==be&&i!=e.getMonth()&&(e.setDate(1),e.setMonth(i)),n!==be&&e.setDate(n)}function W(e,t){return"object"==typeof e?e:"number"==typeof e?new Date(1e3*e):"string"==typeof e?e.match(/^\d+(\.\d+)?$/)?new Date(1e3*parseFloat(e)):(t===be&&(t=!0),B(e,t)||(e?new Date(e):null)):null}function B(e,t){var i=e.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!i)return null;var n=new Date(i[1],0,1);if(t||!i[13]){var s=new Date(i[1],0,1,9,0);i[3]&&(n.setMonth(i[3]-1),s.setMonth(i[3]-1)),i[5]&&(n.setDate(i[5]),s.setDate(i[5])),r(n,s),i[7]&&n.setHours(i[7]),i[8]&&n.setMinutes(i[8]),i[10]&&n.setSeconds(i[10]),i[12]&&n.setMilliseconds(1e3*Number("0."+i[12])),r(n,s)}else if(n.setUTCFullYear(i[1],i[3]?i[3]-1:0,i[5]||1),n.setUTCHours(i[7]||0,i[8]||0,i[10]||0,i[12]?1e3*Number("0."+i[12]):0),i[14]){var a=60*Number(i[16])+(i[18]?Number(i[18]):0);a*="-"==i[15]?1:-1,n=new Date(+n+6e4*a)}return n}function Te(e){if("number"==typeof e)return 60*e;if("object"==typeof e)return 60*e.getHours()+e.getMinutes();var t=e.match(/(\d+)(?::(\d+))?\s*(\w+)?/);if(t){var i=parseInt(t[1],10);return t[3]&&(i%=12,"p"==t[3].toLowerCase().charAt(0)&&(i+=12)),60*i+(t[2]?parseInt(t[2],10):0)}}function j(e,t,i){return U(e,null,t,i)}function U(e,t,i,n){n=n||f;var s,a,o,r,l=e,h=t,c=i.length,u="";for(s=0;s<c;s++)if("'"==(a=i.charAt(s))){for(o=s+1;o<c;o++)if("'"==i.charAt(o)){l&&(u+=o==s+1?"'":i.substring(s+1,o),s=o);break}}else if("("==a){for(o=s+1;o<c;o++)if(")"==i.charAt(o)){var d=j(l,i.substring(s+1,o),n);parseInt(d.replace(/\D/,""),10)&&(u+=d),s=o;break}}else if("["==a){for(o=s+1;o<c;o++)if("]"==i.charAt(o)){var p=i.substring(s+1,o);(d=j(l,p,n))!=j(h,p,n)&&(u+=d),s=o;break}}else if("{"==a)l=t,h=e;else if("}"==a)l=e,h=t;else{for(o=c;s<o;o--)if(r=g[i.substring(s,o)]){l&&(u+=r(l,n)),s=o-1;break}o==s&&l&&(u+=a)}return u}function ke(e){return e.end?(t=e.end,i=e.allDay,t=xe(t),i||t.getHours()||t.getMinutes()?ye(t,1):Ce(t)):ye(xe(e.start),1);var t,i}function De(e,a,o){e.unbind("mouseover").mouseover(function(e){for(var t,i,n,s=e.target;s!=this;)s=(t=s).parentNode;(i=t._fci)!==be&&(t._fci=be,n=a[i],o(n.event,n.element,n),ve(e.target).trigger(e)),e.stopPropagation()})}function Ee(e,t,i){for(var n,s=0;e.length>s;s++)(n=ve(e[s])).width(Math.max(0,t-Re(n,i)))}function Ne(e,t,i){for(var n,s=0;e.length>s;s++)(n=ve(e[s])).height(Math.max(0,t-Me(n,i)))}function Re(e,t){return s=e,(parseFloat(ve.css(s[0],"paddingLeft",!0))||0)+(parseFloat(ve.css(s[0],"paddingRight",!0))||0)+(n=e,(parseFloat(ve.css(n[0],"borderLeftWidth",!0))||0)+(parseFloat(ve.css(n[0],"borderRightWidth",!0))||0))+(t?(i=e,(parseFloat(ve.css(i[0],"marginLeft",!0))||0)+(parseFloat(ve.css(i[0],"marginRight",!0))||0)):0);var i,n,s}function Me(e,t){return s=e,(parseFloat(ve.css(s[0],"paddingTop",!0))||0)+(parseFloat(ve.css(s[0],"paddingBottom",!0))||0)+(n=e,(parseFloat(ve.css(n[0],"borderTopWidth",!0))||0)+(parseFloat(ve.css(n[0],"borderBottomWidth",!0))||0))+(t?(i=e,(parseFloat(ve.css(i[0],"marginTop",!0))||0)+(parseFloat(ve.css(i[0],"marginBottom",!0))||0)):0);var i,n,s}function Ie(e,t){return e-t}function q(e){return Math.max.apply(Math,e)}function t(e){return(e<10?"0":"")+e}function N(e,t){if(e[t]!==be)return e[t];for(var i,n=t.split(/(?=[A-Z])/),s=n.length-1;0<=s;s--)if((i=e[n[s].toLowerCase()])!==be)return i;return e[""]}function Ae(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function Fe(e){e.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function Pe(e){e.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function Oe(e,t){var i=e.source||{},n=e.color,s=i.color,a=t("eventColor"),o=e.backgroundColor||n||i.backgroundColor||s||t("eventBackgroundColor")||a,r=e.borderColor||n||i.borderColor||s||t("eventBorderColor")||a,l=e.textColor||i.textColor||t("eventTextColor"),h=[];return o&&h.push("background-color:"+o),r&&h.push("border-color:"+r),l&&h.push("color:"+l),h.join(";")}function V(e,t,i){if(ve.isFunction(e)&&(e=[e]),e){var n,s;for(n=0;e.length>n;n++)s=e[n].apply(t,i)||s;return s}}function $(){for(var e=0;e<arguments.length;e++)if(arguments[e]!==be)return arguments[e]}function i(a,e,t){function o(e){e.click(i).mousedown(L)}function i(e){if(!A("selectable")){var t=B(ve(this).data("date"));F("dayClick",this,t,!0,e)}}function n(e,t,i){i&&S.build();for(var n=W(e,t),s=0;n.length>s;s++){var a=n[s];o(r(a.row,a.leftCol,a.row,a.rightCol))}}function r(e,t,i,n){var s=S.rect(e,t,i,n,a);return P(s,a)}var u=this;u.renderBasic=function(e,t,i){var n;C=e,x=t,_=i,E=A("theme")?"ui":"fc",N=A("columnFormat"),R=A("weekNumbers"),M=A("weekNumberTitle"),I="iso"!=A("weekNumberCalculation")?"w":"W",c||(v=ve("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(a)),n="<table class='fc-border-separate' style='width:100%' cellspacing='0'>"+function(){var e,t,i=E+"-widget-header",n="";for(n+="<thead><tr>",R&&(n+="<th class='fc-week-number "+i+"'>"+Ae(M)+"</th>"),e=0;e<x;e++)t=z(0,e),n+="<th class='fc-day-header fc-"+$e[t.getDay()]+" "+i+"'>"+Ae(j(t,N))+"</th>";return n+="</tr></thead>"}()+function(){var e,t,i,n,s,a,o,r,l,h=E+"-widget-content",c="";for(c+="<tbody>",e=0;e<C;e++){for(c+="<tr class='fc-week'>",R&&(i=z(e,0),c+="<td class='fc-week-number "+h+"'><div>"+Ae(j(i,I))+"</div></td>"),t=0;t<x;t++)i=z(e,t),c+=(n=i,l=r=void 0,s=E+"-widget-content",a=u.start.getMonth(),o=Ce(new Date),r="",l=["fc-day","fc-"+$e[n.getDay()],s],n.getMonth()!=a&&l.push("fc-other-month"),+n==+o?l.push("fc-today",E+"-state-highlight"):n<o?l.push("fc-past"):l.push("fc-future"),r+="<td class='"+l.join(" ")+"' data-date='"+j(n,"yyyy-MM-dd")+"'><div>",_&&(r+="<div class='fc-day-number'>"+n.getDate()+"</div>"),r+="<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>");c+="</tr>"}return c+="</tbody>"}()+"</table>",s&&s.remove(),s=ve(n).appendTo(a),l=s.find("thead"),h=l.find(".fc-day-header"),c=s.find("tbody"),d=c.find("tr"),p=c.find(".fc-day"),f=d.find("td:first-child"),g=d.eq(0).find(".fc-day > div"),m=d.eq(0).find(".fc-day-content > div"),Pe(l.add(l.find("tr"))),Pe(d),d.eq(0).addClass("fc-first"),d.filter(":last").addClass("fc-last"),p.each(function(e,t){var i=z(Math.floor(e/x),e%x);F("dayRender",u,i,ve(t))}),o(p)},u.setHeight=function(e){var i,n,s,t=e-l.height();"variable"==A("weekMode")?i=n=Math.floor(t/(1==C?2:6)):(i=Math.floor(t/C),n=t-i*(C-1)),f.each(function(e,t){e<C&&(s=ve(t)).find("> div").css("min-height",(e==C-1?n:i)-Me(s))})},u.setWidth=function(e){b=e,k.clear(),D.clear(),w=0,R&&(w=l.find("th.fc-week-number").outerWidth()),y=Math.floor((b-w)/x),Ee(h.slice(0,-1),y)},u.renderDayOverlay=n,u.defaultSelectionEnd=function(e){return xe(e)},u.renderSelection=function(e,t){n(e,ye(xe(t),1),!0)},u.clearSelection=function(){O()},u.reportDayClick=function(e,t,i){var n=H(e),s=p[n.row*x+n.col];F("dayClick",s,e,t,i)},u.dragStart=function(e,t){T.start(function(e){O(),e&&r(e.row,e.col,e.row,e.col)},t)},u.dragStop=function(e,t,i){var n=T.stop();if(O(),n){var s=z(n);F("drop",e,s,!0,t,i)}},u.defaultEventEnd=function(e){return xe(e.start)},u.getHoverListener=function(){return T},u.colLeft=function(e){return k.left(e)},u.colRight=function(e){return k.right(e)},u.colContentLeft=function(e){return D.left(e)},u.colContentRight=function(e){return D.right(e)},u.getIsCellAllDay=function(){return!0},u.allDayRow=function(e){return d.eq(e)},u.getRowCnt=function(){return C},u.getColCnt=function(){return x},u.getColWidth=function(){return y},u.getDaySegmentContainer=function(){return v},He.call(u,a,e,t),Be.call(u),je.call(u),function(){var i=this;i.renderEvents=function(e,t){i.renderDayEvents(e,t)},i.clearEvents=function(){i.getDaySegmentContainer().empty()},We.call(i)}.call(u);var s,l,h,c,d,p,f,g,m,v,b,y,w,C,x,_,S,T,k,D,E,N,R,M,I,A=u.opt,F=u.trigger,P=u.renderOverlay,O=u.clearOverlays,L=u.daySelectionMousedown,z=u.cellToDate,H=u.dateToCell,W=u.rangeToSegments,j=e.formatDate;Fe(a.addClass("fc-grid")),S=new Ue(function(i,n){var s,a,o;h.each(function(e,t){s=ve(t),a=s.offset().left,e&&(o[1]=a),o=[a],n[e]=o}),o[1]=a+s.outerWidth(),d.each(function(e,t){e<C&&(s=ve(t),a=s.offset().top,e&&(o[1]=a),o=[a],i[e]=o)}),o[1]=a+s.outerHeight()}),T=new qe(S),k=new Ve(function(e){return g.eq(e)}),D=new Ve(function(e){return m.eq(e)})}function n(l,e,t){function h(){var e="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'>"+function(){var e,t,i,n=Q+"-widget-header",s="";for(s+="<thead><tr>",te?(e=de(0,0),t=ge(e,ne),K?t+=ie:t=ie+t,s+="<th class='fc-agenda-axis fc-week-number "+n+"'>"+Ae(t)+"</th>"):s+="<th class='fc-agenda-axis "+n+"'>&nbsp;</th>",i=0;i<q;i++)e=de(0,i),s+="<th class='fc-"+$e[e.getDay()]+" fc-col"+i+" "+n+"'>"+Ae(ge(e,ee))+"</th>";return s+="<th class='fc-agenda-gutter "+n+"'>&nbsp;</th></tr></thead>"}()+function(){var e,t,i,n,s,a=Q+"-widget-header",o=Q+"-widget-content",r=Ce(new Date),l="";for(l+="<tbody><tr><th class='fc-agenda-axis "+a+"'>&nbsp;</th>",i="",t=0;t<q;t++)e=de(0,t),s=["fc-col"+t,"fc-"+$e[e.getDay()],o],+e==+r?s.push(Q+"-state-highlight","fc-today"):e<r?s.push("fc-past"):s.push("fc-future"),n="<td class='"+s.join(" ")+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>",i+=n;return l+=i,l+="<td class='fc-agenda-gutter "+o+"'>&nbsp;</td></tr></tbody>"}()+"</table>";b&&b.remove(),b=ve(e).appendTo(l),y=b.find("thead"),w=y.find("th").slice(1,-1),C=b.find("tbody"),x=C.find("td").slice(0,-1),_=x.find("> div"),S=x.find(".fc-day-content > div"),T=x.eq(0),k=_.eq(0),Pe(y.add(y.find("tr"))),Pe(C.add(C.find("tr")))}function c(e){e.click(i).mousedown(ce)}function u(e){e.click(i).mousedown(s)}function i(e){if(!se("selectable")){var t=Math.min(q-1,Math.floor((e.pageX-b.offset().left-L)/z)),i=de(0,t),n=this.parentNode.className.match(/fc-slot(\d+)/);if(n){var s=parseInt(n[1])*se("slotMinutes"),a=Math.floor(s/60);i.setHours(a),i.setMinutes(s%60+J),ae("dayClick",x[t],i,!1,e)}else ae("dayClick",x[t],i,!0,e)}}function n(e,t,i){i&&$.build();for(var n=fe(e,t),s=0;n.length>s;s++){var a=n[s];c(o(a.row,a.leftCol,a.row,a.rightCol))}}function o(e,t,i,n){var s=$.rect(e,t,i,n,D);return oe(s,D)}function d(e,t){for(var i=0;i<q;i++){var n=de(0,i),s=ye(xe(n),1),a=new Date(Math.max(n,e)),o=new Date(Math.min(s,t));if(a<o){var r=$.rect(0,i,0,i,I),l=p(n,a),h=p(n,o);r.top=l,r.height=h-l,u(oe(r,I))}}}function a(e){return se("allDaySlot")&&!e.row}function r(e){var t=de(0,e.col),i=e.row;return se("allDaySlot")&&i--,0<=i&&we(t,J+i*j),t}function p(e,t){if(e=xe(e,!0),we(xe(e),J)>t)return 0;if(t>=we(xe(e),Z))return F.height();var i=se("slotMinutes"),n=60*t.getHours()+t.getMinutes()-J,s=Math.floor(n/i),a=me[s];return a===be&&(a=me[s]=F.find("tr").eq(s).find("td div")[0].offsetTop),Math.max(0,Math.round(a-1+W*(n%i/i)))}function f(e,t){var i=se("selectHelper");if($.build(),i){var n=pe(e).col;if(0<=n&&n<q){var s=$.rect(0,n,0,n,I),a=p(e,e),o=p(e,t);if(a<o){if(s.top=a,s.height=o-a,s.left+=2,s.width-=5,ve.isFunction(i)){var r=i(e,t);r&&(s.position="absolute",P=ve(r).css(s).appendTo(I))}else s.isStart=!0,s.isEnd=!0,(P=ve(ue({title:"",start:e,end:t,className:["fc-select-helper"],editable:!1},s))).css("opacity",se("dragOpacity"));P&&(u(P),I.append(P),Ee(P,s.width,!0),Ne(P,s.height,!0))}}}else d(e,t)}function g(){re(),P&&(P.remove(),P=null)}function s(e){var s;1==e.which&&se("selectable")&&(he(e),Y.start(function(e,t){if(g(),e&&e.col==t.col&&!a(e)){var i=r(t),n=r(e);f((s=[i,we(xe(i),j),n,we(xe(n),j)].sort(Ie))[0],s[3])}else s=null},e),ve(document).one("mouseup",function(e){Y.stop(),s&&(+s[0]==+s[1]&&m(s[0],!1,e),le(s[0],s[3],!1,e))}))}function m(e,t,i){ae("dayClick",x[pe(e).col],e,t,i)}var v=this;v.renderAgenda=function(e){q=e,Q=se("theme")?"ui":"fc",K=se("isRTL"),J=Te(se("minTime")),Z=Te(se("maxTime")),ee=se("columnFormat"),te=se("weekNumbers"),ie=se("weekNumberTitle"),ne="iso"!=se("weekNumberCalculation")?"w":"W",j=se("snapMinutes")||se("slotMinutes"),b?h():function(){var e,t,i,n,s,a=Q+"-widget-header",o=Q+"-widget-content",r=0==se("slotMinutes")%15;for(h(),D=ve("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(l),se("allDaySlot")?(E=ve("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(D),e="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+a+" fc-agenda-axis'>"+se("allDayText")+"</th><td><div class='fc-day-content'><div style='position:relative'/></div></td><th class='"+a+" fc-agenda-gutter'>&nbsp;</th></tr></table>",N=ve(e).appendTo(D),c((R=N.find("tr")).find("td")),D.append("<div class='fc-agenda-divider "+a+"'><div class='fc-agenda-divider-inner'/></div>")):E=ve([]),M=ve("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(D),I=ve("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(M),A=ve("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(I),e="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>",t=_e(),n=we(xe(t),Z),we(t,J),i=V=0;t<n;i++)s=t.getMinutes(),e+="<tr class='fc-slot"+i+" "+(s?"fc-minor":"")+"'><th class='fc-agenda-axis "+a+"'>"+(r&&s?"&nbsp;":ge(t,se("axisFormat")))+"</th><td class='"+o+"'><div style='position:relative'>&nbsp;</div></td></tr>",we(t,se("slotMinutes")),V++;u((F=ve(e+="</tbody></table>").appendTo(I)).find("td"))}()},v.setWidth=function(e){X.clear(),G.clear();var t=y.find("th:first");N&&(t=t.add(N.find("th:first"))),t=t.add(F.find("th:first")),L=0,Ee(t.width("").each(function(e,t){L=Math.max(L,ve(t).outerWidth())}),L);var i=b.find(".fc-agenda-gutter");N&&(i=i.add(N.find("th.fc-agenda-gutter")));var n=M[0].clientWidth;(H=M.width()-n)?(Ee(i,H),i.show().prev().removeClass("fc-last")):i.hide().prev().addClass("fc-last"),z=Math.floor((n-L)/q),Ee(w.slice(0,-1),z)},v.setHeight=function(e){e===be&&(e=O),O=e,me={};var t=C.position().top,i=M.position().top,n=Math.min(e-t,F.height()+i+1);k.height(n-Me(T)),D.css("top",t),M.height(n-i-1),W=F.find("tr:first").height()+1,B=se("slotMinutes")/j,U=W/B},v.afterRender=function(){!function(){function e(){M.scrollTop(n)}var t=_e(),i=xe(t);i.setHours(se("firstHour"));var n=p(t,i)+1;e(),setTimeout(e,0)}()},v.defaultEventEnd=function(e){var t=xe(e.start);return e.allDay?t:we(t,se("defaultEventMinutes"))},v.timePosition=p,v.getIsCellAllDay=a,v.allDayRow=function(){return R},v.getCoordinateGrid=function(){return $},v.getHoverListener=function(){return Y},v.colLeft=function(e){return X.left(e)},v.colRight=function(e){return X.right(e)},v.colContentLeft=function(e){return G.left(e)},v.colContentRight=function(e){return G.right(e)},v.getDaySegmentContainer=function(){return E},v.getSlotSegmentContainer=function(){return A},v.getMinMinute=function(){return J},v.getMaxMinute=function(){return Z},v.getSlotContainer=function(){return I},v.getRowCnt=function(){return 1},v.getColCnt=function(){return q},v.getColWidth=function(){return z},v.getSnapHeight=function(){return U},v.getSnapMinutes=function(){return j},v.defaultSelectionEnd=function(e,t){return t?xe(e):we(xe(e),se("slotMinutes"))},v.renderDayOverlay=n,v.renderSelection=function(e,t,i){i?se("allDaySlot")&&n(e,ye(xe(t),1),!0):f(e,t)},v.clearSelection=g,v.reportDayClick=m,v.dragStart=function(e,t){Y.start(function(e){if(re(),e)if(a(e))o(e.row,e.col,e.row,e.col);else{var t=r(e);d(t,we(xe(t),se("defaultEventMinutes")))}},t)},v.dragStop=function(e,t,i){var n=Y.stop();re(),n&&ae("drop",e,r(n),a(n),t,i)},He.call(v,l,e,t),Be.call(v),je.call(v),function(){function u(e,t,i,n){var s,a,o,r,l,h,c,u,d=[],p=e.length;for(s=0;s<p;s++)o=(a=e[s]).start,i<(r=t[s])&&o<n&&(c=o<i?(l=xe(i),!1):(l=o,!0),u=n<r?(h=xe(n),!1):(h=r,!0),d.push({event:a,start:l,end:h,isStart:c,isEnd:u}));return d.sort(ze)}function d(e){return e.end?xe(e.end):we(xe(e.start),I("defaultEventMinutes"))}function x(e,t){var i="<",n=e.url,s=Oe(e,I),a=["fc-event","fc-event-vert"];return F(e)&&a.push("fc-event-draggable"),t.isStart&&a.push("fc-event-start"),t.isEnd&&a.push("fc-event-end"),a=a.concat(e.className),e.source&&(a=a.concat(e.source.className||[])),i+=n?"a href='"+Ae(e.url)+"'":"div",i+=" class='"+a.join(" ")+"' style='position:absolute;top:"+t.top+"px;left:"+t.left+"px;"+s+"'><div class='fc-event-inner'><div class='fc-event-time'>"+Ae(Q(e.start,e.end,I("timeFormat")))+"</div><div class='fc-event-title'>"+Ae(e.title||"")+"</div></div><div class='fc-event-bg'></div>",t.isEnd&&P(e)&&(i+="<div class='ui-resizable-handle ui-resizable-s'>=</div>"),i+"</"+(n?"a":"div")+">"}function _(e,t,i){var n,s,a,o,r,l,h,c,u,d,p,f,g,m,v,b,y,w,C,x,_,S,T,k,D,E,N=t.find("div.fc-event-time");function R(){var e,t,i;G(),g&&(v?(d.hide(),u.draggable("option","grid",null),X(ye(xe(c.start),C),ye(ke(c),C))):(e=x,i=we(xe(c.start),e),c.end&&(t=we(xe(c.end),e)),d.text(Q(i,t,I("timeFormat"))),d.css("display",""),u.draggable("option","grid",[k,D])))}F(e)&&(c=e,u=t,d=N,S=M.getCoordinateGrid(),T=W(),k=j(),D=B(),E=U(),u.draggable({scroll:!1,grid:[k,D],axis:1==T&&"y",opacity:I("dragOpacity"),revertDuration:I("dragRevertDuration"),start:function(e,t){A("eventDragStart",u,c,e,t),V(c,u),S.build(),p=u.position(),f=S.cell(e.pageX,e.pageY),g=m=!0,v=b=z(f),y=w=0,x=_=C=0},drag:function(e,t){var i=S.cell(e.pageX,e.pageY);if(g=!!i){if(v=z(i),(y=Math.round((t.position.left-p.left)/k))!=w){var n=H(0,f.col),s=f.col+y;s=Math.max(0,s),s=Math.min(T-1,s);var a=H(0,s);C=Se(a,n)}v||(x=Math.round((t.position.top-p.top)/D)*E)}g==m&&v==b&&y==w&&x==_||(R(),m=g,b=v,w=y,_=x),u.draggable("option","revert",!g)},stop:function(e,t){G(),A("eventDragStop",u,c,e,t),g&&(v||C||x)?$(this,c,C,v?0:x,v,e,t):(v=!(g=!0),x=C=y=0,R(),u.css("filter",""),u.css(p),q(c,u))}})),i.isEnd&&P(e)&&(n=e,s=t,a=N,l=B(),h=U(),s.resizable({handles:{s:".ui-resizable-handle"},grid:l,start:function(e,t){o=r=0,V(n,s),A("eventResizeStart",this,n,e,t)},resize:function(e,t){(o=Math.round((Math.max(l,s.height())-t.originalSize.height)/l))!=r&&(a.text(Q(n.start,o||n.end?we(O(n),h*o):null,I("timeFormat"))),r=o)},stop:function(e,t){A("eventResizeStop",this,n,e,t),o?Y(this,n,0,h*o,e,t):q(n,s)}})),L(e,t)}var M=this;M.renderEvents=function(e,t){var i,n=e.length,s=[],a=[];for(i=0;i<n;i++)e[i].allDay?s.push(e[i]):a.push(e[i]);I("allDaySlot")&&(r(s,t),o()),function(e,t){var i,n,s,a,o,r,l,h,c,u,d,p,f,g,m,v,b=e.length,y="",w=S(),C=I("isRTL");for(i=0;i<b;i++)n=e[i],s=n.event,a=T(n.start,n.start),o=T(n.start,n.end),r=k(n.col),l=D(n.col),c=(h=(l-=.025*(h=l-r))-r)*(n.forwardCoord-n.backwardCoord),I("slotEventOverlap")&&(c=Math.max(2*(c-10),c)),C?(d=l-n.backwardCoord*h,u=d-c):(u=r+n.backwardCoord*h,d=u+c),u=Math.max(u,r),d=Math.min(d,l),c=d-u,n.top=a,n.left=u,n.outerWidth=c,n.outerHeight=o-a,y+=x(s,n);for(w[0].innerHTML=y,p=w.children(),i=0;i<b;i++)n=e[i],s=n.event,f=ve(p[i]),!1===(g=A("eventRender",s,s,f))?f.remove():(g&&!0!==g&&(f.remove(),f=ve(g).css({position:"absolute",top:n.top,left:n.left}).appendTo(w)),n.element=f,s._id===t?_(s,f,n):f[0]._fci=i,E(s,f));for(De(w,e,_),i=0;i<b;i++)n=e[i],(f=n.element)&&(n.vsides=Me(f,!0),n.hsides=Re(f,!0),(m=f.find(".fc-event-title")).length&&(n.contentTop=m[0].offsetTop));for(i=0;i<b;i++)n=e[i],(f=n.element)&&(f[0].style.width=Math.max(0,n.outerWidth-n.hsides)+"px",v=Math.max(0,n.outerHeight-n.vsides),f[0].style.height=v+"px",s=n.event,n.contentTop!==be&&v-n.contentTop<10&&(f.find("div.fc-event-time").text(N(s.start,I("timeFormat"))+" - "+s.title),f.find("div.fc-event-title").remove()),A("eventAfterRender",s,s,f))}(function(e){var t,i,n,s,a,o=W(),r=g(),l=p(),h=ve.map(e,d),c=[];for(i=0;i<o;i++)for(we(t=H(0,i),r),a=Le(a=u(e,h,t,we(xe(t),l-r))),n=0;a.length>n;n++)(s=a[n]).col=i,c.push(s);return c}(a),t)},M.clearEvents=function(){e().empty(),S().empty()},M.slotSegHtml=x,We.call(M);var I=M.opt,A=M.trigger,F=M.isEventDraggable,P=M.isEventResizable,O=M.eventEnd,L=M.eventElementHandlers,o=M.setHeight,e=M.getDaySegmentContainer,S=M.getSlotSegmentContainer,t=M.getHoverListener,p=M.getMaxMinute,g=M.getMinMinute,T=M.timePosition,z=M.getIsCellAllDay,k=M.colContentLeft,D=M.colContentRight,H=M.cellToDate,W=M.getColCnt,j=M.getColWidth,B=M.getSnapHeight,U=M.getSnapMinutes,m=M.getSlotContainer,E=M.reportEventElement,q=M.showEvents,V=M.hideEvents,$=M.eventDrop,Y=M.eventResize,X=M.renderDayOverlay,G=M.clearOverlays,r=M.renderDayEvents,i=M.calendar,N=i.formatDate,Q=i.formatDates;M.draggableDayEvent=function(s,a,e){function o(){c||(a.width(i).height("").draggable("option","grid",null),c=!0)}var i,r,l,h=e.isStart,c=!0,n=t(),u=j(),d=B(),p=U(),f=g();a.draggable({opacity:I("dragOpacity","month"),revertDuration:I("dragRevertDuration"),start:function(e,t){A("eventDragStart",a,s,e,t),V(s,a),i=a.width(),n.start(function(e,t){if(G(),e){r=!1;var i=H(0,t.col),n=H(0,e.col);l=Se(n,i),e.row?h?c&&(a.width(u-10),Ne(a,d*Math.round((s.end?(s.end-s.start)/Ye:I("defaultEventMinutes"))/p)),a.draggable("option","grid",[u,1]),c=!1):r=!0:(X(ye(xe(s.start),l),ye(ke(s),l)),o()),r=r||c&&!l}else o(),r=!0;a.draggable("option","revert",r)},e,"drag")},stop:function(e,t){if(n.stop(),G(),A("eventDragStop",a,s,e,t),r)o(),a.css("filter",""),q(s,a);else{var i=0;c||(i=Math.round((a.offset().top-m().offset().top)/d)*p+f-(60*s.start.getHours()+s.start.getMinutes())),$(this,s,l,i,c,e,t)}}})}}.call(v);var b,y,w,C,x,_,S,T,k,D,E,N,R,M,I,A,F,P,O,L,z,H,W,j,B,U,q,V,$,Y,X,G,Q,K,J,Z,ee,te,ie,ne,se=v.opt,ae=v.trigger,oe=v.renderOverlay,re=v.clearOverlays,le=v.reportSelection,he=v.unselect,ce=v.daySelectionMousedown,ue=v.slotSegHtml,de=v.cellToDate,pe=v.dateToCell,fe=v.rangeToSegments,ge=e.formatDate,me={};Fe(l.addClass("fc-agenda")),$=new Ue(function(e,i){function t(e){return Math.max(r,Math.min(l,e))}var n,s,a;w.each(function(e,t){n=ve(t),s=n.offset().left,e&&(a[1]=s),a=[s],i[e]=a}),a[1]=s+n.outerWidth(),se("allDaySlot")&&(s=(n=R).offset().top,e[0]=[s,s+n.outerHeight()]);for(var o=I.offset().top,r=M.offset().top,l=r+M.outerHeight(),h=0;h<V*B;h++)e.push([t(o+U*h),t(o+U*(h+1))])}),Y=new qe($),X=new Ve(function(e){return _.eq(e)}),G=new Ve(function(e){return S.eq(e)})}function Le(e){var t,i=function(e){var t,i,n,s=[];for(t=0;e.length>t;t++){for(i=e[t],n=0;s.length>n&&h(i,s[n]).length;n++);(s[n]||(s[n]=[])).push(i)}return s}(e),n=i[0];if(function(e){var t,i,n,s,a;for(t=0;e.length>t;t++)for(i=e[t],n=0;i.length>n;n++)for((s=i[n]).forwardSegs=[],a=t+1;e.length>a;a++)h(s,e[a],s.forwardSegs)}(i),n){for(t=0;n.length>t;t++)a(n[t]);for(t=0;n.length>t;t++)l(n[t],0,0)}return function(e){var t,i,n,s=[];for(t=0;e.length>t;t++)for(i=e[t],n=0;i.length>n;n++)s.push(i[n]);return s}(i)}function a(e){var t,i,n=e.forwardSegs,s=0;if(e.forwardPressure===be){for(t=0;n.length>t;t++)a(i=n[t]),s=Math.max(s,1+i.forwardPressure);e.forwardPressure=s}}function l(e,t,i){var n,s=e.forwardSegs;if(e.forwardCoord===be)for(s.length?(s.sort(c),l(s[0],t+1,i),e.forwardCoord=s[0].backwardCoord):e.forwardCoord=1,e.backwardCoord=e.forwardCoord-(e.forwardCoord-i)/(t+1),n=0;s.length>n;n++)l(s[n],0,e.forwardCoord)}function h(e,t,i){i=i||[];for(var n=0;t.length>n;n++)s=e,a=t[n],s.end>a.start&&s.start<a.end&&i.push(t[n]);var s,a;return i}function c(e,t){return t.forwardPressure-e.forwardPressure||(e.backwardCoord||0)-(t.backwardCoord||0)||ze(e,t)}function ze(e,t){return e.start-t.start||t.end-t.start-(e.end-e.start)||(e.event.title||"").localeCompare(t.event.title)}function He(e,i,n){function s(e,t){var i=v[e];return ve.isPlainObject(i)?N(i,t||n):i}function h(e,t){return i.trigger.apply(i,[e,t||_].concat(Array.prototype.slice.call(arguments,2),[_]))}function o(e){return e.end?xe(e.end):u(e)}function a(e,t,i){var n,s=g[e._id],a=s.length;for(n=0;n<a;n++)t&&s[n][0]==t[0]||s[n][i]()}function c(e,t,i,n){i=i||0;for(var s,a=e.length,o=0;o<a;o++)s=e[o],n!==be&&(s.allDay=n),we(ye(s.start,t,!0),i),s.end&&(s.end=we(ye(s.end,t,!0),i)),d(s,v)}function r(e,t,i){i=i||0;for(var n,s=e.length,a=0;a<s;a++)(n=e[a]).end=we(ye(o(n),t,!0),i),d(n,v)}function t(e,t){var i=_.getColCnt(),n=E?-1:1,s=E?i-1:0;return"object"==typeof e&&(t=e.col,e=e.row),e*i+(t*n+s)}function y(e){var t=_.visStart.getDay();return e+=k[t],7*Math.floor(e/b)+D[(e%b+b)%b]-t}function l(e){var t=xe(_.visStart);return ye(t,e),t}function w(e){return Se(e,_.visStart)}function C(e){var t=_.visStart.getDay();return e+=t,Math.floor(e/7)*b+k[(e%7+7)%7]-k[t]}function x(e){var t=_.getColCnt(),i=E?-1:1,n=E?t-1:0;return{row:Math.floor(e/t),col:(e%t+t)%t*i+n}}var _=this;_.element=e,_.calendar=i,_.name=n,_.opt=s,_.trigger=h,_.isEventDraggable=function(e){var t=e.source||{};return $(e.startEditable,t.startEditable,s("eventStartEditable"),e.editable,t.editable,s("editable"))&&!s("disableDragging")},_.isEventResizable=function(e){var t=e.source||{};return $(e.durationEditable,t.durationEditable,s("eventDurationEditable"),e.editable,t.editable,s("editable"))&&!s("disableResizing")},_.setEventData=function(e){f={};var t,i,n=e.length;for(t=0;t<n;t++)i=e[t],f[i._id]?f[i._id].push(i):f[i._id]=[i]},_.clearEventData=function(){f={},g={},m=[]},_.eventEnd=o,_.reportEventElement=function(e,t){m.push({event:e,element:t}),g[e._id]?g[e._id].push(t):g[e._id]=[t]},_.triggerEventDestroy=function(){ve.each(m,function(e,t){_.trigger("eventDestroy",t.event,t.event,t.element)})},_.eventElementHandlers=function(t,i){i.click(function(e){return i.hasClass("ui-draggable-dragging")||i.hasClass("ui-resizable-resizing")?be:h("eventClick",this,t,e)}).hover(function(e){h("eventMouseover",this,t,e)},function(e){h("eventMouseout",this,t,e)})},_.showEvents=function(e,t){a(e,t,"show")},_.hideEvents=function(e,t){a(e,t,"hide")},_.eventDrop=function(e,t,i,n,s,a,o){var r=t.allDay,l=t._id;c(f[l],i,n,s),h("eventDrop",e,t,i,n,s,function(){c(f[l],-i,-n,r),p(l)},a,o),p(l)},_.eventResize=function(e,t,i,n,s,a){var o=t._id;r(f[o],i,n),h("eventResize",e,t,i,n,function(){r(f[o],-i,-n),p(o)},s,a),p(o)};var u=_.defaultEventEnd,d=i.normalizeEvent,p=i.reportEventChange,f={},g={},m=[],v=i.options;_.isHiddenDay=function(e){return"object"==typeof e&&(e=e.getDay()),T[e]},_.skipHiddenDays=function(e,t,i){for(t=t||1;T[(e.getDay()+(i?t:0)+7)%7];)ye(e,t)},_.getCellsPerWeek=function(){return b},_.dateToCell=function(e){return x(C(w(e)))},_.dateToDayOffset=w,_.dayOffsetToCellOffset=C,_.cellOffsetToCell=x,_.cellToDate=function(){return l(y(t.apply(null,arguments)))},_.cellToCellOffset=t,_.cellOffsetToDayOffset=y,_.dayOffsetToDate=l,_.rangeToSegments=function(e,t){for(var i=_.getRowCnt(),n=_.getColCnt(),s=[],a=w(e),o=w(t),r=C(a),l=C(o)-1,h=0;h<i;h++){var c=h*n,u=c+n-1,d=Math.max(r,c),p=Math.min(l,u);if(d<=p){var f=x(d),g=x(p),m=[f.col,g.col].sort(),v=y(d)==a,b=y(p)+1==o;s.push({row:h,leftCol:m[0],rightCol:m[1],isStart:v,isEnd:b})}}return s};var b,S=s("hiddenDays")||[],T=[],k=[],D=[],E=s("isRTL");!function(){!1===s("weekends")&&S.push(0,6);for(var e=0,t=0;e<7;e++)k[e]=t,T[e]=-1!=ve.inArray(e,S),T[e]||(D[t]=e,t++);if(!(b=t))throw"invalid hiddenDays"}()}function We(){function b(e,t,i){var n,s,a=D(),o=t?ve("<div/>"):a,r=function(e){for(var t=[],i=0;e.length>i;i++){var n=l(e[i]);t.push.apply(t,n)}return t}(e);return function(e){for(var t=c("isRTL"),i=0;e.length>i;i++){var n=e[i],s=(t?n.isEnd:n.isStart)?v:g,a=(t?n.isStart:n.isEnd)?k:m,o=s(n.leftCol),r=a(n.rightCol);n.left=o,n.outerWidth=r-o}}(r),n=function(e){for(var t="",i=0;e.length>i;i++)t+=h(e[i]);return t}(r),o[0].innerHTML=n,s=o.children(),t&&a.append(s),function(e,t){for(var i=0;e.length>i;i++){var n=e[i],s=n.event,a=t.eq(i),o=y("eventRender",s,s,a);!1===o?a.remove():(o&&!0!==o&&(o=ve(o).css({position:"absolute",left:n.left}),a.replaceWith(o),a=o),n.element=a)}}(r,s),X(r,function(e,t){e.hsides=Re(t,!0)}),X(r,function(e,t){t.width(Math.max(0,e.outerWidth-e.hsides))}),X(r,function(e,t){e.outerHeight=t.outerHeight(!0)}),function(e,t){var i=function(e){for(var t=S(),i=T(),n=[],s=function(e){var t,i,n,s=S(),a=[];for(t=0;e.length>t;t++)i=e[t],n=i.row,i.element&&(a[n]?a[n].push(i):a[n]=[i]);for(n=0;n<s;n++)a[n]=u(a[n]||[]);return a}(e),a=0;a<t;a++){for(var o=s[a],r=[],l=0;l<i;l++)r.push(0);for(var h=0;o.length>h;h++){var c=o[h];c.top=q(r.slice(c.leftCol,c.rightCol+1));for(l=c.leftCol;c.rightCol>=l;l++)r[l]=c.top+c.outerHeight}n.push(q(r))}return n}(e),n=function(){var e,t=S(),i=[];for(e=0;e<t;e++)i[e]=f(e).find("div.fc-day-content > div");return i}(),s=[];if(t)for(var a=0;n.length>a;a++)n[a].height(i[a]);for(a=0;n.length>a;a++)s.push(n[a].position().top);X(e,function(e,t){t.css("top",s[e.row]+e.top)})}(r,i),r}function l(e){for(var t=e.start,i=ke(e),n=A(t,i),s=0;n.length>s;s++)n[s].event=e;return n}function h(e){var t="",i=c("isRTL"),n=e.event,s=n.url,a=["fc-event","fc-event-hori"];r(n)&&a.push("fc-event-draggable"),e.isStart&&a.push("fc-event-start"),e.isEnd&&a.push("fc-event-end"),a=a.concat(n.className),n.source&&(a=a.concat(n.source.className||[]));var o=Oe(n,c);return t+=s?"<a href='"+Ae(s)+"'":"<div",t+=" class='"+a.join(" ")+"' style='position:absolute;left:"+e.left+"px;"+o+"'><div class='fc-event-inner'>",!n.allDay&&e.isStart&&(t+="<span class='fc-event-time'>"+Ae(E(n.start,n.end,c("timeFormat")))+"</span>"),t+="<span class='fc-event-title'>"+Ae(n.title||"")+"</span></div>",e.isEnd&&d(n)&&(t+="<div class='ui-resizable-handle ui-resizable-"+(i?"w":"e")+"'>&nbsp;&nbsp;&nbsp;</div>"),t+"</"+(s?"a":"div")+">"}function u(e){for(var t=[],i=function(e){e.sort(G);for(var t=[],i=0;e.length>i;i++){for(var n=e[i],s=0;t.length>s&&Y(n,t[s]);s++);t[s]?t[s].push(n):t[s]=[n]}return t}(e),n=0;i.length>n;n++)t.push.apply(t,i[n]);return t}function o(e,t,i){r(e)&&n.draggableDayEvent(e,t,i),i.isEnd&&d(e)&&n.resizableDayEvent(e,t,i),s(e,t)}var n=this;n.renderDayEvents=function(e,t){var i,s,n,a=b(e,!1,!0);X(a,function(e,t){p(e.event,t)}),i=a,s=t,n=D(),X(i,function(e,t,i){var n=e.event;n._id===s?o(n,t,e):t[0]._fci=i}),De(n,i,o),X(a,function(e,t){y("eventAfterRender",e.event,e.event,t)})},n.draggableDayEvent=function(o,r){var l,i=I();r.draggable({delay:50,opacity:c("dragOpacity"),revertDuration:c("dragRevertDuration"),start:function(e,t){y("eventDragStart",r,o,e,t),x(o,r),i.start(function(e,t,i,n){if(r.draggable("option","revert",!e||!i&&!n),R(),e){var s=F(t),a=F(e);l=Se(a,s),N(ye(xe(o.start),l),ye(ke(o),l))}else l=0},e,"drag")},stop:function(e,t){i.stop(),R(),y("eventDragStop",r,o,e,t),l?a(this,o,l,0,o.allDay,e,t):(r.css("filter",""),C(o,r))}})},n.resizableDayEvent=function(g,i,m){var v=c("isRTL")?"w":"e",e=i.find(".ui-resizable-"+v),n=!1;Fe(i),i.mousedown(function(e){e.preventDefault()}).click(function(e){n&&(e.preventDefault(),e.stopImmediatePropagation())}),e.mousedown(function(e){if(1==e.which){n=!0;var t=I();S(),T();var c,u,d=i.css("top"),p=ve.extend({},g),f=z(L(g.start));M(),ve("body").css("cursor",v+"-resize").one("mouseup",function(e){y("eventResizeStop",this,g,e),ve("body").css("cursor",""),t.stop(),R(),c&&_(this,g,c,0,e),setTimeout(function(){n=!1},0)}),y("eventResizeStart",this,g,e),t.start(function(e,t){if(e){var i=P(t),n=P(e);if(n=Math.max(n,f),c=O(n)-O(i)){p.end=ye(w(g),c,!0);var s=u;a=p,o=m.row,r=d,l=b([a],!0,!1),h=[],X(l,function(e,t){e.row===o&&t.css("top",r),h.push(t[0])}),(u=ve(u=h)).find("*").css("cursor",v+"-resize"),s&&s.remove(),x(g)}else u&&(C(g),u.remove(),u=null);R(),N(g.start,ye(ke(g),c))}var a,o,r,l,h},e)}})};var c=n.opt,y=n.trigger,r=n.isEventDraggable,d=n.isEventResizable,w=n.eventEnd,p=n.reportEventElement,s=n.eventElementHandlers,C=n.showEvents,x=n.hideEvents,a=n.eventDrop,_=n.eventResize,S=n.getRowCnt,T=n.getColCnt;n.getColWidth;var f=n.allDayRow,g=n.colLeft,m=n.colRight,v=n.colContentLeft,k=n.colContentRight;n.dateToCell;var D=n.getDaySegmentContainer,E=n.calendar.formatDates,N=n.renderDayOverlay,R=n.clearOverlays,M=n.clearSelection,I=n.getHoverListener,A=n.rangeToSegments,F=n.cellToDate,P=n.cellToCellOffset,O=n.cellOffsetToDayOffset,L=n.dateToDayOffset,z=n.dayOffsetToCellOffset}function Y(e,t){for(var i=0;t.length>i;i++){var n=t[i];if(n.leftCol<=e.rightCol&&n.rightCol>=e.leftCol)return!0}return!1}function X(e,t){for(var i=0;e.length>i;i++){var n=e[i],s=n.element;s&&t(n,s,i)}}function G(e,t){return t.rightCol-t.leftCol-(e.rightCol-e.leftCol)||t.event.allDay-e.event.allDay||e.event.start-t.event.start||(e.event.title||"").localeCompare(t.event.title)}function je(){function o(e){a&&(a=!1,u(),s("unselect",null,e))}function r(e,t,i,n){a=!0,s("select",null,e,t,i,n)}var l=this;l.select=function(e,t,i){o(),t=t||n(e,i),c(e,t,i),r(e,t,i)},l.unselect=o,l.reportSelection=r,l.daySelectionMousedown=function(e){var i,n=l.cellToDate,s=l.getIsCellAllDay,t=l.getHoverListener(),a=l.reportDayClick;1==e.which&&h("selectable")&&(o(e),t.start(function(e,t){u(),e&&s(e)?(i=[n(t),n(e)].sort(Ie),c(i[0],i[1],!0)):i=null},e),ve(document).one("mouseup",function(e){t.stop(),i&&(+i[0]==+i[1]&&a(i[0],!0,e),r(i[0],i[1],!0,e))}))};var h=l.opt,s=l.trigger,n=l.defaultSelectionEnd,c=l.renderSelection,u=l.clearSelection,a=!1;h("selectable")&&h("unselectAuto")&&ve(document).mousedown(function(e){var t=h("unselectCancel");t&&ve(e.target).parents(t).length||o(e)})}function Be(){this.renderOverlay=function(e,t){var i=s.shift();return(i=i||ve("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>"))[0].parentNode!=t[0]&&i.appendTo(t),n.push(i.css(e).show()),i},this.clearOverlays=function(){for(var e;e=n.shift();)s.push(e.hide().unbind())};var n=[],s=[]}function Ue(e){var r,l;this.build=function(){e(r=[],l=[])},this.cell=function(e,t){var i,n=r.length,s=l.length,a=-1,o=-1;for(i=0;i<n;i++)if(t>=r[i][0]&&r[i][1]>t){a=i;break}for(i=0;i<s;i++)if(e>=l[i][0]&&l[i][1]>e){o=i;break}return 0<=a&&0<=o?{row:a,col:o}:null},this.rect=function(e,t,i,n,s){var a=s.offset();return{top:r[e][0]-a.top,left:l[t][0]-a.left,width:l[n][1]-l[t][0],height:r[i][1]-r[e][0]}}}function qe(n){function s(e){var t;(t=e).pageX===be&&(t.pageX=t.originalEvent.pageX,t.pageY=t.originalEvent.pageY);var i=n.cell(e.pageX,e.pageY);!i==!l&&(!i||i.row==l.row&&i.col==l.col)||(i?o(i,r=r||i,i.row-r.row,i.col-r.col):o(i,r),l=i)}var a,o,r,l;this.start=function(e,t,i){o=e,r=l=null,n.build(),s(t),a=i||"mousemove",ve(document).bind(a,s)},this.stop=function(){return ve(document).unbind(a,s),l}}function Ve(t){function i(e){return s[e]=s[e]||t(e)}var n=this,s={},a={},o={};n.left=function(e){return a[e]=a[e]===be?i(e).position().left:a[e]},n.right=function(e){return o[e]=o[e]===be?n.left(e)+i(e).width():o[e]},n.clear=function(){s={},a={},o={}}}var f={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"iso",weekNumberTitle:"W",allDayDefault:!0,ignoreTimezone:!0,lazyFetching:!0,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:!1,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"<span class='fc-text-arrow'>&lsaquo;</span>",next:"<span class='fc-text-arrow'>&rsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&laquo;</span>",nextYear:"<span class='fc-text-arrow'>&raquo;</span>",today:"today",month:"month",week:"week",day:"day"},theme:!1,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:!0,dropAccept:"*",handleWindowResize:!0},u={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"<span class='fc-text-arrow'>&rsaquo;</span>",next:"<span class='fc-text-arrow'>&lsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&raquo;</span>",nextYear:"<span class='fc-text-arrow'>&laquo;</span>"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},Q=ve.fullCalendar={version:"1.6.4"},K=Q.views={};ve.fn.fullCalendar=function(s){if("string"==typeof s){var i,n=Array.prototype.slice.call(arguments,1);return this.each(function(){var e=ve.data(this,"fullCalendar");if(e&&ve.isFunction(e[s])){var t=e[s].apply(e,n);i===be&&(i=t),"destroy"==s&&ve.removeData(this,"fullCalendar")}}),i!==be?i:this}var a=(s=s||{}).eventSources||[];return delete s.eventSources,s.events&&(a.push(s.events),delete s.events),s=ve.extend(!0,{},f,s.isRTL||s.isRTL===be&&f.isRTL?u:{},s),this.each(function(e,t){var i=ve(t),n=new o(i,s,a);i.data("fullCalendar",n),n.render()}),this},Q.sourceNormalizers=[];var J={dataType:"json",cache:!(Q.sourceFetchers=[])},Z=1;Q.addDays=ye,Q.cloneDate=xe,Q.parseDate=W,Q.parseISO8601=B,Q.parseTime=Te,Q.formatDate=j,Q.formatDates=U;var $e=["sun","mon","tue","wed","thu","fri","sat"],s=864e5,d=36e5,Ye=6e4,g={s:function(e){return e.getSeconds()},ss:function(e){return t(e.getSeconds())},m:function(e){return e.getMinutes()},mm:function(e){return t(e.getMinutes())},h:function(e){return e.getHours()%12||12},hh:function(e){return t(e.getHours()%12||12)},H:function(e){return e.getHours()},HH:function(e){return t(e.getHours())},d:function(e){return e.getDate()},dd:function(e){return t(e.getDate())},ddd:function(e,t){return t.dayNamesShort[e.getDay()]},dddd:function(e,t){return t.dayNames[e.getDay()]},M:function(e){return e.getMonth()+1},MM:function(e){return t(e.getMonth()+1)},MMM:function(e,t){return t.monthNamesShort[e.getMonth()]},MMMM:function(e,t){return t.monthNames[e.getMonth()]},yy:function(e){return(e.getFullYear()+"").substring(2)},yyyy:function(e){return e.getFullYear()},t:function(e){return e.getHours()<12?"a":"p"},tt:function(e){return e.getHours()<12?"am":"pm"},T:function(e){return e.getHours()<12?"A":"P"},TT:function(e){return e.getHours()<12?"AM":"PM"},u:function(e){return j(e,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(e){var t=e.getDate();return 10<t&&t<20?"th":["st","nd","rd"][t%10-1]||"th"},w:function(e,t){return t.weekNumberCalculation(e)},W:function(e){return(i=new Date(e.getTime())).setDate(i.getDate()+4-(i.getDay()||7)),t=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((t-i)/864e5)/7)+1;var t,i}};Q.dateFormatters=g,Q.applyAll=V,K.month=function(e,t){var h=this;h.render=function(e,t){t&&(z(e,t),e.setDate(1));var i=c("firstDay"),n=xe(e,!0);n.setDate(1);var s=z(xe(n),1),a=xe(n);ye(a,-(a.getDay()-i+7)%7),d(a);var o=xe(s);ye(o,(7-o.getDay()+i)%7),d(o,-1,!0);var r=p(),l=Math.round(Se(o,a)/7);"fixed"==c("weekMode")&&(ye(o,7*(6-l)),l=6),h.title=f(n,c("titleFormat")),h.start=n,h.end=s,h.visStart=a,h.visEnd=o,u(l,r,!0)},i.call(h,e,t,"month");var c=h.opt,u=h.renderBasic,d=h.skipHiddenDays,p=h.getCellsPerWeek,f=t.formatDate},K.basicWeek=function(e,t){var r=this;r.render=function(e,t){t&&ye(e,7*t);var i=ye(xe(e),-(e.getDay()-l("firstDay")+7)%7),n=ye(xe(i),7),s=xe(i);c(s);var a=xe(n);c(a,-1,!0);var o=u();r.start=i,r.end=n,r.visStart=s,r.visEnd=a,r.title=d(s,ye(xe(a),-1),l("titleFormat")),h(1,o,!1)},i.call(r,e,t,"basicWeek");var l=r.opt,h=r.renderBasic,c=r.skipHiddenDays,u=r.getCellsPerWeek,d=t.formatDates},K.basicDay=function(e,t){var s=this;s.render=function(e,t){t&&ye(e,t),r(e,t<0?-1:1);var i=xe(e,!0),n=ye(xe(i),1);s.title=l(e,a("titleFormat")),s.start=s.visStart=i,s.end=s.visEnd=n,o(1,1,!1)},i.call(s,e,t,"basicDay");var a=s.opt,o=s.renderBasic,r=s.skipHiddenDays,l=t.formatDate},e({weekMode:"fixed"}),K.agendaWeek=function(e,t){var r=this;r.render=function(e,t){t&&ye(e,7*t);var i=ye(xe(e),-(e.getDay()-l("firstDay")+7)%7),n=ye(xe(i),7),s=xe(i);c(s);var a=xe(n);c(a,-1,!0);var o=u();r.title=d(s,ye(xe(a),-1),l("titleFormat")),r.start=i,r.end=n,r.visStart=s,r.visEnd=a,h(o)},n.call(r,e,t,"agendaWeek");var l=r.opt,h=r.renderAgenda,c=r.skipHiddenDays,u=r.getCellsPerWeek,d=t.formatDates},K.agendaDay=function(e,t){var s=this;s.render=function(e,t){t&&ye(e,t),r(e,t<0?-1:1);var i=xe(e,!0),n=ye(xe(i),1);s.title=l(e,a("titleFormat")),s.start=s.visStart=i,s.end=s.visEnd=n,o(1)},n.call(s,e,t,"agendaDay");var a=s.opt,o=s.renderAgenda,r=s.skipHiddenDays,l=t.formatDate},e({allDaySlot:!0,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:.5},minTime:0,maxTime:24,slotEventOverlap:!0})}(jQuery),function(h){var e=h.fullCalendar,c=e.formatDate,u=e.parseISO8601,d=e.addDays,p=e.applyAll;e.sourceNormalizers.push(function(e){("gcal"==e.dataType||void 0===e.dataType&&(e.url||"").match(/^(http|https):\/\/www.google.com\/calendar\/feeds\//))&&(e.dataType="gcal",void 0===e.editable&&(e.editable=!1))}),e.sourceFetchers.push(function(e,t,i){return"gcal"==e.dataType?(s=t,a=i,o=(n=e).success,r=h.extend({},n.data||{},{"start-min":c(s,"u"),"start-max":c(a,"u"),singleevents:!0,"max-results":9999}),(l=n.currentTimezone)&&(r.ctz=l=l.replace(" ","_")),h.extend({},n,{url:n.url.replace(/\/basic$/,"/full")+"?alt=json-in-script&callback=?",dataType:"jsonp",data:r,startParam:!1,endParam:!1,success:function(e){var r=[];e.feed.entry&&h.each(e.feed.entry,function(e,t){var i,n=t.gd$when[0].startTime,s=u(n,!0),a=u(t.gd$when[0].endTime,!0),o=-1==n.indexOf("T");h.each(t.link,function(e,t){"text/html"==t.type&&(i=t.href,l&&(i+=(-1==i.indexOf("?")?"?":"&")+"ctz="+l))}),o&&d(a,-1),r.push({id:t.gCal$uid.value,title:t.title.$t,url:i,start:s,end:a,allDay:o,location:t.gd$where[0].valueString,description:t.content.$t})});var t=[r].concat(Array.prototype.slice.call(arguments,1)),i=p(o,this,t);return h.isArray(i)?i:r}})):void 0;var n,s,a,o,r,l}),e.gcalFeed=function(e,t){return h.extend({},t,{url:e,dataType:"gcal"})}}(jQuery),function(u){u.easyPieChart=function(e,i){var n,t,o,r,l,h,s,a,c=this;return this.el=e,this.$el=u(e),this.$el.data("easyPieChart",this),this.init=function(){var e,t;return c.options=u.extend({},u.easyPieChart.defaultOptions,i),e=parseInt(c.$el.data("percent"),10),c.percentage=0,c.canvas=u("<canvas width='"+c.options.size+"' height='"+c.options.size+"'></canvas>").get(0),c.$el.append(c.canvas),"undefined"!=typeof G_vmlCanvasManager&&null!==G_vmlCanvasManager&&G_vmlCanvasManager.initElement(c.canvas),c.ctx=c.canvas.getContext("2d"),1<window.devicePixelRatio&&(t=window.devicePixelRatio,u(c.canvas).css({width:c.options.size,height:c.options.size}),c.canvas.width*=t,c.canvas.height*=t,c.ctx.scale(t,t)),c.ctx.translate(c.options.size/2,c.options.size/2),c.ctx.rotate(c.options.rotate*Math.PI/180),c.$el.addClass("easyPieChart"),c.$el.css({width:c.options.size,height:c.options.size,lineHeight:c.options.size+"px"}),c.update(e),c},this.update=function(e){return e=parseFloat(e)||0,!1===c.options.animate?o(e):c.options.delay?(t(c.percentage,0),setTimeout(function(){return t(c.percentage,e)},c.options.delay)):t(c.percentage,e),c},s=function(){var e,t,i;for(c.ctx.fillStyle=c.options.scaleColor,c.ctx.lineWidth=1,i=[],e=t=0;t<=24;e=++t)i.push(n(e));return i},n=function(e){var t;t=0==e%6?0:.017*c.options.size,c.ctx.save(),c.ctx.rotate(e*Math.PI/12),c.ctx.fillRect(c.options.size/2-t,0,.05*-c.options.size+t,1),c.ctx.restore()},a=function(){var e;e=c.options.size/2-c.options.lineWidth/2,!1!==c.options.scaleColor&&(e-=.08*c.options.size),c.ctx.beginPath(),c.ctx.arc(0,0,e,0,2*Math.PI,!0),c.ctx.closePath(),c.ctx.strokeStyle=c.options.trackColor,c.ctx.lineWidth=c.options.lineWidth,c.ctx.stroke()},h=function(){!1!==c.options.scaleColor&&s(),!1!==c.options.trackColor&&a()},o=function(e){var t;h(),c.ctx.strokeStyle=u.isFunction(c.options.barColor)?c.options.barColor(e):c.options.barColor,c.ctx.lineCap=c.options.lineCap,c.ctx.lineWidth=c.options.lineWidth,t=c.options.size/2-c.options.lineWidth/2,!1!==c.options.scaleColor&&(t-=.08*c.options.size),c.ctx.save(),c.ctx.rotate(-Math.PI/2),c.ctx.beginPath(),c.ctx.arc(0,0,t,0,2*Math.PI*e/100,!1),c.ctx.stroke(),c.ctx.restore()},l=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)},t=function(i,n){var s,a;c.options.onStart.call(c),c.percentage=n,Date.now||(Date.now=function(){return+new Date}),a=Date.now(),s=function(){var e,t;return t=Math.min(Date.now()-a,c.options.animate),c.ctx.clearRect(-c.options.size/2,-c.options.size/2,c.options.size,c.options.size),h.call(c),e=[r(t,i,n-i,c.options.animate)],c.options.onStep.call(c,e),o.call(c,e),t>=c.options.animate?c.options.onStop.call(c,e,n):l(s)},l(s)},r=function(e,t,i,n){var s;return s=function(e){return Math.pow(e,2)},i/2*function(e){return e<1?s(e):2-s(e/2*-2+2)}(e/=n/2)+t},this.init()},u.easyPieChart.defaultOptions={barColor:"#ef1e25",trackColor:"#f2f2f2",scaleColor:"#dfe0e0",lineCap:"round",rotate:0,size:110,lineWidth:3,animate:!1,delay:!1,onStart:u.noop,onStop:u.noop,onStep:u.noop},u.fn.easyPieChart=function(s){return u.each(this,function(e,t){var i,n;return(i=u(t)).data("easyPieChart")?void 0:(n=u.extend({},s,i.data()),i.data("easyPieChart",new u.easyPieChart(t,n)))})}}(jQuery),function(a){a.color={},a.color.make=function(e,t,i,n){var s={};return s.r=e||0,s.g=t||0,s.b=i||0,s.a=null!=n?n:1,s.add=function(e,t){for(var i=0;i<e.length;++i)s[e.charAt(i)]+=t;return s.normalize()},s.scale=function(e,t){for(var i=0;i<e.length;++i)s[e.charAt(i)]*=t;return s.normalize()},s.toString=function(){return 1<=s.a?"rgb("+[s.r,s.g,s.b].join(",")+")":"rgba("+[s.r,s.g,s.b,s.a].join(",")+")"},s.normalize=function(){function e(e,t,i){return t<e?e:i<t?i:t}return s.r=e(0,parseInt(s.r),255),s.g=e(0,parseInt(s.g),255),s.b=e(0,parseInt(s.b),255),s.a=e(0,s.a,1),s},s.clone=function(){return a.color.make(s.r,s.b,s.g,s.a)},s.normalize()},a.color.extract=function(e,t){var i;do{if(""!=(i=e.css(t).toLowerCase())&&"transparent"!=i)break;e=e.parent()}while(e.length&&!a.nodeName(e.get(0),"body"));return"rgba(0, 0, 0, 0)"==i&&(i="transparent"),a.color.parse(i)},a.color.parse=function(e){var t,i=a.color.make;if(t=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(e))return i(parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3],10));if(t=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(e))return i(parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3],10),parseFloat(t[4]));if(t=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(e))return i(2.55*parseFloat(t[1]),2.55*parseFloat(t[2]),2.55*parseFloat(t[3]));if(t=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(e))return i(2.55*parseFloat(t[1]),2.55*parseFloat(t[2]),2.55*parseFloat(t[3]),parseFloat(t[4]));if(t=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(e))return i(parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16));if(t=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(e))return i(parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16));var n=a.trim(e).toLowerCase();return"transparent"==n?i(255,255,255,0):i((t=s[n]||[0,0,0])[0],t[1],t[2])};var s={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(jQuery),function(Y){var p=Object.prototype.hasOwnProperty;function X(e,t){var i=t.children("."+e)[0];if(null==i&&((i=document.createElement("canvas")).className=e,Y(i).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(t),!i.getContext)){if(!window.G_vmlCanvasManager)throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");i=window.G_vmlCanvasManager.initElement(i)}this.element=i;var n=this.context=i.getContext("2d"),s=window.devicePixelRatio||1,a=n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1;this.pixelRatio=s/a,this.resize(t.width(),t.height()),this.textContainer=null,this.text={},this._textCache={}}function n(m,e,t,n){var T=[],k={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1e3/60},hooks:{}},p=null,i=null,c=null,v=null,h=null,f=[],g=[],b={left:0,right:0,top:0,bottom:0},y=0,w=0,S={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},C=this;function D(e,t){t=[C].concat(t);for(var i=0;i<e.length;++i)e[i].apply(this,t)}function s(e){T=function(e){for(var t=[],i=0;i<e.length;++i){var n=Y.extend(!0,{},k.series);null!=e[i].data?(n.data=e[i].data,delete e[i].data,Y.extend(!0,n,e[i]),e[i].data=n.data):n.data=e[i],t.push(n)}return t}(e),function(){var e,t=T.length,i=-1;for(e=0;e<T.length;++e){var n=T[e].color;null!=n&&(t--,"number"==typeof n&&i<n&&(i=n))}t<=i&&(t=i+1);var s,a=[],o=k.colors,r=o.length,l=0;for(e=0;e<t;e++)s=Y.color.parse(o[e%r]||"#666"),e%r==0&&e&&(l=0<=l?l<.5?-l-.2:0:-l),a[e]=s.scale("rgb",1+l);var h,c=0;for(e=0;e<T.length;++e){if(null==(h=T[e]).color?(h.color=a[c].toString(),++c):"number"==typeof h.color&&(h.color=a[h.color].toString()),null==h.lines.show){var u,d=!0;for(u in h)if(h[u]&&h[u].show){d=!1;break}d&&(h.lines.show=!0)}null==h.lines.zero&&(h.lines.zero=!!h.lines.fill),h.xaxis=_(f,x(h,"x")),h.yaxis=_(g,x(h,"y"))}}(),function(){var e,t,i,n,s,a,o,r,l,h,c,u,d=Number.POSITIVE_INFINITY,p=Number.NEGATIVE_INFINITY,f=Number.MAX_VALUE;function g(e,t,i){t<e.datamin&&t!=-f&&(e.datamin=t),i>e.datamax&&i!=f&&(e.datamax=i)}for(Y.each(E(),function(e,t){t.datamin=d,t.datamax=p,t.used=!1}),e=0;e<T.length;++e)(s=T[e]).datapoints={points:[]},D(S.processRawData,[s,s.data,s.datapoints]);for(e=0;e<T.length;++e){if(s=T[e],c=s.data,!(u=s.datapoints.format)){if((u=[]).push({x:!0,number:!0,required:!0}),u.push({y:!0,number:!0,required:!0}),s.bars.show||s.lines.show&&s.lines.fill){var m=!!(s.bars.show&&s.bars.zero||s.lines.show&&s.lines.zero);u.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:m}),s.bars.horizontal&&(delete u[u.length-1].y,u[u.length-1].x=!0)}s.datapoints.format=u}if(null==s.datapoints.pointsize){s.datapoints.pointsize=u.length,o=s.datapoints.pointsize,a=s.datapoints.points;var v=s.lines.show&&s.lines.steps;for(s.xaxis.used=s.yaxis.used=!0,t=i=0;t<c.length;++t,i+=o){var b=null==(h=c[t]);if(!b)for(n=0;n<o;++n)r=h[n],(l=u[n])&&(l.number&&null!=r&&(r=+r,isNaN(r)?r=null:r==1/0?r=f:r==-1/0&&(r=-f)),null==r&&(l.required&&(b=!0),null!=l.defaultValue&&(r=l.defaultValue))),a[i+n]=r;if(b)for(n=0;n<o;++n)null!=(r=a[i+n])&&!1!==(l=u[n]).autoscale&&(l.x&&g(s.xaxis,r,r),l.y&&g(s.yaxis,r,r)),a[i+n]=null;else if(v&&0<i&&null!=a[i-o]&&a[i-o]!=a[i]&&a[i-o+1]!=a[i+1]){for(n=0;n<o;++n)a[i+o+n]=a[i+n];a[i+1]=a[i-o+1],i+=o}}}}for(e=0;e<T.length;++e)s=T[e],D(S.processDatapoints,[s,s.datapoints]);for(e=0;e<T.length;++e){s=T[e],a=s.datapoints.points,o=s.datapoints.pointsize,u=s.datapoints.format;var y=d,w=d,C=p,x=p;for(t=0;t<a.length;t+=o)if(null!=a[t])for(n=0;n<o;++n)r=a[t+n],(l=u[n])&&!1!==l.autoscale&&r!=f&&r!=-f&&(l.x&&(r<y&&(y=r),C<r&&(C=r)),l.y&&(r<w&&(w=r),x<r&&(x=r)));if(s.bars.show){var _;switch(s.bars.align){case"left":_=0;break;case"right":_=-s.bars.barWidth;break;default:_=-s.bars.barWidth/2}s.bars.horizontal?(w+=_,x+=_+s.bars.barWidth):(y+=_,C+=_+s.bars.barWidth)}g(s.xaxis,y,C),g(s.yaxis,w,x)}Y.each(E(),function(e,t){t.datamin==d&&(t.datamin=null),t.datamax==p&&(t.datamax=null)})}()}function x(e,t){var i=e[t+"axis"];return"object"==typeof i&&(i=i.n),"number"!=typeof i&&(i=1),i}function E(){return Y.grep(f.concat(g),function(e){return e})}function u(e){var t,i,n={};for(t=0;t<f.length;++t)(i=f[t])&&i.used&&(n["x"+i.n]=i.c2p(e.left));for(t=0;t<g.length;++t)(i=g[t])&&i.used&&(n["y"+i.n]=i.c2p(e.top));return void 0!==n.x1&&(n.x=n.x1),void 0!==n.y1&&(n.y=n.y1),n}function _(e,t){return e[t-1]||(e[t-1]={n:t,direction:e==f?"x":"y",options:Y.extend(!0,{},e==f?k.xaxis:k.yaxis)}),e[t-1]}function a(){F&&clearTimeout(F),c.unbind("mousemove",P),c.unbind("mouseleave",O),c.unbind("click",L),D(S.shutdown,[c])}function o(i){var e=i.labelWidth,t=i.labelHeight,n=i.options.position,s="x"===i.direction,a=i.options.tickLength,o=k.grid.axisMargin,r=k.grid.labelMargin,l=!0,h=!0,c=!0,u=!1;Y.each(s?f:g,function(e,t){t&&t.reserveSpace&&(t===i?u=!0:t.options.position===n&&(u?h=!1:l=!1),u||(c=!1))}),h&&(o=0),null==a&&(a=c?"full":5),isNaN(+a)||(r+=+a),s?(t+=r,"bottom"==n?(b.bottom+=t+o,i.box={top:p.height-b.bottom,height:t}):(i.box={top:b.top+o,height:t},b.top+=t+o)):(e+=r,"left"==n?(i.box={left:b.left+o,width:e},b.left+=e+o):(b.right+=e+o,i.box={left:p.width-b.right,width:e})),i.position=n,i.tickLength=a,i.box.padding=r,i.innermost=l}function r(){var e,t=E(),i=k.grid.show;for(var n in b){var s=k.grid.margin||0;b[n]="number"==typeof s?s:s[n]||0}for(var n in D(S.processOffset,[b]),b)"object"==typeof k.grid.borderWidth?b[n]+=i?k.grid.borderWidth[n]:0:b[n]+=i?k.grid.borderWidth:0;if(Y.each(t,function(e,t){t.show=t.options.show,null==t.show&&(t.show=t.used),t.reserveSpace=t.show||t.options.reserveSpace,function(e){var t=e.options,i=+(null!=t.min?t.min:e.datamin),n=+(null!=t.max?t.max:e.datamax),s=n-i;if(0==s){var a=0==n?1:.01;null==t.min&&(i-=a),null!=t.max&&null==t.min||(n+=a)}else{var o=t.autoscaleMargin;null!=o&&(null==t.min&&(i-=s*o)<0&&null!=e.datamin&&0<=e.datamin&&(i=0),null==t.max&&0<(n+=s*o)&&null!=e.datamax&&e.datamax<=0&&(n=0))}e.min=i,e.max=n}(t)}),i){var a=Y.grep(t,function(e){return e.reserveSpace});for(Y.each(a,function(e,t){var i,n;!function(e){var t,i=e.options;t="number"==typeof i.ticks&&0<i.ticks?i.ticks:.3*Math.sqrt("x"==e.direction?p.width:p.height);var n=(e.max-e.min)/t,s=-Math.floor(Math.log(n)/Math.LN10),a=i.tickDecimals;null!=a&&a<s&&(s=a);var o,r=Math.pow(10,-s),l=n/r;l<1.5?o=1:l<3?(o=2,2.25<l&&(null==a||s+1<=a)&&(o=2.5,++s)):o=l<7.5?5:10;o*=r,null!=i.minTickSize&&o<i.minTickSize&&(o=i.minTickSize);if(e.delta=n,e.tickDecimals=Math.max(0,null!=a?a:s),e.tickSize=i.tickSize||o,"time"==i.mode&&!e.tickGenerator)throw new Error("Time mode requires the flot.time plugin.");e.tickGenerator||(e.tickGenerator=function(e){for(var t,i,n,s=[],a=(i=e.min,(n=e.tickSize)*Math.floor(i/n)),o=0,r=Number.NaN;t=r,r=a+o*e.tickSize,s.push(r),++o,r<e.max&&r!=t;);return s},e.tickFormatter=function(e,t){var i=t.tickDecimals?Math.pow(10,t.tickDecimals):1,n=""+Math.round(e*i)/i;if(null!=t.tickDecimals){var s=n.indexOf("."),a=-1==s?0:n.length-s-1;if(a<t.tickDecimals)return(a?n:n+".")+(""+i).substr(1,t.tickDecimals-a)}return n});Y.isFunction(i.tickFormatter)&&(e.tickFormatter=function(e,t){return""+i.tickFormatter(e,t)});if(null!=i.alignTicksWithAxis){var h=("x"==e.direction?f:g)[i.alignTicksWithAxis-1];if(h&&h.used&&h!=e){var c=e.tickGenerator(e);if(0<c.length&&(null==i.min&&(e.min=Math.min(e.min,c[0])),null==i.max&&1<c.length&&(e.max=Math.max(e.max,c[c.length-1]))),e.tickGenerator=function(e){var t,i,n=[];for(i=0;i<h.ticks.length;++i)t=(h.ticks[i].v-h.min)/(h.max-h.min),t=e.min+t*(e.max-e.min),n.push(t);return n},!e.mode&&null==i.tickDecimals){var u=Math.max(0,1-Math.floor(Math.log(e.delta)/Math.LN10)),d=e.tickGenerator(e);1<d.length&&/\..*0$/.test((d[1]-d[0]).toFixed(u))||(e.tickDecimals=u)}}}}(t),function(e){var t,i,n=e.options.ticks,s=[];null==n||"number"==typeof n&&0<n?s=e.tickGenerator(e):n&&(s=Y.isFunction(n)?n(e):n);for(e.ticks=[],t=0;t<s.length;++t){var a=null,o=s[t];"object"==typeof o?(i=+o[0],1<o.length&&(a=o[1])):i=+o,null==a&&(a=e.tickFormatter(i,e)),isNaN(i)||e.ticks.push({v:i,label:a})}}(t),n=(i=t).ticks,i.options.autoscaleMargin&&0<n.length&&(null==i.options.min&&(i.min=Math.min(i.min,n[0].v)),null==i.options.max&&1<n.length&&(i.max=Math.max(i.max,n[n.length-1].v))),function(e){for(var t=e.options,i=e.ticks||[],n=t.labelWidth||0,s=t.labelHeight||0,a=n||("x"==e.direction?Math.floor(p.width/(i.length||1)):null),o=e.direction+"Axis "+e.direction+e.n+"Axis",r="flot-"+e.direction+"-axis flot-"+e.direction+e.n+"-axis "+o,l=t.font||"flot-tick-label tickLabel",h=0;h<i.length;++h){var c=i[h];if(c.label){var u=p.getTextInfo(r,c.label,l,null,a);n=Math.max(n,u.width),s=Math.max(s,u.height)}}e.labelWidth=t.labelWidth||n,e.labelHeight=t.labelHeight||s}(t)}),e=a.length-1;0<=e;--e)o(a[e]);!function(){var e,t=k.grid.minBorderMargin;if(null==t)for(e=t=0;e<T.length;++e)t=Math.max(t,2*(T[e].points.radius+T[e].points.lineWidth/2));var n={left:t,right:t,top:t,bottom:t};Y.each(E(),function(e,t){if(t.reserveSpace&&t.ticks&&t.ticks.length){var i=t.ticks[t.ticks.length-1];"x"===t.direction?(n.left=Math.max(n.left,t.labelWidth/2),i.v<=t.max&&(n.right=Math.max(n.right,t.labelWidth/2))):(n.bottom=Math.max(n.bottom,t.labelHeight/2),i.v<=t.max&&(n.top=Math.max(n.top,t.labelHeight/2)))}}),b.left=Math.ceil(Math.max(n.left,b.left)),b.right=Math.ceil(Math.max(n.right,b.right)),b.top=Math.ceil(Math.max(n.top,b.top)),b.bottom=Math.ceil(Math.max(n.bottom,b.bottom))}(),Y.each(a,function(e,t){var i;"x"==(i=t).direction?(i.box.left=b.left-i.labelWidth/2,i.box.width=p.width-b.left-b.right+i.labelWidth):(i.box.top=b.top-i.labelHeight/2,i.box.height=p.height-b.bottom-b.top+i.labelHeight)})}y=p.width-b.left-b.right,w=p.height-b.bottom-b.top,Y.each(t,function(e,t){function i(e){return e}var n,s,a,o,r;o=(n=t).options.transform||i,r=n.options.inverseTransform,a="x"==n.direction?(s=n.scale=y/Math.abs(o(n.max)-o(n.min)),Math.min(o(n.max),o(n.min))):(s=-(s=n.scale=w/Math.abs(o(n.max)-o(n.min))),Math.max(o(n.max),o(n.min))),n.p2c=o==i?function(e){return(e-a)*s}:function(e){return(o(e)-a)*s},n.c2p=r?function(e){return r(a+e/s)}:function(e){return a+e/s}}),i&&Y.each(E(),function(e,t){var i,n,s,a,o,r=t.box,l=t.direction+"Axis "+t.direction+t.n+"Axis",h="flot-"+t.direction+"-axis flot-"+t.direction+t.n+"-axis "+l,c=t.options.font||"flot-tick-label tickLabel";if(p.removeText(h),t.show&&0!=t.ticks.length)for(var u=0;u<t.ticks.length;++u)!(i=t.ticks[u]).label||i.v<t.min||i.v>t.max||("x"==t.direction?(a="center",n=b.left+t.p2c(i.v),"bottom"==t.position?s=r.top+r.padding:(s=r.top+r.height-r.padding,o="bottom")):(o="middle",s=b.top+t.p2c(i.v),"left"==t.position?(n=r.left+r.width-r.padding,a="right"):n=r.left+r.padding),p.addText(h,n,s,i.label,c,null,null,a,o))}),function(){null!=k.legend.container?Y(k.legend.container).html(""):m.find(".legend").remove();if(!k.legend.show)return;for(var e,t,i=[],n=[],s=!1,a=k.legend.labelFormatter,o=0;o<T.length;++o)(e=T[o]).label&&(t=a?a(e.label,e):e.label)&&n.push({label:t,color:e.color});if(k.legend.sorted)if(Y.isFunction(k.legend.sorted))n.sort(k.legend.sorted);else if("reverse"==k.legend.sorted)n.reverse();else{var r="descending"!=k.legend.sorted;n.sort(function(e,t){return e.label==t.label?0:e.label<t.label!=r?1:-1})}for(o=0;o<n.length;++o){var l=n[o];o%k.legend.noColumns==0&&(s&&i.push("</tr>"),i.push("<tr>"),s=!0),i.push('<td class="legendColorBox"><div style="border:1px solid '+k.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+l.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+l.label+"</td>")}s&&i.push("</tr>");if(0==i.length)return;var h='<table style="font-size:smaller;color:'+k.grid.color+'">'+i.join("")+"</table>";if(null!=k.legend.container)Y(k.legend.container).html(h);else{var c="",u=k.legend.position,d=k.legend.margin;null==d[0]&&(d=[d,d]),"n"==u.charAt(0)?c+="top:"+(d[1]+b.top)+"px;":"s"==u.charAt(0)&&(c+="bottom:"+(d[1]+b.bottom)+"px;"),"e"==u.charAt(1)?c+="right:"+(d[0]+b.right)+"px;":"w"==u.charAt(1)&&(c+="left:"+(d[0]+b.left)+"px;");var p=Y('<div class="legend">'+h.replace('style="','style="position:absolute;'+c+";")+"</div>").appendTo(m);if(0!=k.legend.backgroundOpacity){var f=k.legend.backgroundColor;null==f&&((f=(f=k.grid.backgroundColor)&&"string"==typeof f?Y.color.parse(f):Y.color.extract(p,"background-color")).a=1,f=f.toString());var g=p.children();Y('<div style="position:absolute;width:'+g.width()+"px;height:"+g.height()+"px;"+c+"background-color:"+f+';"> </div>').prependTo(p).css("opacity",k.legend.backgroundOpacity)}}}()}function l(){p.clear(),D(S.drawBackground,[v]);var e=k.grid;e.show&&e.backgroundColor&&(v.save(),v.translate(b.left,b.top),v.fillStyle=$(k.grid.backgroundColor,w,0,"rgba(255, 255, 255, 0)"),v.fillRect(0,0,y,w),v.restore()),e.show&&!e.aboveData&&d();for(var t=0;t<T.length;++t)D(S.drawSeries,[v,T[t]]),R(T[t]);D(S.draw,[v]),e.show&&e.aboveData&&d(),p.render(),H()}function N(e,t){for(var i,n,s,a,o=E(),r=0;r<o.length;++r)if((i=o[r]).direction==t&&(e[a=t+i.n+"axis"]||1!=i.n||(a=t+"axis"),e[a])){n=e[a].from,s=e[a].to;break}if(e[a]||(i="x"==t?f[0]:g[0],n=e[t+"1"],s=e[t+"2"]),null!=n&&null!=s&&s<n){var l=n;n=s,s=l}return{from:n,to:s,axis:i}}function d(){var e,t,i,n;v.save(),v.translate(b.left,b.top);var s=k.grid.markings;if(s)for(Y.isFunction(s)&&((t=C.getAxes()).xmin=t.xaxis.min,t.xmax=t.xaxis.max,t.ymin=t.yaxis.min,t.ymax=t.yaxis.max,s=s(t)),e=0;e<s.length;++e){var a=s[e],o=N(a,"x"),r=N(a,"y");null==o.from&&(o.from=o.axis.min),null==o.to&&(o.to=o.axis.max),null==r.from&&(r.from=r.axis.min),null==r.to&&(r.to=r.axis.max),o.to<o.axis.min||o.from>o.axis.max||r.to<r.axis.min||r.from>r.axis.max||(o.from=Math.max(o.from,o.axis.min),o.to=Math.min(o.to,o.axis.max),r.from=Math.max(r.from,r.axis.min),r.to=Math.min(r.to,r.axis.max),o.from==o.to&&r.from==r.to||(o.from=o.axis.p2c(o.from),o.to=o.axis.p2c(o.to),r.from=r.axis.p2c(r.from),r.to=r.axis.p2c(r.to),o.from==o.to||r.from==r.to?(v.beginPath(),v.strokeStyle=a.color||k.grid.markingsColor,v.lineWidth=a.lineWidth||k.grid.markingsLineWidth,v.moveTo(o.from,r.from),v.lineTo(o.to,r.to),v.stroke()):(v.fillStyle=a.color||k.grid.markingsColor,v.fillRect(o.from,r.to,o.to-o.from,r.from-r.to))))}t=E(),i=k.grid.borderWidth;for(var l=0;l<t.length;++l){var h,c,u,d,p=t[l],f=p.box,g=p.tickLength;if(p.show&&0!=p.ticks.length){for(v.lineWidth=1,"x"==p.direction?(h=0,c="full"==g?"top"==p.position?0:w:f.top-b.top+("top"==p.position?f.height:0)):(c=0,h="full"==g?"left"==p.position?0:y:f.left-b.left+("left"==p.position?f.width:0)),p.innermost||(v.strokeStyle=p.options.color,v.beginPath(),u=d=0,"x"==p.direction?u=y+1:d=w+1,1==v.lineWidth&&("x"==p.direction?c=Math.floor(c)+.5:h=Math.floor(h)+.5),v.moveTo(h,c),v.lineTo(h+u,c+d),v.stroke()),v.strokeStyle=p.options.tickColor,v.beginPath(),e=0;e<p.ticks.length;++e){var m=p.ticks[e].v;u=d=0,isNaN(m)||m<p.min||m>p.max||"full"==g&&("object"==typeof i&&0<i[p.position]||0<i)&&(m==p.min||m==p.max)||("x"==p.direction?(h=p.p2c(m),d="full"==g?-w:g,"top"==p.position&&(d=-d)):(c=p.p2c(m),u="full"==g?-y:g,"left"==p.position&&(u=-u)),1==v.lineWidth&&("x"==p.direction?h=Math.floor(h)+.5:c=Math.floor(c)+.5),v.moveTo(h,c),v.lineTo(h+u,c+d))}v.stroke()}}i&&(n=k.grid.borderColor,"object"==typeof i||"object"==typeof n?("object"!=typeof i&&(i={top:i,right:i,bottom:i,left:i}),"object"!=typeof n&&(n={top:n,right:n,bottom:n,left:n}),0<i.top&&(v.strokeStyle=n.top,v.lineWidth=i.top,v.beginPath(),v.moveTo(0-i.left,0-i.top/2),v.lineTo(y,0-i.top/2),v.stroke()),0<i.right&&(v.strokeStyle=n.right,v.lineWidth=i.right,v.beginPath(),v.moveTo(y+i.right/2,0-i.top),v.lineTo(y+i.right/2,w),v.stroke()),0<i.bottom&&(v.strokeStyle=n.bottom,v.lineWidth=i.bottom,v.beginPath(),v.moveTo(y+i.right,w+i.bottom/2),v.lineTo(0,w+i.bottom/2),v.stroke()),0<i.left&&(v.strokeStyle=n.left,v.lineWidth=i.left,v.beginPath(),v.moveTo(0-i.left/2,w+i.bottom),v.lineTo(0-i.left/2,0),v.stroke())):(v.lineWidth=i,v.strokeStyle=k.grid.borderColor,v.strokeRect(-i/2,-i/2,y+i,w+i))),v.restore()}function R(e){e.lines.show&&function(e){function t(e,t,i,n,s){var a=e.points,o=e.pointsize,r=null,l=null;v.beginPath();for(var h=o;h<a.length;h+=o){var c=a[h-o],u=a[h-o+1],d=a[h],p=a[h+1];if(null!=c&&null!=d){if(u<=p&&u<s.min){if(p<s.min)continue;c=(s.min-u)/(p-u)*(d-c)+c,u=s.min}else if(p<=u&&p<s.min){if(u<s.min)continue;d=(s.min-u)/(p-u)*(d-c)+c,p=s.min}if(p<=u&&u>s.max){if(p>s.max)continue;c=(s.max-u)/(p-u)*(d-c)+c,u=s.max}else if(u<=p&&p>s.max){if(u>s.max)continue;d=(s.max-u)/(p-u)*(d-c)+c,p=s.max}if(c<=d&&c<n.min){if(d<n.min)continue;u=(n.min-c)/(d-c)*(p-u)+u,c=n.min}else if(d<=c&&d<n.min){if(c<n.min)continue;p=(n.min-c)/(d-c)*(p-u)+u,d=n.min}if(d<=c&&c>n.max){if(d>n.max)continue;u=(n.max-c)/(d-c)*(p-u)+u,c=n.max}else if(c<=d&&d>n.max){if(c>n.max)continue;p=(n.max-c)/(d-c)*(p-u)+u,d=n.max}c==r&&u==l||v.moveTo(n.p2c(c)+t,s.p2c(u)+i),r=d,l=p,v.lineTo(n.p2c(d)+t,s.p2c(p)+i)}}v.stroke()}v.save(),v.translate(b.left,b.top),v.lineJoin="round";var i=e.lines.lineWidth,n=e.shadowSize;if(0<i&&0<n){v.lineWidth=n,v.strokeStyle="rgba(0,0,0,0.1)";var s=Math.PI/18;t(e.datapoints,Math.sin(s)*(i/2+n/2),Math.cos(s)*(i/2+n/2),e.xaxis,e.yaxis),v.lineWidth=n/2,t(e.datapoints,Math.sin(s)*(i/2+n/4),Math.cos(s)*(i/2+n/4),e.xaxis,e.yaxis)}v.lineWidth=i,v.strokeStyle=e.color;var a=I(e.lines,e.color,0,w);a&&(v.fillStyle=a,function(e,t,i){for(var n=e.points,s=e.pointsize,a=Math.min(Math.max(0,i.min),i.max),o=0,r=!1,l=1,h=0,c=0;!(0<s&&o>n.length+s);){var u=n[(o+=s)-s],d=n[o-s+l],p=n[o],f=n[o+l];if(r){if(0<s&&null!=u&&null==p){c=o,s=-s,l=2;continue}if(s<0&&o==h+s){v.fill(),r=!1,l=1,o=h=c+(s=-s);continue}}if(null!=u&&null!=p){if(u<=p&&u<t.min){if(p<t.min)continue;d=(t.min-u)/(p-u)*(f-d)+d,u=t.min}else if(p<=u&&p<t.min){if(u<t.min)continue;f=(t.min-u)/(p-u)*(f-d)+d,p=t.min}if(p<=u&&u>t.max){if(p>t.max)continue;d=(t.max-u)/(p-u)*(f-d)+d,u=t.max}else if(u<=p&&p>t.max){if(u>t.max)continue;f=(t.max-u)/(p-u)*(f-d)+d,p=t.max}if(r||(v.beginPath(),v.moveTo(t.p2c(u),i.p2c(a)),r=!0),d>=i.max&&f>=i.max)v.lineTo(t.p2c(u),i.p2c(i.max)),v.lineTo(t.p2c(p),i.p2c(i.max));else if(d<=i.min&&f<=i.min)v.lineTo(t.p2c(u),i.p2c(i.min)),v.lineTo(t.p2c(p),i.p2c(i.min));else{var g=u,m=p;d<=f&&d<i.min&&f>=i.min?(u=(i.min-d)/(f-d)*(p-u)+u,d=i.min):f<=d&&f<i.min&&d>=i.min&&(p=(i.min-d)/(f-d)*(p-u)+u,f=i.min),f<=d&&d>i.max&&f<=i.max?(u=(i.max-d)/(f-d)*(p-u)+u,d=i.max):d<=f&&f>i.max&&d<=i.max&&(p=(i.max-d)/(f-d)*(p-u)+u,f=i.max),u!=g&&v.lineTo(t.p2c(g),i.p2c(d)),v.lineTo(t.p2c(u),i.p2c(d)),v.lineTo(t.p2c(p),i.p2c(f)),p!=m&&(v.lineTo(t.p2c(p),i.p2c(f)),v.lineTo(t.p2c(m),i.p2c(f)))}}}}(e.datapoints,e.xaxis,e.yaxis));0<i&&t(e.datapoints,0,0,e.xaxis,e.yaxis);v.restore()}(e),e.bars.show&&function(h){var e;switch(v.save(),v.translate(b.left,b.top),v.lineWidth=h.bars.lineWidth,v.strokeStyle=h.color,h.bars.align){case"left":e=0;break;case"right":e=-h.bars.barWidth;break;default:e=-h.bars.barWidth/2}var t=h.bars.fill?function(e,t){return I(h.bars,h.color,e,t)}:null;(function(e,t,i,n,s,a){for(var o=e.points,r=e.pointsize,l=0;l<o.length;l+=r)null!=o[l]&&M(o[l],o[l+1],o[l+2],t,i,n,s,a,v,h.bars.horizontal,h.bars.lineWidth)})(h.datapoints,e,e+h.bars.barWidth,t,h.xaxis,h.yaxis),v.restore()}(e),e.points.show&&function(e){function t(e,t,i,n,s,a,o,r){for(var l=e.points,h=e.pointsize,c=0;c<l.length;c+=h){var u=l[c],d=l[c+1];null==u||u<a.min||u>a.max||d<o.min||d>o.max||(v.beginPath(),u=a.p2c(u),d=o.p2c(d)+n,"circle"==r?v.arc(u,d,t,0,s?Math.PI:2*Math.PI,!1):r(v,u,d,t,s),v.closePath(),i&&(v.fillStyle=i,v.fill()),v.stroke())}}v.save(),v.translate(b.left,b.top);var i=e.points.lineWidth,n=e.shadowSize,s=e.points.radius,a=e.points.symbol;0==i&&(i=1e-4);if(0<i&&0<n){var o=n/2;v.lineWidth=o,v.strokeStyle="rgba(0,0,0,0.1)",t(e.datapoints,s,null,o+o/2,!0,e.xaxis,e.yaxis,a),v.strokeStyle="rgba(0,0,0,0.2)",t(e.datapoints,s,null,o/2,!0,e.xaxis,e.yaxis,a)}v.lineWidth=i,v.strokeStyle=e.color,t(e.datapoints,s,I(e.points,e.color),0,!1,e.xaxis,e.yaxis,a),v.restore()}(e)}function M(e,t,i,n,s,a,o,r,l,h,c){var u,d,p,f,g,m,v,b,y;h?(b=m=v=!0,g=!1,f=t+n,p=t+s,(d=e)<(u=i)&&(y=d,d=u,u=y,m=!(g=!0))):(g=m=v=!0,b=!1,u=e+n,d=e+s,(f=t)<(p=i)&&(y=f,f=p,p=y,v=!(b=!0))),d<o.min||u>o.max||f<r.min||p>r.max||(u<o.min&&(u=o.min,g=!1),d>o.max&&(d=o.max,m=!1),p<r.min&&(p=r.min,b=!1),f>r.max&&(f=r.max,v=!1),u=o.p2c(u),p=r.p2c(p),d=o.p2c(d),f=r.p2c(f),a&&(l.fillStyle=a(p,f),l.fillRect(u,f,d-u,p-f)),0<c&&(g||m||v||b)&&(l.beginPath(),l.moveTo(u,p),g?l.lineTo(u,f):l.moveTo(u,f),v?l.lineTo(d,f):l.moveTo(d,f),m?l.lineTo(d,p):l.moveTo(d,p),b?l.lineTo(u,p):l.moveTo(u,p),l.stroke()))}function I(e,t,i,n){var s=e.fill;if(!s)return null;if(e.fillColor)return $(e.fillColor,i,n,t);var a=Y.color.parse(t);return a.a="number"==typeof s?s:.4,a.normalize(),a.toString()}C.setData=s,C.setupGrid=r,C.draw=l,C.getPlaceholder=function(){return m},C.getCanvas=function(){return p.element},C.getPlotOffset=function(){return b},C.width=function(){return y},C.height=function(){return w},C.offset=function(){var e=c.offset();return e.left+=b.left,e.top+=b.top,e},C.getData=function(){return T},C.getAxes=function(){var i={};return Y.each(f.concat(g),function(e,t){t&&(i[t.direction+(1!=t.n?t.n:"")+"axis"]=t)}),i},C.getXAxes=function(){return f},C.getYAxes=function(){return g},C.c2p=u,C.p2c=function(e){var t,i,n,s={};for(t=0;t<f.length;++t)if((i=f[t])&&i.used&&(n="x"+i.n,null==e[n]&&1==i.n&&(n="x"),null!=e[n])){s.left=i.p2c(e[n]);break}for(t=0;t<g.length;++t)if((i=g[t])&&i.used&&(n="y"+i.n,null==e[n]&&1==i.n&&(n="y"),null!=e[n])){s.top=i.p2c(e[n]);break}return s},C.getOptions=function(){return k},C.highlight=j,C.unhighlight=B,C.triggerRedrawOverlay=H,C.pointOffset=function(e){return{left:parseInt(f[x(e,"x")-1].p2c(+e.x)+b.left,10),top:parseInt(g[x(e,"y")-1].p2c(+e.y)+b.top,10)}},C.shutdown=a,C.destroy=function(){a(),m.removeData("plot").empty(),T=[],f=[],g=[],A=[],C=S=h=v=c=i=p=k=null},C.resize=function(){var e=m.width(),t=m.height();p.resize(e,t),i.resize(e,t)},C.hooks=S,function(){for(var e={Canvas:X},t=0;t<n.length;++t){var i=n[t];i.init(C,e),i.options&&Y.extend(!0,k,i.options)}}(),function(e){Y.extend(!0,k,e),e&&e.colors&&(k.colors=e.colors);null==k.xaxis.color&&(k.xaxis.color=Y.color.parse(k.grid.color).scale("a",.22).toString());null==k.yaxis.color&&(k.yaxis.color=Y.color.parse(k.grid.color).scale("a",.22).toString());null==k.xaxis.tickColor&&(k.xaxis.tickColor=k.grid.tickColor||k.xaxis.color);null==k.yaxis.tickColor&&(k.yaxis.tickColor=k.grid.tickColor||k.yaxis.color);null==k.grid.borderColor&&(k.grid.borderColor=k.grid.color);null==k.grid.tickColor&&(k.grid.tickColor=Y.color.parse(k.grid.color).scale("a",.22).toString());var t,i,n,s=m.css("font-size"),a=s?+s.replace("px",""):13,o={style:m.css("font-style"),size:Math.round(.8*a),variant:m.css("font-variant"),weight:m.css("font-weight"),family:m.css("font-family")};for(n=k.xaxes.length||1,t=0;t<n;++t)(i=k.xaxes[t])&&!i.tickColor&&(i.tickColor=i.color),i=Y.extend(!0,{},k.xaxis,i),(k.xaxes[t]=i).font&&(i.font=Y.extend({},o,i.font),i.font.color||(i.font.color=i.color),i.font.lineHeight||(i.font.lineHeight=Math.round(1.15*i.font.size)));for(n=k.yaxes.length||1,t=0;t<n;++t)(i=k.yaxes[t])&&!i.tickColor&&(i.tickColor=i.color),i=Y.extend(!0,{},k.yaxis,i),(k.yaxes[t]=i).font&&(i.font=Y.extend({},o,i.font),i.font.color||(i.font.color=i.color),i.font.lineHeight||(i.font.lineHeight=Math.round(1.15*i.font.size)));k.xaxis.noTicks&&null==k.xaxis.ticks&&(k.xaxis.ticks=k.xaxis.noTicks);k.yaxis.noTicks&&null==k.yaxis.ticks&&(k.yaxis.ticks=k.yaxis.noTicks);k.x2axis&&(k.xaxes[1]=Y.extend(!0,{},k.xaxis,k.x2axis),k.xaxes[1].position="top");k.y2axis&&(k.yaxes[1]=Y.extend(!0,{},k.yaxis,k.y2axis),k.yaxes[1].position="right");k.grid.coloredAreas&&(k.grid.markings=k.grid.coloredAreas);k.grid.coloredAreasColor&&(k.grid.markingsColor=k.grid.coloredAreasColor);k.lines&&Y.extend(!0,k.series.lines,k.lines);k.points&&Y.extend(!0,k.series.points,k.points);k.bars&&Y.extend(!0,k.series.bars,k.bars);null!=k.shadowSize&&(k.series.shadowSize=k.shadowSize);null!=k.highlightColor&&(k.series.highlightColor=k.highlightColor);for(t=0;t<k.xaxes.length;++t)_(f,t+1).options=k.xaxes[t];for(t=0;t<k.yaxes.length;++t)_(g,t+1).options=k.yaxes[t];for(var r in S)k.hooks[r]&&k.hooks[r].length&&(S[r]=S[r].concat(k.hooks[r]));D(S.processOptions,[k])}(t),function(){m.css("padding",0).children().filter(function(){return!Y(this).hasClass("flot-overlay")&&!Y(this).hasClass("flot-base")}).remove(),"static"==m.css("position")&&m.css("position","relative");p=new X("flot-base",m),i=new X("flot-overlay",m),v=p.context,h=i.context,c=Y(i.element).unbind();var e=m.data("plot");e&&(e.shutdown(),i.clear());m.data("plot",C)}(),s(e),r(),l(),function(){k.grid.hoverable&&(c.mousemove(P),c.bind("mouseleave",O));k.grid.clickable&&c.click(L);D(S.bindEvents,[c])}();var A=[],F=null;function P(e){k.grid.hoverable&&z("plothover",e,function(e){return 0!=e.hoverable})}function O(e){k.grid.hoverable&&z("plothover",e,function(e){return!1})}function L(e){z("plotclick",e,function(e){return 0!=e.clickable})}function z(e,t,i){var n=c.offset(),s=t.pageX-n.left-b.left,a=t.pageY-n.top-b.top,o=u({left:s,top:a});o.pageX=t.pageX,o.pageY=t.pageY;var r=function(e,t,i){var n,s,a,o=k.grid.mouseActiveRadius,r=o*o+1,l=null;for(n=T.length-1;0<=n;--n)if(i(T[n])){var h=T[n],c=h.xaxis,u=h.yaxis,d=h.datapoints.points,p=c.c2p(e),f=u.c2p(t),g=o/c.scale,m=o/u.scale;if(a=h.datapoints.pointsize,c.options.inverseTransform&&(g=Number.MAX_VALUE),u.options.inverseTransform&&(m=Number.MAX_VALUE),h.lines.show||h.points.show)for(s=0;s<d.length;s+=a){var v=d[s],b=d[s+1];if(null!=v&&!(g<v-p||v-p<-g||m<b-f||b-f<-m)){var y=Math.abs(c.p2c(v)-e),w=Math.abs(u.p2c(b)-t),C=y*y+w*w;C<r&&(r=C,l=[n,s/a])}}if(h.bars.show&&!l){var x,_;switch(h.bars.align){case"left":x=0;break;case"right":x=-h.bars.barWidth;break;default:x=-h.bars.barWidth/2}for(_=x+h.bars.barWidth,s=0;s<d.length;s+=a){v=d[s],b=d[s+1];var S=d[s+2];null!=v&&(T[n].bars.horizontal?p<=Math.max(S,v)&&p>=Math.min(S,v)&&b+x<=f&&f<=b+_:v+x<=p&&p<=v+_&&f>=Math.min(S,b)&&f<=Math.max(S,b))&&(l=[n,s/a])}}}return l?(n=l[0],s=l[1],a=T[n].datapoints.pointsize,{datapoint:T[n].datapoints.points.slice(s*a,(s+1)*a),dataIndex:s,series:T[n],seriesIndex:n}):null}(s,a,i);if(r&&(r.pageX=parseInt(r.series.xaxis.p2c(r.datapoint[0])+n.left+b.left,10),r.pageY=parseInt(r.series.yaxis.p2c(r.datapoint[1])+n.top+b.top,10)),k.grid.autoHighlight){for(var l=0;l<A.length;++l){var h=A[l];h.auto!=e||r&&h.series==r.series&&h.point[0]==r.datapoint[0]&&h.point[1]==r.datapoint[1]||B(h.series,h.point)}r&&j(r.series,r.datapoint,e)}m.trigger(e,[o,r])}function H(){var e=k.interaction.redrawOverlayInterval;-1!=e?F=F||setTimeout(W,e):W()}function W(){var e,t;for(F=null,h.save(),i.clear(),h.translate(b.left,b.top),e=0;e<A.length;++e)(t=A[e]).series.bars.show?V(t.series,t.point):q(t.series,t.point);h.restore(),D(S.drawOverlay,[h])}function j(e,t,i){if("number"==typeof e&&(e=T[e]),"number"==typeof t){var n=e.datapoints.pointsize;t=e.datapoints.points.slice(n*t,n*(t+1))}var s=U(e,t);-1==s?(A.push({series:e,point:t,auto:i}),H()):i||(A[s].auto=!1)}function B(e,t){if(null==e&&null==t)return A=[],void H();if("number"==typeof e&&(e=T[e]),"number"==typeof t){var i=e.datapoints.pointsize;t=e.datapoints.points.slice(i*t,i*(t+1))}var n=U(e,t);-1!=n&&(A.splice(n,1),H())}function U(e,t){for(var i=0;i<A.length;++i){var n=A[i];if(n.series==e&&n.point[0]==t[0]&&n.point[1]==t[1])return i}return-1}function q(e,t){var i=t[0],n=t[1],s=e.xaxis,a=e.yaxis,o="string"==typeof e.highlightColor?e.highlightColor:Y.color.parse(e.color).scale("a",.5).toString();if(!(i<s.min||i>s.max||n<a.min||n>a.max)){var r=e.points.radius+e.points.lineWidth/2;h.lineWidth=r,h.strokeStyle=o;var l=1.5*r;i=s.p2c(i),n=a.p2c(n),h.beginPath(),"circle"==e.points.symbol?h.arc(i,n,l,0,2*Math.PI,!1):e.points.symbol(h,i,n,l,!1),h.closePath(),h.stroke()}}function V(e,t){var i,n="string"==typeof e.highlightColor?e.highlightColor:Y.color.parse(e.color).scale("a",.5).toString(),s=n;switch(e.bars.align){case"left":i=0;break;case"right":i=-e.bars.barWidth;break;default:i=-e.bars.barWidth/2}h.lineWidth=e.bars.lineWidth,h.strokeStyle=n,M(t[0],t[1],t[2]||0,i,i+e.bars.barWidth,function(){return s},e.xaxis,e.yaxis,h,e.bars.horizontal,e.bars.lineWidth)}function $(e,t,i,n){if("string"==typeof e)return e;for(var s=v.createLinearGradient(0,i,0,t),a=0,o=e.colors.length;a<o;++a){var r=e.colors[a];if("string"!=typeof r){var l=Y.color.parse(n);null!=r.brightness&&(l=l.scale("rgb",r.brightness)),null!=r.opacity&&(l.a*=r.opacity),r=l.toString()}s.addColorStop(a/(o-1),r)}return s}}X.prototype.resize=function(e,t){if(e<=0||t<=0)throw new Error("Invalid dimensions for plot, width = "+e+", height = "+t);var i=this.element,n=this.context,s=this.pixelRatio;this.width!=e&&(i.width=e*s,i.style.width=e+"px",this.width=e),this.height!=t&&(i.height=t*s,i.style.height=t+"px",this.height=t),n.restore(),n.save(),n.scale(s,s)},X.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},X.prototype.render=function(){var e=this._textCache;for(var t in e)if(p.call(e,t)){var i=this.getTextLayer(t),n=e[t];for(var s in i.hide(),n)if(p.call(n,s)){var a=n[s];for(var o in a)if(p.call(a,o)){for(var r,l=a[o].positions,h=0;r=l[h];h++)r.active?r.rendered||(i.append(r.element),r.rendered=!0):(l.splice(h--,1),r.rendered&&r.element.detach());0==l.length&&delete a[o]}}i.show()}},X.prototype.getTextLayer=function(e){var t=this.text[e];return null==t&&(null==this.textContainer&&(this.textContainer=Y("<div class='flot-text'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)),t=this.text[e]=Y("<div></div>").addClass(e).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)),t},X.prototype.getTextInfo=function(e,t,i,n,s){var a,o,r,l;if(t=""+t,a="object"==typeof i?i.style+" "+i.variant+" "+i.weight+" "+i.size+"px/"+i.lineHeight+"px "+i.family:i,null==(o=this._textCache[e])&&(o=this._textCache[e]={}),null==(r=o[a])&&(r=o[a]={}),null==(l=r[t])){var h=Y("<div></div>").html(t).css({position:"absolute","max-width":s,top:-9999}).appendTo(this.getTextLayer(e));"object"==typeof i?h.css({font:a,color:i.color}):"string"==typeof i&&h.addClass(i),l=r[t]={width:h.outerWidth(!0),height:h.outerHeight(!0),element:h,positions:[]},h.detach()}return l},X.prototype.addText=function(e,t,i,n,s,a,o,r,l){var h=this.getTextInfo(e,n,s,a,o),c=h.positions;"center"==r?t-=h.width/2:"right"==r&&(t-=h.width),"middle"==l?i-=h.height/2:"bottom"==l&&(i-=h.height);for(var u,d=0;u=c[d];d++)if(u.x==t&&u.y==i)return void(u.active=!0);u={active:!0,rendered:!1,element:c.length?h.element.clone():h.element,x:t,y:i},c.push(u),u.element.css({top:Math.round(i),left:Math.round(t),"text-align":r})},X.prototype.removeText=function(e,t,i,n,s,a){if(null==n){var o=this._textCache[e];if(null!=o)for(var r in o)if(p.call(o,r)){var l=o[r];for(var h in l)if(p.call(l,h))for(var c=l[h].positions,u=0;d=c[u];u++)d.active=!1}}else{var d;for(c=this.getTextInfo(e,n,s,a).positions,u=0;d=c[u];u++)d.x==t&&d.y==i&&(d.active=!1)}},Y.plot=function(e,t,i){return new n(Y(e),t,i,Y.plot.plugins)},Y.plot.version="0.8.2",Y.plot.plugins=[],Y.fn.plot=function(e,t){return this.each(function(){Y.plot(this,e,t)})}}(jQuery),function(x){var e={series:{pie:{show:!1,radius:"auto",innerRadius:0,startAngle:1.5,tilt:1,shadow:{left:5,top:15,alpha:.02},offset:{top:0,left:"auto"},stroke:{color:"#fff",width:1},label:{show:"auto",formatter:function(e,t){return"<div style='font-size:x-small;text-align:center;padding:2px;color:"+t.color+";'>"+e+"<br/>"+Math.round(t.percent)+"%</div>"},radius:1,background:{color:null,opacity:0},threshold:0},combine:{threshold:-1,color:null,label:"Other"},highlight:{opacity:.5}}}};x.plot.plugins.push({init:function(c){var a=null,b=null,y=null,u=null,w=null,C=null,l=!1,d=null,p=[];function h(e){if(0<y.series.pie.innerRadius){e.save();var t=1<y.series.pie.innerRadius?y.series.pie.innerRadius:u*y.series.pie.innerRadius;e.globalCompositeOperation="destination-out",e.beginPath(),e.fillStyle=y.series.pie.stroke.color,e.arc(0,0,t,0,2*Math.PI,!1),e.fill(),e.closePath(),e.restore(),e.save(),e.beginPath(),e.strokeStyle=y.series.pie.stroke.color,e.arc(0,0,t,0,2*Math.PI,!1),e.stroke(),e.closePath(),e.restore()}}function f(e,t){for(var i=!1,n=-1,s=e.length,a=s-1;++n<s;a=n)(e[n][1]<=t[1]&&t[1]<e[a][1]||e[a][1]<=t[1]&&t[1]<e[n][1])&&t[0]<(e[a][0]-e[n][0])*(t[1]-e[n][1])/(e[a][1]-e[n][1])+e[n][0]&&(i=!i);return i}function n(e){t("plothover",e)}function s(e){t("plotclick",e)}function t(e,t){var i,n,s,a=c.offset(),o=function(e,t){for(var i,n,s=c.getData(),a=c.getOptions(),o=1<a.series.pie.radius?a.series.pie.radius:u*a.series.pie.radius,r=0;r<s.length;++r){var l=s[r];if(l.pie.show){if(d.save(),d.beginPath(),d.moveTo(0,0),d.arc(0,0,o,l.startAngle,l.startAngle+l.angle/2,!1),d.arc(0,0,o,l.startAngle+l.angle/2,l.startAngle+l.angle,!1),d.closePath(),i=e-w,n=t-C,d.isPointInPath){if(d.isPointInPath(e-w,t-C))return d.restore(),{datapoint:[l.percent,l.data],dataIndex:0,series:l,seriesIndex:r}}else if(f([[0,0],[o*Math.cos(l.startAngle),o*Math.sin(l.startAngle)],[o*Math.cos(l.startAngle+l.angle/4),o*Math.sin(l.startAngle+l.angle/4)],[o*Math.cos(l.startAngle+l.angle/2),o*Math.sin(l.startAngle+l.angle/2)],[o*Math.cos(l.startAngle+l.angle/1.5),o*Math.sin(l.startAngle+l.angle/1.5)],[o*Math.cos(l.startAngle+l.angle),o*Math.sin(l.startAngle+l.angle)]],[i,n]))return d.restore(),{datapoint:[l.percent,l.data],dataIndex:0,series:l,seriesIndex:r};d.restore()}}return null}(parseInt(t.pageX-a.left),parseInt(t.pageY-a.top));if(y.grid.autoHighlight)for(var r=0;r<p.length;++r){var l=p[r];l.auto!=e||o&&l.series==o.series||g(l.series)}o&&(i=o.series,n=e,-1==(s=m(i))?(p.push({series:i,auto:n}),c.triggerRedrawOverlay()):n||(p[s].auto=!1));var h={pageX:t.pageX,pageY:t.pageY};b.trigger(e,[h,o])}function g(e){null==e&&(p=[],c.triggerRedrawOverlay());var t=m(e);-1!=t&&(p.splice(t,1),c.triggerRedrawOverlay())}function m(e){for(var t=0;t<p.length;++t){if(p[t].series==e)return t}return-1}c.hooks.processOptions.push(function(e,t){t.series.pie.show&&(t.grid.show=!1,"auto"==t.series.pie.label.show&&(t.legend.show?t.series.pie.label.show=!1:t.series.pie.label.show=!0),"auto"==t.series.pie.radius&&(t.series.pie.label.show?t.series.pie.radius=.75:t.series.pie.radius=1),1<t.series.pie.tilt?t.series.pie.tilt=1:t.series.pie.tilt<0&&(t.series.pie.tilt=0))}),c.hooks.bindEvents.push(function(e,t){var i=e.getOptions();i.series.pie.show&&(i.grid.hoverable&&t.unbind("mousemove").mousemove(n),i.grid.clickable&&t.unbind("click").click(s))}),c.hooks.processDatapoints.push(function(e,t,i,n){var s;e.getOptions().series.pie.show&&(s=e,l||(l=!0,a=s.getCanvas(),b=x(a).parent(),y=s.getOptions(),s.setData(function(e){for(var t=0,i=0,n=0,s=y.series.pie.combine.color,a=[],o=0;o<e.length;++o){var r=e[o].data;x.isArray(r)&&1==r.length&&(r=r[0]),x.isArray(r)?!isNaN(parseFloat(r[1]))&&isFinite(r[1])?r[1]=+r[1]:r[1]=0:r=!isNaN(parseFloat(r))&&isFinite(r)?[1,+r]:[1,0],e[o].data=[r]}for(o=0;o<e.length;++o)t+=e[o].data[0][1];for(o=0;o<e.length;++o){(r=e[o].data[0][1])/t<=y.series.pie.combine.threshold&&(i+=r,n++,s=s||e[o].color)}for(o=0;o<e.length;++o){r=e[o].data[0][1];(n<2||r/t>y.series.pie.combine.threshold)&&a.push({data:[[1,r]],color:e[o].color,label:e[o].label,angle:r*Math.PI*2/t,percent:r/(t/100)})}1<n&&a.push({data:[[1,i]],color:s,label:y.series.pie.combine.label,angle:i*Math.PI*2/t,percent:i/(t/100)});return a}(s.getData()))))}),c.hooks.drawOverlay.push(function(e,t){e.getOptions().series.pie.show&&function(e,t){var i=e.getOptions(),n=1<i.series.pie.radius?i.series.pie.radius:u*i.series.pie.radius;t.save(),t.translate(w,C),t.scale(1,i.series.pie.tilt);for(var s=0;s<p.length;++s)a(p[s].series);function a(e){e.angle<=0||isNaN(e.angle)||(t.fillStyle="rgba(255, 255, 255, "+i.series.pie.highlight.opacity+")",t.beginPath(),1e-9<Math.abs(e.angle-2*Math.PI)&&t.moveTo(0,0),t.arc(0,0,n,e.startAngle,e.startAngle+e.angle/2,!1),t.arc(0,0,n,e.startAngle+e.angle/2,e.startAngle+e.angle,!1),t.closePath(),t.fill())}h(t),t.restore()}(e,t)}),c.hooks.draw.push(function(e,t){e.getOptions().series.pie.show&&function(e,t){if(!b)return;var m=e.getPlaceholder().width(),v=e.getPlaceholder().height(),i=b.children().filter(".legend").children().width()||0;d=t,l=!1,u=Math.min(m,v/y.series.pie.tilt)/2,C=v/2+y.series.pie.offset.top,w=m/2,"auto"==y.series.pie.offset.left?(y.legend.position.match("w")?w+=i/2:w-=i/2,w<u?w=u:m-u<w&&(w=m-u)):w+=y.series.pie.offset.left;var o=e.getData(),n=0;for(;0<n&&(u*=.95),n+=1,s(),y.series.pie.tilt<=.8&&a(),!r()&&n<10;);10<=n&&(s(),b.prepend("<div class='error'>Could not draw pie with labels contained inside canvas</div>"));e.setSeries&&e.insertLegend&&(e.setSeries(o),e.insertLegend());function s(){d.clearRect(0,0,m,v),b.children().filter(".pieLabel, .pieLabelBackground").remove()}function a(){var e=y.series.pie.shadow.left,t=y.series.pie.shadow.top,i=y.series.pie.shadow.alpha,n=1<y.series.pie.radius?y.series.pie.radius:u*y.series.pie.radius;if(!(m/2-e<=n||n*y.series.pie.tilt>=v/2-t||n<=10)){d.save(),d.translate(e,t),d.globalAlpha=i,d.fillStyle="#000",d.translate(w,C),d.scale(1,y.series.pie.tilt);for(var s=1;s<=10;s++)d.beginPath(),d.arc(0,0,n,0,2*Math.PI,!1),d.fill(),n-=s;d.restore()}}function r(){var n=Math.PI*y.series.pie.startAngle,s=1<y.series.pie.radius?y.series.pie.radius:u*y.series.pie.radius;d.save(),d.translate(w,C),d.scale(1,y.series.pie.tilt),d.save();for(var a=n,e=0;e<o.length;++e)o[e].startAngle=a,t(o[e].angle,o[e].color,!0);if(d.restore(),0<y.series.pie.stroke.width){d.save(),d.lineWidth=y.series.pie.stroke.width,a=n;for(e=0;e<o.length;++e)t(o[e].angle,y.series.pie.stroke.color,!1);d.restore()}return h(d),d.restore(),!y.series.pie.label.show||function(){for(var e=n,g=1<y.series.pie.label.radius?y.series.pie.label.radius:u*y.series.pie.label.radius,t=0;t<o.length;++t){if(o[t].percent>=100*y.series.pie.label.threshold&&!i(o[t],e,t))return!1;e+=o[t].angle}return!0;function i(e,t,i){if(0==e.data[0][1])return!0;var n,s=y.legend.labelFormatter,a=y.series.pie.label.formatter;n=s?s(e.label,e):e.label,a&&(n=a(n,e));var o=(t+e.angle+t)/2,r=w+Math.round(Math.cos(o)*g),l=C+Math.round(Math.sin(o)*g)*y.series.pie.tilt,h="<span class='pieLabel' id='pieLabel"+i+"' style='position:absolute;top:"+l+"px;left:"+r+"px;'>"+n+"</span>";b.append(h);var c=b.children("#pieLabel"+i),u=l-c.height()/2,d=r-c.width()/2;if(c.css("top",u),c.css("left",d),0<0-u||0<0-d||v-(u+c.height())<0||m-(d+c.width())<0)return!1;if(0!=y.series.pie.label.background.opacity){var p=y.series.pie.label.background.color;null==p&&(p=e.color);var f="top:"+u+"px;left:"+d+"px;";x("<div class='pieLabelBackground' style='position:absolute;width:"+c.width()+"px;height:"+c.height()+"px;"+f+"background-color:"+p+";'></div>").css("opacity",y.series.pie.label.background.opacity).insertBefore(c)}return!0}}();function t(e,t,i){e<=0||isNaN(e)||(i?d.fillStyle=t:(d.strokeStyle=t,d.lineJoin="round"),d.beginPath(),1e-9<Math.abs(e-2*Math.PI)&&d.moveTo(0,0),d.arc(0,0,s,a,a+e/2,!1),d.arc(0,0,s,a+e/2,a+e,!1),d.closePath(),a+=e,i?d.fill():d.stroke())}}}(e,t)})},options:e,name:"pie",version:"1.1"})}(jQuery),function(o,a){function r(){for(var e=h.length-1;0<=e;e--){var t=o(h[e]);if(t[0]==a||t.is(":visible")){var i=t.width(),n=t.height(),s=t.data(d);!s||i===s.w&&n===s.h?c[p]=c[f]:(c[p]=c[g],t.trigger(u,[s.w=i,s.h=n]))}else(s=t.data(d)).w=0,s.h=0}null!==l&&(l=a.requestAnimationFrame(r))}var l,h=[],c=o.resize=o.extend(o.resize,{}),i="setTimeout",u="resize",d=u+"-special-event",p="delay",f="pendingDelay",g="activeDelay",n="throttleWindow";c[f]=250,c[g]=20,c[p]=c[f],c[n]=!0,o.event.special[u]={setup:function(){if(!c[n]&&this[i])return!1;var e=o(this);h.push(this),e.data(d,{w:e.width(),h:e.height()}),1===h.length&&(l=void 0,r())},teardown:function(){if(!c[n]&&this[i])return!1;for(var e=o(this),t=h.length-1;0<=t;t--)if(h[t]==this){h.splice(t,1);break}e.removeData(d),h.length||(cancelAnimationFrame(l),l=null)},add:function(e){function t(e,t,i){var n=o(this),s=n.data(d);s.w=void 0!==t?t:n.width(),s.h=void 0!==i?i:n.height(),a.apply(this,arguments)}return!(!c[n]&&this[i])&&(o.isFunction(e)?(a=e,t):(a=e.handler,void(e.handler=t)));var a}},a.requestAnimationFrame||(a.requestAnimationFrame=a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(e,t){return a.setTimeout(e,c[p])}),a.cancelAnimationFrame||(a.cancelAnimationFrame=a.webkitCancelRequestAnimationFrame||a.mozCancelRequestAnimationFrame||a.oCancelRequestAnimationFrame||a.msCancelRequestAnimationFrame||clearTimeout)}(jQuery,this),jQuery.plot.plugins.push({init:function(t){function i(){var e=t.getPlaceholder();0!=e.width()&&0!=e.height()&&(t.resize(),t.setupGrid(),t.draw())}t.hooks.bindEvents.push(function(e,t){e.getPlaceholder().resize(i)}),t.hooks.shutdown.push(function(e,t){e.getPlaceholder().unbind("resize",i)})},options:{},name:"resize",version:"1.0"}),jQuery.plot.plugins.push({init:function(e){e.hooks.processDatapoints.push(function(e,t,i){if(null!=t.stack&&!1!==t.stack){var n=function(e,t){for(var i=null,n=0;n<t.length&&e!=t[n];++n)t[n].stack==e.stack&&(i=t[n]);return i}(t,e.getData());if(n){for(var s,a,o,r,l,h,c,u,d=i.pointsize,p=i.points,f=n.datapoints.pointsize,g=n.datapoints.points,m=[],v=t.lines.show,b=t.bars.horizontal,y=2<d&&(b?i.format[2].x:i.format[2].y),w=v&&t.lines.steps,C=!0,x=b?1:0,_=b?0:1,S=0,T=0;!(S>=p.length);){if(c=m.length,null==p[S]){for(u=0;u<d;++u)m.push(p[S+u]);S+=d}else if(T>=g.length){if(!v)for(u=0;u<d;++u)m.push(p[S+u]);S+=d}else if(null==g[T]){for(u=0;u<d;++u)m.push(null);C=!0,T+=f}else{if(s=p[S+x],a=p[S+_],r=g[T+x],l=g[T+_],h=0,s==r){for(u=0;u<d;++u)m.push(p[S+u]);m[c+_]+=l,h=l,S+=d,T+=f}else if(r<s){if(v&&0<S&&null!=p[S-d]){for(o=a+(p[S-d+_]-a)*(r-s)/(p[S-d+x]-s),m.push(r),m.push(o+l),u=2;u<d;++u)m.push(p[S+u]);h=l}T+=f}else{if(C&&v){S+=d;continue}for(u=0;u<d;++u)m.push(p[S+u]);v&&0<T&&null!=g[T-f]&&(h=l+(g[T-f+_]-l)*(s-r)/(g[T-f+x]-r)),m[c+_]+=h,S+=d}C=!1,c!=m.length&&y&&(m[c+2]+=h)}if(w&&c!=m.length&&0<c&&null!=m[c]&&m[c]!=m[c-d]&&m[c+1]!=m[c-d+1]){for(u=0;u<d;++u)m[c+d+u]=m[c+u];m[c+1]=m[c-d+1]}}i.points=m}}})},options:{series:{stack:null}},name:"stack",version:"1.2"}),function(i){function b(e,t){return t*Math.floor(e/t)}function l(e,t,i,n){if("function"==typeof e.strftime)return e.strftime(t);function s(e,t){return t=""+(null==t?"0":t),1==(e=""+e).length?t+e:e}var a,o=[],r=!1,l=e.getHours(),h=l<12;null==i&&(i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),null==n&&(n=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]),a=12<l?l-12:0==l?12:l;for(var c=0;c<t.length;++c){var u=t.charAt(c);if(r){switch(u){case"a":u=""+n[e.getDay()];break;case"b":u=""+i[e.getMonth()];break;case"d":u=s(e.getDate());break;case"e":u=s(e.getDate()," ");break;case"h":case"H":u=s(l);break;case"I":u=s(a);break;case"l":u=s(a," ");break;case"m":u=s(e.getMonth()+1);break;case"M":u=s(e.getMinutes());break;case"q":u=""+(Math.floor(e.getMonth()/3)+1);break;case"S":u=s(e.getSeconds());break;case"y":u=s(e.getFullYear()%100);break;case"Y":u=""+e.getFullYear();break;case"p":u=h?"am":"pm";break;case"P":u=h?"AM":"PM";break;case"w":u=""+e.getDay()}o.push(u),r=!1}else"%"==u?r=!0:o.push(u)}return o.join("")}function n(e){function t(e,t,i,n){e[t]=function(){return i[n].apply(i,arguments)}}var i={date:e};null!=e.strftime&&t(i,"strftime",e,"strftime"),t(i,"getTime",e,"getTime"),t(i,"setTime",e,"setTime");for(var n=["Date","Day","FullYear","Hours","Milliseconds","Minutes","Month","Seconds"],s=0;s<n.length;s++)t(i,"get"+n[s],e,"getUTC"+n[s]),t(i,"set"+n[s],e,"setUTC"+n[s]);return i}function y(e,t){if("browser"==t.timezone)return new Date(e);if(t.timezone&&"utc"!=t.timezone){if("undefined"==typeof timezoneJS||void 0===timezoneJS.Date)return n(new Date(e));var i=new timezoneJS.Date;return i.setTimezone(t.timezone),i.setTime(e),i}return n(new Date(e))}var w={second:1e3,minute:6e4,hour:36e5,day:864e5,month:2592e6,quarter:7776e6,year:525949.2*60*1e3},e=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"]],C=e.concat([[3,"month"],[6,"month"],[1,"year"]]),x=e.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);i.plot.plugins.push({init:function(e){e.hooks.processOptions.push(function(e,t){i.each(e.getAxes(),function(e,t){var v=t.options;"time"==v.mode&&(t.tickGenerator=function(e){var t=[],i=y(e.min,v),n=0,s=v.tickSize&&"quarter"===v.tickSize[1]||v.minTickSize&&"quarter"===v.minTickSize[1]?x:C;null!=v.minTickSize&&(n="number"==typeof v.tickSize?v.tickSize:v.minTickSize[0]*w[v.minTickSize[1]]);for(var a=0;a<s.length-1&&!(e.delta<(s[a][0]*w[s[a][1]]+s[a+1][0]*w[s[a+1][1]])/2&&s[a][0]*w[s[a][1]]>=n);++a);var o=s[a][0],r=s[a][1];if("year"==r){if(null!=v.minTickSize&&"year"==v.minTickSize[1])o=Math.floor(v.minTickSize[0]);else{var l=Math.pow(10,Math.floor(Math.log(e.delta/w.year)/Math.LN10)),h=e.delta/w.year/l;o=h<1.5?1:h<3?2:h<7.5?5:10,o*=l}o<1&&(o=1)}e.tickSize=v.tickSize||[o,r];var c=e.tickSize[0];r=e.tickSize[1];var u=c*w[r];"second"==r?i.setSeconds(b(i.getSeconds(),c)):"minute"==r?i.setMinutes(b(i.getMinutes(),c)):"hour"==r?i.setHours(b(i.getHours(),c)):"month"==r?i.setMonth(b(i.getMonth(),c)):"quarter"==r?i.setMonth(3*b(i.getMonth()/3,c)):"year"==r&&i.setFullYear(b(i.getFullYear(),c)),i.setMilliseconds(0),w.minute<=u&&i.setSeconds(0),w.hour<=u&&i.setMinutes(0),w.day<=u&&i.setHours(0),4*w.day<=u&&i.setDate(1),2*w.month<=u&&i.setMonth(b(i.getMonth(),3)),2*w.quarter<=u&&i.setMonth(b(i.getMonth(),6)),w.year<=u&&i.setMonth(0);var d,p=0,f=Number.NaN;do{if(d=f,f=i.getTime(),t.push(f),"month"==r||"quarter"==r)if(c<1){i.setDate(1);var g=i.getTime();i.setMonth(i.getMonth()+("quarter"==r?3:1));var m=i.getTime();i.setTime(f+p*w.hour+(m-g)*c),p=i.getHours(),i.setHours(0)}else i.setMonth(i.getMonth()+c*("quarter"==r?3:1));else"year"==r?i.setFullYear(i.getFullYear()+c):i.setTime(f+u)}while(f<e.max&&f!=d);return t},t.tickFormatter=function(e,t){var i=y(e,t.options);if(null!=v.timeformat)return l(i,v.timeformat,v.monthNames,v.dayNames);var n=t.options.tickSize&&"quarter"==t.options.tickSize[1]||t.options.minTickSize&&"quarter"==t.options.minTickSize[1],s=t.tickSize[0]*w[t.tickSize[1]],a=t.max-t.min,o=v.twelveHourClock?" %p":"",r=v.twelveHourClock?"%I":"%H";return l(i,s<w.minute?r+":%M:%S"+o:s<w.day?a<2*w.day?r+":%M"+o:"%b %d "+r+":%M"+o:s<w.month?"%b %d":n&&s<w.quarter||!n&&s<w.year?a<w.year?"%b":"%b %Y":n&&s<w.year?a<w.year?"Q%q":"Q%q %Y":"%Y",v.monthNames,v.dayNames)})})})},options:{xaxis:{timezone:null,timeformat:null,twelveHourClock:!1,monthNames:null}},name:"time",version:"1.0"}),i.plot.formatDate=l}(jQuery),function(){function r(e,t,i){var n=r.resolve(e);if(null==n){i=i||e,t=t||"root";var s=new Error('Failed to require "'+i+'" from "'+t+'"');throw s.path=i,s.parent=t,s.require=!0,s}var a=r.modules[n];if(!a._resolving&&!a.exports){var o={exports:{}};o.client=o.component=!0,a._resolving=!0,a.call(this,o.exports,r.relative(n),o),delete a._resolving,a.exports=o.exports}return a.exports}r.modules={},r.aliases={},r.resolve=function(e){"/"===e.charAt(0)&&(e=e.slice(1));for(var t=[e,e+".js",e+".json",e+"/index.js",e+"/index.json"],i=0;i<t.length;i++){e=t[i];if(r.modules.hasOwnProperty(e))return e;if(r.aliases.hasOwnProperty(e))return r.aliases[e]}},r.normalize=function(e,t){var i=[];if("."!=t.charAt(0))return t;e=e.split("/"),t=t.split("/");for(var n=0;n<t.length;++n)".."==t[n]?e.pop():"."!=t[n]&&""!=t[n]&&i.push(t[n]);return e.concat(i).join("/")},r.register=function(e,t){r.modules[e]=t},r.alias=function(e,t){if(!r.modules.hasOwnProperty(e))throw new Error('Failed to alias "'+e+'", it does not exist');r.aliases[t]=e},r.relative=function(s){function t(e){return r(t.resolve(e),s,e)}var a=r.normalize(s,"..");return t.resolve=function(e){var t=e.charAt(0);if("/"==t)return e.slice(1);if("."==t)return r.normalize(a,e);var i=s.split("/"),n=function(e,t){for(var i=e.length;i--;)if(e[i]===t)return i;return-1}(i,"deps")+1;return n=n||0,i.slice(0,n+1).join("/")+"/deps/"+e},t.exists=function(e){return r.modules.hasOwnProperty(t.resolve(e))},t},r.register("component-emitter/index.js",function(e,t,i){function n(e){return e?function(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}(e):void 0}(i.exports=n).prototype.on=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},n.prototype.once=function(e,t){function i(){n.off(e,i),t.apply(this,arguments)}var n=this;return this._callbacks=this._callbacks||{},t._off=i,this.on(e,i),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=function(e,t){this._callbacks=this._callbacks||{};var i=this._callbacks[e];if(!i)return this;if(1==arguments.length)return delete this._callbacks[e],this;var n=i.indexOf(t._off||t);return~n&&i.splice(n,1),this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),i=this._callbacks[e];if(i)for(var n=0,s=(i=i.slice(0)).length;n<s;++n)i[n].apply(this,t);return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}}),r.register("dropzone/index.js",function(e,t,i){i.exports=t("./lib/dropzone.js")}),r.register("dropzone/lib/dropzone.js",function(e,l,h){(function(){var o,e,t,i,u,d,n,s,I,a={}.hasOwnProperty,r=[].slice;function A(e,t){var i,n,s;if(this.element=e,this.version=A.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");if(A.instances.push(this),this.element.dropzone=this,i=null!=(s=A.optionsForElement(this.element))?s:{},this.options=I({},this.defaultOptions,i,null!=t?t:{}),this.options.forceFallback||!A.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.method=this.options.method.toUpperCase(),(n=this.getExistingFallback())&&n.parentNode&&n.parentNode.removeChild(n),this.previewsContainer=this.options.previewsContainer?A.getElement(this.options.previewsContainer,"previewsContainer"):this.element,this.options.clickable&&(this.clickableElements=!0===this.options.clickable?[this.element]:A.getElements(this.options.clickable,"clickable")),this.init()}e="undefined"!=typeof Emitter&&null!==Emitter?Emitter:l("emitter"),n=function(){},function(e,t){function i(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(A,e),A.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached"],A.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:100,thumbnailHeight:100,maxFiles:null,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,addRemoveLinks:!1,previewsContainer:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(e,t){return t()},init:function(){return n},forceFallback:!1,fallback:function(){var e,t,i,n,s,a;for(this.element.className=this.element.className+" dz-browser-not-supported",n=0,s=(a=this.element.getElementsByTagName("div")).length;n<s;n++)e=a[n],/(^| )dz-message($| )/.test(e.className)&&((t=e).className="dz-message");return t||(t=A.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(t)),(i=t.getElementsByTagName("span")[0])&&(i.textContent=this.options.dictFallbackMessage),this.element.appendChild(this.getFallbackForm())},resize:function(e){var t,i,n;return t={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height},i=e.width/e.height,n=this.options.thumbnailWidth/this.options.thumbnailHeight,e.height<this.options.thumbnailHeight||e.width<this.options.thumbnailWidth?(t.trgHeight=t.srcHeight,t.trgWidth=t.srcWidth):n<i?(t.srcHeight=e.height,t.srcWidth=t.srcHeight*n):(t.srcWidth=e.width,t.srcHeight=t.srcWidth/n),t.srcX=(e.width-t.srcWidth)/2,t.srcY=(e.height-t.srcHeight)/2,t},drop:function(){return this.element.classList.remove("dz-drag-hover")},dragstart:n,dragend:function(){return this.element.classList.remove("dz-drag-hover")},dragenter:function(){return this.element.classList.add("dz-drag-hover")},dragover:function(){return this.element.classList.add("dz-drag-hover")},dragleave:function(){return this.element.classList.remove("dz-drag-hover")},paste:n,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(t){var e,i,n,s,a,o,r,l,h,c,u,d,p=this;for(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),t.previewElement=A.createElement(this.options.previewTemplate.trim()),t.previewTemplate=t.previewElement,this.previewsContainer.appendChild(t.previewElement),n=0,o=(h=t.previewElement.querySelectorAll("[data-dz-name]")).length;n<o;n++)h[n].textContent=t.name;for(s=0,r=(c=t.previewElement.querySelectorAll("[data-dz-size]")).length;s<r;s++)c[s].innerHTML=this.filesize(t.size);for(this.options.addRemoveLinks&&(t._removeLink=A.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),t.previewElement.appendChild(t._removeLink)),e=function(e){return e.preventDefault(),e.stopPropagation(),t.status===A.UPLOADING?A.confirm(p.options.dictCancelUploadConfirmation,function(){return p.removeFile(t)}):p.options.dictRemoveFileConfirmation?A.confirm(p.options.dictRemoveFileConfirmation,function(){return p.removeFile(t)}):p.removeFile(t)},d=[],a=0,l=(u=t.previewElement.querySelectorAll("[data-dz-remove]")).length;a<l;a++)i=u[a],d.push(i.addEventListener("click",e));return d},removedfile:function(e){var t;return null!=(t=e.previewElement)&&t.parentNode.removeChild(e.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(e,t){var i,n,s,a,o;for(e.previewElement.classList.remove("dz-file-preview"),e.previewElement.classList.add("dz-image-preview"),o=[],n=0,s=(a=e.previewElement.querySelectorAll("[data-dz-thumbnail]")).length;n<s;n++)(i=a[n]).alt=e.name,o.push(i.src=t);return o},error:function(e,t){var i,n,s,a,o;for(e.previewElement.classList.add("dz-error"),"String"!=typeof t&&t.error&&(t=t.error),o=[],n=0,s=(a=e.previewElement.querySelectorAll("[data-dz-errormessage]")).length;n<s;n++)i=a[n],o.push(i.textContent=t);return o},errormultiple:n,processing:function(e){return e.previewElement.classList.add("dz-processing"),e._removeLink?e._removeLink.textContent=this.options.dictCancelUpload:void 0},processingmultiple:n,uploadprogress:function(e,t){var i,n,s,a,o;for(o=[],n=0,s=(a=e.previewElement.querySelectorAll("[data-dz-uploadprogress]")).length;n<s;n++)i=a[n],o.push(i.style.width=t+"%");return o},totaluploadprogress:n,sending:n,sendingmultiple:n,success:function(e){return e.previewElement.classList.add("dz-success")},successmultiple:n,canceled:function(e){return this.emit("error",e,"Upload canceled.")},canceledmultiple:n,complete:function(e){return e._removeLink?e._removeLink.textContent=this.options.dictRemoveFile:void 0},completemultiple:n,maxfilesexceeded:n,maxfilesreached:n,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-details">\n    <div class="dz-filename"><span data-dz-name></span></div>\n    <div class="dz-size" data-dz-size></div>\n    <img data-dz-thumbnail />\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-success-mark"><span>✔</span></div>\n  <div class="dz-error-mark"><span>✘</span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n</div>'},I=function(){var e,t,i,n,s,a,o;for(n=arguments[0],a=0,o=(i=2<=arguments.length?r.call(arguments,1):[]).length;a<o;a++)for(e in t=i[a])s=t[e],n[e]=s;return n},A.prototype.getAcceptedFiles=function(){var e,t,i,n,s;for(s=[],t=0,i=(n=this.files).length;t<i;t++)(e=n[t]).accepted&&s.push(e);return s},A.prototype.getRejectedFiles=function(){var e,t,i,n,s;for(s=[],t=0,i=(n=this.files).length;t<i;t++)(e=n[t]).accepted||s.push(e);return s},A.prototype.getQueuedFiles=function(){var e,t,i,n,s;for(s=[],t=0,i=(n=this.files).length;t<i;t++)(e=n[t]).status===A.QUEUED&&s.push(e);return s},A.prototype.getUploadingFiles=function(){var e,t,i,n,s;for(s=[],t=0,i=(n=this.files).length;t<i;t++)(e=n[t]).status===A.UPLOADING&&s.push(e);return s},A.prototype.init=function(){var e,i,s,t,n,a,o,r=this;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(A.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(s=function(){return r.hiddenFileInput&&document.body.removeChild(r.hiddenFileInput),r.hiddenFileInput=document.createElement("input"),r.hiddenFileInput.setAttribute("type","file"),(null==r.options.maxFiles||1<r.options.maxFiles)&&r.hiddenFileInput.setAttribute("multiple","multiple"),null!=r.options.acceptedFiles&&r.hiddenFileInput.setAttribute("accept",r.options.acceptedFiles),r.hiddenFileInput.style.visibility="hidden",r.hiddenFileInput.style.position="absolute",r.hiddenFileInput.style.top="0",r.hiddenFileInput.style.left="0",r.hiddenFileInput.style.height="0",r.hiddenFileInput.style.width="0",document.body.appendChild(r.hiddenFileInput),r.hiddenFileInput.addEventListener("change",function(){var e,t,i,n;if((t=r.hiddenFileInput.files).length)for(i=0,n=t.length;i<n;i++)e=t[i],r.addFile(e);return s()})})(),this.URL=null!=(a=window.URL)?a:window.webkitURL,t=0,n=(o=this.events).length;t<n;t++)e=o[t],this.on(e,this.options[e]);return this.on("uploadprogress",function(){return r.updateTotalUploadProgress()}),this.on("removedfile",function(){return r.updateTotalUploadProgress()}),this.on("canceled",function(e){return r.emit("complete",e)}),this.on("complete",function(){return 0===r.getUploadingFiles().length&&0===r.getQueuedFiles().length?setTimeout(function(){return r.emit("queuecomplete")},0):void 0}),i=function(e){return e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(e){return r.emit("dragstart",e)},dragenter:function(e){return i(e),r.emit("dragenter",e)},dragover:function(e){var t;try{t=e.dataTransfer.effectAllowed}catch(e){}return e.dataTransfer.dropEffect="move"===t||"linkMove"===t?"move":"copy",i(e),r.emit("dragover",e)},dragleave:function(e){return r.emit("dragleave",e)},drop:function(e){return i(e),r.drop(e)},dragend:function(e){return r.emit("dragend",e)}}}],this.clickableElements.forEach(function(t){return r.listeners.push({element:t,events:{click:function(e){return t!==r.element||e.target===r.element||A.elementInside(e.target,r.element.querySelector(".dz-message"))?r.hiddenFileInput.click():void 0}}})}),this.enable(),this.options.init.call(this)},A.prototype.destroy=function(){var e;return this.disable(),this.removeAllFiles(!0),(null!=(e=this.hiddenFileInput)?e.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,A.instances.splice(A.instances.indexOf(this),1)},A.prototype.updateTotalUploadProgress=function(){var e,t,i,n,s,a,o;if(t=i=0,this.getAcceptedFiles().length){for(s=0,a=(o=this.getAcceptedFiles()).length;s<a;s++)i+=(e=o[s]).upload.bytesSent,t+=e.upload.total;n=100*i/t}else n=100;return this.emit("totaluploadprogress",n,t,i)},A.prototype.getFallbackForm=function(){var e,t,i,n;return(e=this.getExistingFallback())?e:(i='<div class="dz-fallback">',this.options.dictFallbackText&&(i+="<p>"+this.options.dictFallbackText+"</p>"),i+='<input type="file" name="'+this.options.paramName+(this.options.uploadMultiple?"[]":"")+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>',t=A.createElement(i),"FORM"!==this.element.tagName?(n=A.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>')).appendChild(t):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=n?n:t)},A.prototype.getExistingFallback=function(){var e,t,i,n,s,a;for(t=function(e){var t,i,n;for(i=0,n=e.length;i<n;i++)if(t=e[i],/(^| )fallback($| )/.test(t.className))return t},n=0,s=(a=["div","form"]).length;n<s;n++)if(i=a[n],e=t(this.element.getElementsByTagName(i)))return e},A.prototype.setupEventListeners=function(){var i,n,s,e,t,a,o;for(o=[],e=0,t=(a=this.listeners).length;e<t;e++)i=a[e],o.push(function(){var e,t;for(n in t=[],e=i.events)s=e[n],t.push(i.element.addEventListener(n,s,!1));return t}());return o},A.prototype.removeEventListeners=function(){var i,n,s,e,t,a,o;for(o=[],e=0,t=(a=this.listeners).length;e<t;e++)i=a[e],o.push(function(){var e,t;for(n in t=[],e=i.events)s=e[n],t.push(i.element.removeEventListener(n,s,!1));return t}());return o},A.prototype.disable=function(){var e,t,i,n,s;for(this.clickableElements.forEach(function(e){return e.classList.remove("dz-clickable")}),this.removeEventListeners(),s=[],t=0,i=(n=this.files).length;t<i;t++)e=n[t],s.push(this.cancelUpload(e));return s},A.prototype.enable=function(){return this.clickableElements.forEach(function(e){return e.classList.add("dz-clickable")}),this.setupEventListeners()},A.prototype.filesize=function(e){var t;return t=109951162777.6<=e?(e/=109951162777.6,"TiB"):107374182.4<=e?(e/=107374182.4,"GiB"):104857.6<=e?(e/=104857.6,"MiB"):102.4<=e?(e/=102.4,"KiB"):(e*=10,"b"),"<strong>"+Math.round(e)/10+"</strong> "+t},A.prototype._updateMaxFilesReachedClass=function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},A.prototype.drop=function(e){var t,i;e.dataTransfer&&(this.emit("drop",e),(t=e.dataTransfer.files).length&&((i=e.dataTransfer.items)&&i.length&&null!=i[0].webkitGetAsEntry?this._addFilesFromItems(i):this.handleFiles(t)))},A.prototype.paste=function(e){var t,i;if(null!=(null!=e&&null!=(i=e.clipboardData)?i.items:void 0))return this.emit("paste",e),(t=e.clipboardData.items).length?this._addFilesFromItems(t):void 0},A.prototype.handleFiles=function(e){var t,i,n,s;for(s=[],i=0,n=e.length;i<n;i++)t=e[i],s.push(this.addFile(t));return s},A.prototype._addFilesFromItems=function(e){var t,i,n,s,a;for(a=[],n=0,s=e.length;n<s;n++)null!=(i=e[n]).webkitGetAsEntry&&(t=i.webkitGetAsEntry())?t.isFile?a.push(this.addFile(i.getAsFile())):t.isDirectory?a.push(this._addFilesFromDirectory(t,t.name)):a.push(void 0):null==i.getAsFile||null!=i.kind&&"file"!==i.kind?a.push(void 0):a.push(this.addFile(i.getAsFile()));return a},A.prototype._addFilesFromDirectory=function(e,s){var t,a=this;return t=function(e){var t,i,n;for(i=0,n=e.length;i<n;i++)(t=e[i]).isFile?t.file(function(e){return a.options.ignoreHiddenFiles&&"."===e.name.substring(0,1)?void 0:(e.fullPath=s+"/"+e.name,a.addFile(e))}):t.isDirectory&&a._addFilesFromDirectory(t,s+"/"+t.name)},e.createReader().readEntries(t,function(e){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log(e):void 0})},A.prototype.accept=function(e,t){return e.size>1024*this.options.maxFilesize*1024?t(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):A.isValidFile(e,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(t(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e)):this.options.accept.call(this,e,t):t(this.options.dictInvalidFileType)},A.prototype.addFile=function(t){var i=this;return t.upload={progress:0,total:t.size,bytesSent:0},this.files.push(t),t.status=A.ADDED,this.emit("addedfile",t),this._enqueueThumbnail(t),this.accept(t,function(e){return e?(t.accepted=!1,i._errorProcessing([t],e)):i.enqueueFile(t),i._updateMaxFilesReachedClass()})},A.prototype.enqueueFiles=function(e){var t,i,n;for(i=0,n=e.length;i<n;i++)t=e[i],this.enqueueFile(t);return null},A.prototype.enqueueFile=function(e){var t=this;if(e.accepted=!0,e.status!==A.ADDED)throw new Error("This file can't be queued because it has already been processed or was rejected.");return e.status=A.QUEUED,this.options.autoProcessQueue?setTimeout(function(){return t.processQueue()},0):void 0},A.prototype._thumbnailQueue=[],A.prototype._processingThumbnail=!1,A.prototype._enqueueThumbnail=function(e){var t=this;return this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=1024*this.options.maxThumbnailFilesize*1024?(this._thumbnailQueue.push(e),setTimeout(function(){return t._processThumbnailQueue()},0)):void 0},A.prototype._processThumbnailQueue=function(){var e=this;if(!this._processingThumbnail&&0!==this._thumbnailQueue.length)return this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shift(),function(){return e._processingThumbnail=!1,e._processThumbnailQueue()})},A.prototype.removeFile=function(e){return e.status===A.UPLOADING&&this.cancelUpload(e),this.files=s(this.files,e),this.emit("removedfile",e),0===this.files.length?this.emit("reset"):void 0},A.prototype.removeAllFiles=function(e){var t,i,n,s;for(null==e&&(e=!1),i=0,n=(s=this.files.slice()).length;i<n;i++)(t=s[i]).status===A.UPLOADING&&!e||this.removeFile(t);return null},A.prototype.createThumbnail=function(h,c){var e,u=this;return(e=new FileReader).onload=function(){var l;return(l=document.createElement("img")).onload=function(){var e,t,i,n,s,a,o,r;return h.width=l.width,h.height=l.height,null==(i=u.options.resize.call(u,h)).trgWidth&&(i.trgWidth=u.options.thumbnailWidth),null==i.trgHeight&&(i.trgHeight=u.options.thumbnailHeight),t=(e=document.createElement("canvas")).getContext("2d"),e.width=i.trgWidth,e.height=i.trgHeight,d(t,l,null!=(s=i.srcX)?s:0,null!=(a=i.srcY)?a:0,i.srcWidth,i.srcHeight,null!=(o=i.trgX)?o:0,null!=(r=i.trgY)?r:0,i.trgWidth,i.trgHeight),n=e.toDataURL("image/png"),u.emit("thumbnail",h,n),null!=c?c():void 0},l.src=e.result},e.readAsDataURL(h)},A.prototype.processQueue=function(){var e,t,i,n;if(!((t=this.options.parallelUploads)<=(e=i=this.getUploadingFiles().length))&&0<(n=this.getQueuedFiles()).length){if(this.options.uploadMultiple)return this.processFiles(n.slice(0,t-i));for(;e<t;){if(!n.length)return;this.processFile(n.shift()),e++}}},A.prototype.processFile=function(e){return this.processFiles([e])},A.prototype.processFiles=function(e){var t,i,n;for(i=0,n=e.length;i<n;i++)(t=e[i]).processing=!0,t.status=A.UPLOADING,this.emit("processing",t);return this.options.uploadMultiple&&this.emit("processingmultiple",e),this.uploadFiles(e)},A.prototype._getFilesWithXhr=function(s){var a;return function(){var e,t,i,n;for(n=[],e=0,t=(i=this.files).length;e<t;e++)(a=i[e]).xhr===s&&n.push(a);return n}.call(this)},A.prototype.cancelUpload=function(e){var t,i,n,s,a,o,r;if(e.status===A.UPLOADING){for(n=0,a=(i=this._getFilesWithXhr(e.xhr)).length;n<a;n++)(t=i[n]).status=A.CANCELED;for(e.xhr.abort(),s=0,o=i.length;s<o;s++)t=i[s],this.emit("canceled",t);this.options.uploadMultiple&&this.emit("canceledmultiple",i)}else(r=e.status)!==A.ADDED&&r!==A.QUEUED||(e.status=A.CANCELED,this.emit("canceled",e),this.options.uploadMultiple&&this.emit("canceledmultiple",[e]));return this.options.autoProcessQueue?this.processQueue():void 0},A.prototype.uploadFile=function(e){return this.uploadFiles([e])},A.prototype.uploadFiles=function(c){var u,e,i,t,n,s,a,o,r,l,h,d,p,f,g,m,v,b,y,w,C,x,_,S,T,k,D,E,N,R,M=this;for(g=new XMLHttpRequest,m=0,w=c.length;m<w;m++)(u=c[m]).xhr=g;for(t in g.open(this.options.method,this.options.url,!0),g.withCredentials=!!this.options.withCredentials,d=null,i=function(){var e,t,i;for(i=[],e=0,t=c.length;e<t;e++)u=c[e],i.push(M._errorProcessing(c,d||M.options.dictResponseError.replace("{{statusCode}}",g.status),g));return i},p=function(e){var t,i,n,s,a,o,r,l,h;if(null!=e)for(i=100*e.loaded/e.total,n=0,o=c.length;n<o;n++)(u=c[n]).upload={progress:i,total:e.total,bytesSent:e.loaded};else{for(t=!0,i=100,s=0,r=c.length;s<r;s++)100===(u=c[s]).upload.progress&&u.upload.bytesSent===u.upload.total||(t=!1),u.upload.progress=i,u.upload.bytesSent=u.upload.total;if(t)return}for(h=[],a=0,l=c.length;a<l;a++)u=c[a],h.push(M.emit("uploadprogress",u,i,u.upload.bytesSent));return h},g.onload=function(t){var e;if(c[0].status!==A.CANCELED&&4===g.readyState){if(d=g.responseText,g.getResponseHeader("content-type")&&~g.getResponseHeader("content-type").indexOf("application/json"))try{d=JSON.parse(d)}catch(e){t=e,d="Invalid JSON response from server."}return p(),200<=(e=g.status)&&e<300?M._finished(c,d,t):i()}},g.onerror=function(){return c[0].status!==A.CANCELED?i():void 0},(null!=(k=g.upload)?k:g).onprogress=p,s={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&I(s,this.options.headers),s)n=s[t],g.setRequestHeader(t,n);if(e=new FormData,this.options.params)for(l in D=this.options.params)f=D[l],e.append(l,f);for(v=0,C=c.length;v<C;v++)u=c[v],this.emit("sending",u,g,e);if(this.options.uploadMultiple&&this.emit("sendingmultiple",c,g,e),"FORM"===this.element.tagName)for(b=0,x=(E=this.element.querySelectorAll("input, textarea, select, button")).length;b<x;b++)if(o=(a=E[b]).getAttribute("name"),r=a.getAttribute("type"),"SELECT"===a.tagName&&a.hasAttribute("multiple"))for(y=0,_=(N=a.options).length;y<_;y++)(h=N[y]).selected&&e.append(o,h.value);else(!r||"checkbox"!==(R=r.toLowerCase())&&"radio"!==R||a.checked)&&e.append(o,a.value);for(T=0,S=c.length;T<S;T++)u=c[T],e.append(this.options.paramName+(this.options.uploadMultiple?"[]":""),u,u.name);return g.send(e)},A.prototype._finished=function(e,t,i){var n,s,a;for(s=0,a=e.length;s<a;s++)(n=e[s]).status=A.SUCCESS,this.emit("success",n,t,i),this.emit("complete",n);return this.options.uploadMultiple&&(this.emit("successmultiple",e,t,i),this.emit("completemultiple",e)),this.options.autoProcessQueue?this.processQueue():void 0},A.prototype._errorProcessing=function(e,t,i){var n,s,a;for(s=0,a=e.length;s<a;s++)(n=e[s]).status=A.ERROR,this.emit("error",n,t,i),this.emit("complete",n);return this.options.uploadMultiple&&(this.emit("errormultiple",e,t,i),this.emit("completemultiple",e)),this.options.autoProcessQueue?this.processQueue():void 0},(o=A).version="3.8.4",o.options={},o.optionsForElement=function(e){return e.getAttribute("id")?o.options[t(e.getAttribute("id"))]:void 0},o.instances=[],o.forElement=function(e){if("string"==typeof e&&(e=document.querySelector(e)),null==(null!=e?e.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return e.dropzone},o.autoDiscover=!0,o.discover=function(){var e,t,a,i,n,s;for(document.querySelectorAll?a=document.querySelectorAll(".dropzone"):(a=[],(e=function(e){var t,i,n,s;for(s=[],i=0,n=e.length;i<n;i++)t=e[i],/(^| )dropzone($| )/.test(t.className)?s.push(a.push(t)):s.push(void 0);return s})(document.getElementsByTagName("div")),e(document.getElementsByTagName("form"))),s=[],i=0,n=a.length;i<n;i++)t=a[i],!1!==o.optionsForElement(t)?s.push(new o(t)):s.push(void 0);return s},o.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],o.isBrowserSupported=function(){var e,t,i,n;if(e=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(t=0,i=(n=o.blacklistedBrowsers).length;t<i;t++)n[t].test(navigator.userAgent)&&(e=!1);else e=!1;else e=!1;return e},s=function(e,t){var i,n,s,a;for(a=[],n=0,s=e.length;n<s;n++)(i=e[n])!==t&&a.push(i);return a},t=function(e){return e.replace(/[\-_](\w)/g,function(e){return e[1].toUpperCase()})},o.createElement=function(e){var t;return(t=document.createElement("div")).innerHTML=e,t.childNodes[0]},o.elementInside=function(e,t){if(e===t)return!0;for(;e=e.parentNode;)if(e===t)return!0;return!1},o.getElement=function(e,t){var i;if("string"==typeof e?i=document.querySelector(e):null!=e.nodeType&&(i=e),null==i)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector or a plain HTML element.");return i},o.getElements=function(e,t){var i,n,s,a,o,r,l;if(e instanceof Array){n=[];try{for(s=0,o=e.length;s<o;s++)i=e[s],n.push(this.getElement(i,t))}catch(e){n=null}}else if("string"==typeof e)for(n=[],a=0,r=(l=document.querySelectorAll(e)).length;a<r;a++)i=l[a],n.push(i);else null!=e.nodeType&&(n=[e]);if(null==n||!n.length)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return n},o.confirm=function(e,t,i){return window.confirm(e)?t():null!=i?i():void 0},o.isValidFile=function(e,t){var i,n,s,a,o;if(!t)return!0;for(t=t.split(","),i=(n=e.type).replace(/\/.*$/,""),a=0,o=t.length;a<o;a++)if("."===(s=(s=t[a]).trim()).charAt(0)){if(-1!==e.name.toLowerCase().indexOf(s.toLowerCase(),e.name.length-s.length))return!0}else if(/\/\*$/.test(s)){if(i===s.replace(/\/.*$/,""))return!0}else if(n===s)return!0;return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(e){return this.each(function(){return new o(this,e)})}),null!=h?h.exports=o:window.Dropzone=o,o.ADDED="added",o.QUEUED="queued",o.ACCEPTED=o.QUEUED,o.UPLOADING="uploading",o.PROCESSING=o.UPLOADING,o.CANCELED="canceled",o.ERROR="error",o.SUCCESS="success",u=function(e){var t,i,n,s,a,o,r,l;for(e.naturalWidth,a=e.naturalHeight,(t=document.createElement("canvas")).width=1,t.height=a,(i=t.getContext("2d")).drawImage(e,0,0),n=i.getImageData(0,0,1,a).data,l=0,o=s=a;l<o;)0===n[4*(o-1)+3]?s=o:l=o,o=s+l>>1;return 0==(r=o/a)?1:r},d=function(e,t,i,n,s,a,o,r,l,h){var c;return c=u(t),e.drawImage(t,i,n,s,a,o,r,l,h/c)},i=function(t,i){var e,n,s,a,o,r,l,h,c;if(c=!(s=!1),n=t.document,h=n.documentElement,e=n.addEventListener?"addEventListener":"attachEvent",l=n.addEventListener?"removeEventListener":"detachEvent",r=n.addEventListener?"":"on",a=function(e){return"readystatechange"!==e.type||"complete"===n.readyState?(("load"===e.type?t:n)[l](r+e.type,a,!1),!s&&(s=!0)?i.call(t,e.type||e):void 0):void 0},o=function(){try{h.doScroll("left")}catch(e){return void setTimeout(o,50)}return a("poll")},"complete"!==n.readyState){if(n.createEventObject&&h.doScroll){try{c=!t.frameElement}catch(e){}c&&o()}return n[e](r+"DOMContentLoaded",a,!1),n[e](r+"readystatechange",a,!1),t[e](r+"load",a,!1)}},o._autoDiscoverFunction=function(){return o.autoDiscover?o.discover():void 0},i(window,o._autoDiscoverFunction)}).call(this)}),r.alias("component-emitter/index.js","dropzone/deps/emitter/index.js"),r.alias("component-emitter/index.js","emitter/index.js"),"object"==typeof exports?module.exports=r("dropzone"):"function"==typeof define&&define.amd?define(function(){return r("dropzone")}):this.Dropzone=r("dropzone")}(),function(T,k){function D(){return new Date(Date.UTC.apply(Date,arguments))}function r(){var e=new Date;return D(e.getFullYear(),e.getMonth(),e.getDate())}function e(e){return function(){return this[e].apply(this,arguments)}}function b(e,t){this.dates=new i,this.viewDate=r(),this.focusDate=null,this._process_options(t),this.element=T(e),this.isInline=!1,this.isInput=this.element.is("input"),this.component=!!this.element.is(".date")&&this.element.find(".add-on, .input-group-addon, .btn"),this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=T(N.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(e,t){return parseInt(t)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()}var t,f=T(window),i=(t={get:function(e){return this.slice(e)[0]},contains:function(e){for(var t=e&&e.valueOf(),i=0,n=this.length;i<n;i++)if(this[i].valueOf()===t)return i;return-1},remove:function(e){this.splice(e,1)},replace:function(e){e&&(T.isArray(e)||(e=[e]),this.clear(),this.push.apply(this,e))},clear:function(){this.splice(0)},copy:function(){var e=new i;return e.replace(this),e}},function(){var e=[];return e.push.apply(e,arguments),T.extend(e,t),e});b.prototype={constructor:b,_process_options:function(e){this._o=T.extend({},this._o,e);var t=this.o=T.extend({},this._o),i=t.language;switch(E[i]||(i=i.split("-")[0],E[i]||(i=u.language)),t.language=i,t.startView){case 2:case"decade":t.startView=2;break;case 1:case"year":t.startView=1;break;default:t.startView=0}switch(t.minViewMode){case 1:case"months":t.minViewMode=1;break;case 2:case"years":t.minViewMode=2;break;default:t.minViewMode=0}t.startView=Math.max(t.startView,t.minViewMode),!0!==t.multidate&&(t.multidate=Number(t.multidate)||!1,t.multidate=!1!==t.multidate?Math.max(0,t.multidate):1),t.multidateSeparator=String(t.multidateSeparator),t.weekStart%=7,t.weekEnd=(t.weekStart+6)%7;var n=N.parseFormat(t.format);t.startDate!==-1/0&&(t.startDate=t.startDate?t.startDate instanceof Date?this._local_to_utc(this._zero_time(t.startDate)):N.parseDate(t.startDate,n,t.language):-1/0),1/0!==t.endDate&&(t.endDate=t.endDate?t.endDate instanceof Date?this._local_to_utc(this._zero_time(t.endDate)):N.parseDate(t.endDate,n,t.language):1/0),t.daysOfWeekDisabled=t.daysOfWeekDisabled||[],T.isArray(t.daysOfWeekDisabled)||(t.daysOfWeekDisabled=t.daysOfWeekDisabled.split(/[,\s]*/)),t.daysOfWeekDisabled=T.map(t.daysOfWeekDisabled,function(e){return parseInt(e,10)});var s=String(t.orientation).toLowerCase().split(/\s+/g),a=t.orientation.toLowerCase();if(s=T.grep(s,function(e){return/^auto|left|right|top|bottom$/.test(e)}),t.orientation={x:"auto",y:"auto"},a&&"auto"!==a)if(1===s.length)switch(s[0]){case"top":case"bottom":t.orientation.y=s[0];break;case"left":case"right":t.orientation.x=s[0]}else a=T.grep(s,function(e){return/^left|right$/.test(e)}),t.orientation.x=a[0]||"auto",a=T.grep(s,function(e){return/^top|bottom$/.test(e)}),t.orientation.y=a[0]||"auto"},_events:[],_secondaryEvents:[],_applyEvents:function(e){for(var t,i,n,s=0;s<e.length;s++)t=e[s][0],2===e[s].length?(i=k,n=e[s][1]):3===e[s].length&&(i=e[s][1],n=e[s][2]),t.on(n,i)},_unapplyEvents:function(e){for(var t,i,n,s=0;s<e.length;s++)t=e[s][0],2===e[s].length?(n=k,i=e[s][1]):3===e[s].length&&(n=e[s][1],i=e[s][2]),t.off(i,n)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:T.proxy(this.show,this),keyup:T.proxy(function(e){-1===T.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:T.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:T.proxy(this.show,this),keyup:T.proxy(function(e){-1===T.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:T.proxy(this.keydown,this)}],[this.component,{click:T.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:T.proxy(this.show,this)}]],this._events.push([this.element,"*",{blur:T.proxy(function(e){this._focused_from=e.target},this)}],[this.element,{blur:T.proxy(function(e){this._focused_from=e.target},this)}]),this._secondaryEvents=[[this.picker,{click:T.proxy(this.click,this)}],[T(window),{resize:T.proxy(this.place,this)}],[T(document),{"mousedown touchstart":T.proxy(function(e){this.element.is(e.target)||this.element.find(e.target).length||this.picker.is(e.target)||this.picker.find(e.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,t){var i=t||this.dates.get(-1),n=this._utc_to_local(i);this.element.trigger({type:e,date:n,dates:T.map(this.dates,this._utc_to_local),format:T.proxy(function(e,t){0===arguments.length?(e=this.dates.length-1,t=this.o.format):"string"==typeof e&&(t=e,e=this.dates.length-1),t=t||this.o.format;var i=this.dates.get(e);return N.formatDate(i,t,this.o.language)},this)})},show:function(){this.isInline||this.picker.appendTo("body"),this.picker.show(),this.place(),this._attachSecondaryEvents(),this._trigger("show")},hide:function(){this.isInline||this.picker.is(":visible")&&(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date},_utc_to_local:function(e){return e&&new Date(e.getTime()+6e4*e.getTimezoneOffset())},_local_to_utc:function(e){return e&&new Date(e.getTime()-6e4*e.getTimezoneOffset())},_zero_time:function(e){return e&&new Date(e.getFullYear(),e.getMonth(),e.getDate())},_zero_utc_time:function(e){return e&&new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()))},getDates:function(){return T.map(this.dates,this._utc_to_local)},getUTCDates:function(){return T.map(this.dates,function(e){return new Date(e)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){return new Date(this.dates.get(-1))},setDates:function(){var e=T.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,e),this._trigger("changeDate"),this.setValue()},setUTCDates:function(){var e=T.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,T.map(e,this._utc_to_local)),this._trigger("changeDate"),this.setValue()},setDate:e("setDates"),setUTCDate:e("setUTCDates"),setValue:function(){var e=this.getFormattedDate();this.isInput?this.element.val(e).change():this.component&&this.element.find("input").val(e).change()},getFormattedDate:function(t){t===k&&(t=this.o.format);var i=this.o.language;return T.map(this.dates,function(e){return N.formatDate(e,t,i)}).join(this.o.multidateSeparator)},setStartDate:function(e){this._process_options({startDate:e}),this.update(),this.updateNavArrows()},setEndDate:function(e){this._process_options({endDate:e}),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(e){this._process_options({daysOfWeekDisabled:e}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var e=this.picker.outerWidth(),t=this.picker.outerHeight(),i=f.width(),n=f.height(),s=f.scrollTop(),a=parseInt(this.element.parents().filter(function(){return"auto"!==T(this).css("z-index")}).first().css("z-index"))+10,o=this.component?this.component.parent().offset():this.element.offset(),r=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),l=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),h=o.left,c=o.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(h-=e-l)):(this.picker.addClass("datepicker-orient-left"),o.left<0?h-=o.left-10:o.left+e>i&&(h=i-e-10));var u,d,p=this.o.orientation.y;"auto"===p&&(u=-s+o.top-t,d=s+n-(o.top+r+t),p=Math.max(u,d)===d?"top":"bottom"),this.picker.addClass("datepicker-orient-"+p),"top"===p?c+=r:c-=t+parseInt(this.picker.css("padding-top")),this.picker.css({top:c,left:h,zIndex:a})}},_allow_update:!0,update:function(){if(this._allow_update){var e=this.dates.copy(),i=[],t=!1;arguments.length?(T.each(arguments,T.proxy(function(e,t){t instanceof Date&&(t=this._local_to_utc(t)),i.push(t)},this)),t=!0):(i=(i=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val())&&this.o.multidate?i.split(this.o.multidateSeparator):[i],delete this.element.data().date),i=T.map(i,T.proxy(function(e){return N.parseDate(e,this.o.format,this.o.language)},this)),i=T.grep(i,T.proxy(function(e){return e<this.o.startDate||e>this.o.endDate||!e},this),!0),this.dates.replace(i),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate&&(this.viewDate=new Date(this.o.endDate)),t?this.setValue():i.length&&String(e)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&e.length&&this._trigger("clearDate"),this.fill()}},fillDow:function(){var e=this.o.weekStart,t="<tr>";if(this.o.calendarWeeks){var i='<th class="cw">&nbsp;</th>';t+=i,this.picker.find(".datepicker-days thead tr:first-child").prepend(i)}for(;e<this.o.weekStart+7;)t+='<th class="dow">'+E[this.o.language].daysMin[e++%7]+"</th>";t+="</tr>",this.picker.find(".datepicker-days thead").append(t)},fillMonths:function(){for(var e="",t=0;t<12;)e+='<span class="month">'+E[this.o.language].monthsShort[t++]+"</span>";this.picker.find(".datepicker-months td").html(e)},setRange:function(e){e&&e.length?this.range=T.map(e,function(e){return e.valueOf()}):delete this.range,this.fill()},getClassNames:function(e){var t=[],i=this.viewDate.getUTCFullYear(),n=this.viewDate.getUTCMonth(),s=new Date;return e.getUTCFullYear()<i||e.getUTCFullYear()===i&&e.getUTCMonth()<n?t.push("old"):(e.getUTCFullYear()>i||e.getUTCFullYear()===i&&e.getUTCMonth()>n)&&t.push("new"),this.focusDate&&e.valueOf()===this.focusDate.valueOf()&&t.push("focused"),this.o.todayHighlight&&e.getUTCFullYear()===s.getFullYear()&&e.getUTCMonth()===s.getMonth()&&e.getUTCDate()===s.getDate()&&t.push("today"),-1!==this.dates.contains(e)&&t.push("active"),(e.valueOf()<this.o.startDate||e.valueOf()>this.o.endDate||-1!==T.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled))&&t.push("disabled"),this.range&&(e>this.range[0]&&e<this.range[this.range.length-1]&&t.push("range"),-1!==T.inArray(e.valueOf(),this.range)&&t.push("selected")),t},fill:function(){var e,t=new Date(this.viewDate),i=t.getUTCFullYear(),n=t.getUTCMonth(),s=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,a=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,o=1/0!==this.o.endDate?this.o.endDate.getUTCFullYear():1/0,r=1/0!==this.o.endDate?this.o.endDate.getUTCMonth():1/0,l=E[this.o.language].today||E.en.today||"",h=E[this.o.language].clear||E.en.clear||"";this.picker.find(".datepicker-days thead th.datepicker-switch").text(E[this.o.language].months[n]+" "+i),this.picker.find("tfoot th.today").text(l).toggle(!1!==this.o.todayBtn),this.picker.find("tfoot th.clear").text(h).toggle(!1!==this.o.clearBtn),this.updateNavArrows(),this.fillMonths();var c=D(i,n-1,28),u=N.getDaysInMonth(c.getUTCFullYear(),c.getUTCMonth());c.setUTCDate(u),c.setUTCDate(u-(c.getUTCDay()-this.o.weekStart+7)%7);var d=new Date(c);d.setUTCDate(d.getUTCDate()+42),d=d.valueOf();for(var p,f=[];c.valueOf()<d;){if(c.getUTCDay()===this.o.weekStart&&(f.push("<tr>"),this.o.calendarWeeks)){var g=new Date(+c+(this.o.weekStart-c.getUTCDay()-7)%7*864e5),m=new Date(Number(g)+(11-g.getUTCDay())%7*864e5),v=new Date(Number(v=D(m.getUTCFullYear(),0,1))+(11-v.getUTCDay())%7*864e5),b=(m-v)/864e5/7+1;f.push('<td class="cw">'+b+"</td>")}if((p=this.getClassNames(c)).push("day"),this.o.beforeShowDay!==T.noop){var y=this.o.beforeShowDay(this._utc_to_local(c));y===k?y={}:"boolean"==typeof y?y={enabled:y}:"string"==typeof y&&(y={classes:y}),!1===y.enabled&&p.push("disabled"),y.classes&&(p=p.concat(y.classes.split(/\s+/))),y.tooltip&&(e=y.tooltip)}p=T.unique(p),f.push('<td class="'+p.join(" ")+'"'+(e?' title="'+e+'"':"")+">"+c.getUTCDate()+"</td>"),c.getUTCDay()===this.o.weekEnd&&f.push("</tr>"),c.setUTCDate(c.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(f.join(""));var w=this.picker.find(".datepicker-months").find("th:eq(1)").text(i).end().find("span").removeClass("active");T.each(this.dates,function(e,t){t.getUTCFullYear()===i&&w.eq(t.getUTCMonth()).addClass("active")}),(i<s||o<i)&&w.addClass("disabled"),i===s&&w.slice(0,a).addClass("disabled"),i===o&&w.slice(r+1).addClass("disabled"),f="",i=10*parseInt(i/10,10);var C=this.picker.find(".datepicker-years").find("th:eq(1)").text(i+"-"+(i+9)).end().find("td");--i;for(var x,_=T.map(this.dates,function(e){return e.getUTCFullYear()}),S=-1;S<11;S++)x=["year"],-1===S?x.push("old"):10===S&&x.push("new"),-1!==T.inArray(i,_)&&x.push("active"),(i<s||o<i)&&x.push("disabled"),f+='<span class="'+x.join(" ")+'">'+i+"</span>",i+=1;C.html(f)},updateNavArrows:function(){if(this._allow_update){var e=new Date(this.viewDate),t=e.getUTCFullYear(),i=e.getUTCMonth();switch(this.viewMode){case 0:this.picker.find(".prev").css(this.o.startDate!==-1/0&&t<=this.o.startDate.getUTCFullYear()&&i<=this.o.startDate.getUTCMonth()?{visibility:"hidden"}:{visibility:"visible"}),this.picker.find(".next").css(1/0!==this.o.endDate&&t>=this.o.endDate.getUTCFullYear()&&i>=this.o.endDate.getUTCMonth()?{visibility:"hidden"}:{visibility:"visible"});break;case 1:case 2:this.picker.find(".prev").css(this.o.startDate!==-1/0&&t<=this.o.startDate.getUTCFullYear()?{visibility:"hidden"}:{visibility:"visible"}),this.picker.find(".next").css(1/0!==this.o.endDate&&t>=this.o.endDate.getUTCFullYear()?{visibility:"hidden"}:{visibility:"visible"})}}},click:function(e){e.preventDefault();var t,i,n,s=T(e.target).closest("span, td, th");if(1===s.length)switch(s[0].nodeName.toLowerCase()){case"th":switch(s[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var a=N.modes[this.viewMode].navStep*("prev"===s[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,a),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,a),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var o=new Date;o=D(o.getFullYear(),o.getMonth(),o.getDate(),0,0,0),this.showMode(-2);var r="linked"===this.o.todayBtn?null:"view";this._setDate(o,r);break;case"clear":var l;this.isInput?l=this.element:this.component&&(l=this.element.find("input")),l&&l.val("").change(),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()}break;case"span":s.is(".disabled")||(this.viewDate.setUTCDate(1),s.is(".month")?(n=1,i=s.parent().find("span").index(s),t=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(i),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(D(t,i,n))):(n=1,i=0,t=parseInt(s.text(),10)||0,this.viewDate.setUTCFullYear(t),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(D(t,i,n))),this.showMode(-1),this.fill());break;case"td":s.is(".day")&&!s.is(".disabled")&&(n=parseInt(s.text(),10)||1,t=this.viewDate.getUTCFullYear(),i=this.viewDate.getUTCMonth(),s.is(".old")?0===i?(i=11,--t):--i:s.is(".new")&&(11===i?(i=0,t+=1):i+=1),this._setDate(D(t,i,n)))}this.picker.is(":visible")&&this._focused_from&&T(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(e){var t=this.dates.contains(e);if(e?-1!==t?this.dates.remove(t):this.dates.push(e):this.dates.clear(),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(e,t){var i;t&&"date"!==t||this._toggle_multidate(e&&new Date(e)),t&&"view"!==t||(this.viewDate=e&&new Date(e)),this.fill(),this.setValue(),this._trigger("changeDate"),this.isInput?i=this.element:this.component&&(i=this.element.find("input")),i&&i.change(),!this.o.autoclose||t&&"date"!==t||this.hide()},moveMonth:function(e,t){if(!e)return k;if(!t)return e;var i,n,s=new Date(e.valueOf()),a=s.getUTCDate(),o=s.getUTCMonth(),r=Math.abs(t);if(t=0<t?1:-1,1===r)n=-1===t?function(){return s.getUTCMonth()===o}:function(){return s.getUTCMonth()!==i},i=o+t,s.setUTCMonth(i),(i<0||11<i)&&(i=(i+12)%12);else{for(var l=0;l<r;l++)s=this.moveMonth(s,t);i=s.getUTCMonth(),s.setUTCDate(a),n=function(){return i!==s.getUTCMonth()}}for(;n();)s.setUTCDate(--a),s.setUTCMonth(i);return s},moveYear:function(e,t){return this.moveMonth(e,12*t)},dateWithinRange:function(e){return e>=this.o.startDate&&e<=this.o.endDate},keydown:function(e){if(this.picker.is(":not(:visible)"))27===e.keyCode&&this.show();else{var t,i,n,s,a=!1,o=this.focusDate||this.viewDate;switch(e.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),e.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;t=37===e.keyCode?-1:1,e.ctrlKey?(i=this.moveYear(this.dates.get(-1)||r(),t),n=this.moveYear(o,t),this._trigger("changeYear",this.viewDate)):e.shiftKey?(i=this.moveMonth(this.dates.get(-1)||r(),t),n=this.moveMonth(o,t),this._trigger("changeMonth",this.viewDate)):((i=new Date(this.dates.get(-1)||r())).setUTCDate(i.getUTCDate()+t),(n=new Date(o)).setUTCDate(o.getUTCDate()+t)),this.dateWithinRange(i)&&(this.focusDate=this.viewDate=n,this.setValue(),this.fill(),e.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;t=38===e.keyCode?-1:1,e.ctrlKey?(i=this.moveYear(this.dates.get(-1)||r(),t),n=this.moveYear(o,t),this._trigger("changeYear",this.viewDate)):e.shiftKey?(i=this.moveMonth(this.dates.get(-1)||r(),t),n=this.moveMonth(o,t),this._trigger("changeMonth",this.viewDate)):((i=new Date(this.dates.get(-1)||r())).setUTCDate(i.getUTCDate()+7*t),(n=new Date(o)).setUTCDate(o.getUTCDate()+7*t)),this.dateWithinRange(i)&&(this.focusDate=this.viewDate=n,this.setValue(),this.fill(),e.preventDefault());break;case 32:break;case 13:o=this.focusDate||this.dates.get(-1)||this.viewDate,this._toggle_multidate(o),a=!0,this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(e.preventDefault(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}if(a)this._trigger(this.dates.length?"changeDate":"clearDate"),this.isInput?s=this.element:this.component&&(s=this.element.find("input")),s&&s.change()}},showMode:function(e){e&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+e))),this.picker.find(">div").hide().filter(".datepicker-"+N.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};function c(e,t){this.element=T(e),this.inputs=T.map(t.inputs,function(e){return e.jquery?e[0]:e}),delete t.inputs,T(this.inputs).datepicker(t).bind("changeDate",T.proxy(this.dateUpdated,this)),this.pickers=T.map(this.inputs,function(e){return T(e).data("datepicker")}),this.updateDates()}c.prototype={updateDates:function(){this.dates=T.map(this.pickers,function(e){return e.getUTCDate()}),this.updateRanges()},updateRanges:function(){var i=T.map(this.dates,function(e){return e.valueOf()});T.each(this.pickers,function(e,t){t.setRange(i)})},dateUpdated:function(e){if(!this.updating){this.updating=!0;var i=T(e.target).data("datepicker").getUTCDate(),t=T.inArray(e.target,this.inputs),n=this.inputs.length;if(-1!==t){if(T.each(this.pickers,function(e,t){t.getUTCDate()||t.setUTCDate(i)}),i<this.dates[t])for(;0<=t&&i<this.dates[t];)this.pickers[t--].setUTCDate(i);else if(i>this.dates[t])for(;t<n&&i>this.dates[t];)this.pickers[t++].setUTCDate(i);this.updateDates(),delete this.updating}}},remove:function(){T.map(this.pickers,function(e){e.remove()}),delete this.element.data().datepicker}};var n=T.fn.datepicker;T.fn.datepicker=function(r){var l,h=Array.apply(null,arguments);return h.shift(),this.each(function(){var e=T(this),t=e.data("datepicker"),i="object"==typeof r&&r;if(!t){var n=function(e,t){function i(e,t){return t.toLowerCase()}var n=T(e).data(),s={},a=new RegExp("^"+t.toLowerCase()+"([A-Z])");for(var o in t=new RegExp("^"+t.toLowerCase()),n)t.test(o)&&(s[o.replace(a,i)]=n[o]);return s}(this,"date"),s=function(e){var i={};if(E[e]||(e=e.split("-")[0],E[e])){var n=E[e];return T.each(d,function(e,t){t in n&&(i[t]=n[t])}),i}}(T.extend({},u,n,i).language),a=T.extend({},u,s,n,i);if(e.is(".input-daterange")||a.inputs){var o={inputs:a.inputs||e.find("input").toArray()};e.data("datepicker",t=new c(this,T.extend(a,o)))}else e.data("datepicker",t=new b(this,a))}return("string"!=typeof r||"function"!=typeof t[r]||(l=t[r].apply(t,h))===k)&&void 0}),l!==k?l:this};var u=T.fn.datepicker.defaults={autoclose:!1,beforeShowDay:T.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},d=T.fn.datepicker.locale_opts=["format","rtl","weekStart"];T.fn.datepicker.Constructor=b;var E=T.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},N={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(e){return e%4==0&&e%100!=0||e%400==0},getDaysInMonth:function(e,t){return[31,N.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(e){var t=e.replace(this.validParts,"\0").split("\0"),i=e.match(this.validParts);if(!t||!t.length||!i||0===i.length)throw new Error("Invalid date format.");return{separators:t,parts:i}},parseDate:function(e,t,i){function n(){var e=this.slice(0,l[o].length);return e===l[o].slice(0,e.length)}if(!e)return k;if(e instanceof Date)return e;"string"==typeof t&&(t=N.parseFormat(t));var s,a,o,r=/([\-+]\d+)([dmwy])/,l=e.match(/([\-+]\d+)([dmwy])/g);if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(e)){for(e=new Date,o=0;o<l.length;o++)switch(s=r.exec(l[o]),a=parseInt(s[1]),s[2]){case"d":e.setUTCDate(e.getUTCDate()+a);break;case"m":e=b.prototype.moveMonth.call(b.prototype,e,a);break;case"w":e.setUTCDate(e.getUTCDate()+7*a);break;case"y":e=b.prototype.moveYear.call(b.prototype,e,a)}return D(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),0,0,0)}l=e&&e.match(this.nonpunctuation)||[],e=new Date;var h,c,u={},d=["yyyy","yy","M","MM","m","mm","d","dd"],p={yyyy:function(e,t){return e.setUTCFullYear(t)},yy:function(e,t){return e.setUTCFullYear(2e3+t)},m:function(e,t){if(isNaN(e))return e;for(--t;t<0;)t+=12;for(t%=12,e.setUTCMonth(t);e.getUTCMonth()!==t;)e.setUTCDate(e.getUTCDate()-1);return e},d:function(e,t){return e.setUTCDate(t)}};p.M=p.MM=p.mm=p.m,p.dd=p.d,e=D(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0);var f=t.parts.slice();if(l.length!==f.length&&(f=T(f).filter(function(e,t){return-1!==T.inArray(t,d)}).toArray()),l.length===f.length){var g,m,v;for(o=0,g=f.length;o<g;o++){if(h=parseInt(l[o],10),s=f[o],isNaN(h))switch(s){case"MM":c=T(E[i].months).filter(n),h=T.inArray(c[0],E[i].months)+1;break;case"M":c=T(E[i].monthsShort).filter(n),h=T.inArray(c[0],E[i].monthsShort)+1}u[s]=h}for(o=0;o<d.length;o++)(v=d[o])in u&&!isNaN(u[v])&&(m=new Date(e),p[v](m,u[v]),isNaN(m)||(e=m))}return e},formatDate:function(e,t,i){if(!e)return"";"string"==typeof t&&(t=N.parseFormat(t));var n={d:e.getUTCDate(),D:E[i].daysShort[e.getUTCDay()],DD:E[i].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:E[i].monthsShort[e.getUTCMonth()],MM:E[i].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};n.dd=(n.d<10?"0":"")+n.d,n.mm=(n.m<10?"0":"")+n.m,e=[];for(var s=T.extend([],t.separators),a=0,o=t.parts.length;a<=o;a++)s.length&&e.push(s.shift()),e.push(n[t.parts[a]]);return e.join("")},headTemplate:'<thead><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};N.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+N.headTemplate+"<tbody></tbody>"+N.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+N.headTemplate+N.contTemplate+N.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+N.headTemplate+N.contTemplate+N.footTemplate+"</table></div></div>",T.fn.datepicker.DPGlobal=N,T.fn.datepicker.noConflict=function(){return T.fn.datepicker=n,this},T(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var t=T(this);t.data("datepicker")||(e.preventDefault(),t.datepicker("show"))}),T(function(){T('[data-provide="datepicker-inline"]').datepicker()})}(window.jQuery),function(a,n){"use strict";function o(e,t){this.widget="",this.$element=a(e),this.defaultTime=t.defaultTime,this.disableFocus=t.disableFocus,this.disableMousewheel=t.disableMousewheel,this.isOpen=t.isOpen,this.minuteStep=t.minuteStep,this.modalBackdrop=t.modalBackdrop,this.secondStep=t.secondStep,this.showInputs=t.showInputs,this.showMeridian=t.showMeridian,this.showSeconds=t.showSeconds,this.template=t.template,this.appendWidgetTo=t.appendWidgetTo,this.showWidgetOnAddonClick=t.showWidgetOnAddonClick,this._init()}o.prototype={constructor:o,_init:function(){var e=this;this.showWidgetOnAddonClick&&(this.$element.parent().hasClass("input-group")||this.$element.parent().hasClass("input-group"))?(this.$element.parent(".input-group").find(".input-group-addon, .input-group-btn").on({"click.timepicker":a.proxy(this.showWidget,this)}),this.$element.on({"focus.timepicker":a.proxy(this.highlightUnit,this),"click.timepicker":a.proxy(this.highlightUnit,this),"keydown.timepicker":a.proxy(this.elementKeydown,this),"blur.timepicker":a.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":a.proxy(this.mousewheel,this)})):this.template?this.$element.on({"focus.timepicker":a.proxy(this.showWidget,this),"click.timepicker":a.proxy(this.showWidget,this),"blur.timepicker":a.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":a.proxy(this.mousewheel,this)}):this.$element.on({"focus.timepicker":a.proxy(this.highlightUnit,this),"click.timepicker":a.proxy(this.highlightUnit,this),"keydown.timepicker":a.proxy(this.elementKeydown,this),"blur.timepicker":a.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":a.proxy(this.mousewheel,this)}),this.$widget=!1!==this.template&&a(this.getTemplate()).prependTo(this.$element.parents(this.appendWidgetTo)).on("click",a.proxy(this.widgetClick,this)),this.showInputs&&!1!==this.$widget&&this.$widget.find("input").each(function(){a(this).on({"click.timepicker":function(){a(this).select()},"keydown.timepicker":a.proxy(e.widgetKeydown,e),"keyup.timepicker":a.proxy(e.widgetKeyup,e)})}),this.setDefaultTime(this.defaultTime)},blurElement:function(){this.highlightedUnit=null,this.updateFromElementVal()},clear:function(){this.hour="",this.minute="",this.second="",this.meridian="",this.$element.val("")},decrementHour:function(){if(this.showMeridian)if(1===this.hour)this.hour=12;else{if(12===this.hour)return this.hour--,this.toggleMeridian();if(0===this.hour)return this.hour=11,this.toggleMeridian();this.hour--}else this.hour<=0?this.hour=23:this.hour--},decrementMinute:function(e){var t;(t=e?this.minute-e:this.minute-this.minuteStep)<0?(this.decrementHour(),this.minute=60+t):this.minute=t},decrementSecond:function(){var e=this.second-this.secondStep;e<0?(this.decrementMinute(!0),this.second=60+e):this.second=e},elementKeydown:function(e){switch(e.keyCode){case 9:case 27:this.updateFromElementVal();break;case 37:e.preventDefault(),this.highlightPrevUnit();break;case 38:switch(e.preventDefault(),this.highlightedUnit){case"hour":this.incrementHour(),this.highlightHour();break;case"minute":this.incrementMinute(),this.highlightMinute();break;case"second":this.incrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian()}this.update();break;case 39:e.preventDefault(),this.highlightNextUnit();break;case 40:switch(e.preventDefault(),this.highlightedUnit){case"hour":this.decrementHour(),this.highlightHour();break;case"minute":this.decrementMinute(),this.highlightMinute();break;case"second":this.decrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian()}this.update()}},getCursorPosition:function(){var e=this.$element.get(0);if("selectionStart"in e)return e.selectionStart;if(n.selection){e.focus();var t=n.selection.createRange(),i=n.selection.createRange().text.length;return t.moveStart("character",-e.value.length),t.text.length-i}},getTemplate:function(){var e,t,i,n,s,a;switch(s=this.showInputs?(t='<input type="text" class="form-control bootstrap-timepicker-hour" maxlength="2"/>',i='<input type="text" class="form-control bootstrap-timepicker-minute" maxlength="2"/>',n='<input type="text" class="form-control bootstrap-timepicker-second" maxlength="2"/>','<input type="text" class="form-control bootstrap-timepicker-meridian" maxlength="2"/>'):(t='<span class="bootstrap-timepicker-hour"></span>',i='<span class="bootstrap-timepicker-minute"></span>',n='<span class="bootstrap-timepicker-second"></span>','<span class="bootstrap-timepicker-meridian"></span>'),a='<table><tr><td><a href="#" data-action="incrementHour"><i class="fa fa-chevron-up"></i></a></td><td class="separator">&nbsp;</td><td><a href="#" data-action="incrementMinute"><i class="fa fa-chevron-up"></i></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="incrementSecond"><i class="fa fa-chevron-up"></i></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td class="meridian-column"><a href="#" data-action="toggleMeridian"><i class="fa fa-chevron-up"></i></a></td>':"")+"</tr><tr><td>"+t+'</td> <td class="separator">:</td><td>'+i+"</td> "+(this.showSeconds?'<td class="separator">:</td><td>'+n+"</td>":"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td>'+s+"</td>":"")+'</tr><tr><td><a href="#" data-action="decrementHour"><i class="fa fa-chevron-down"></i></a></td><td class="separator"></td><td><a href="#" data-action="decrementMinute"><i class="fa fa-chevron-down"></i></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="decrementSecond"><i class="fa fa-chevron-down"></i></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td><a href="#" data-action="toggleMeridian"><i class="fa fa-chevron-down"></i></a></td>':"")+"</tr></table>",this.template){case"modal":e='<div class="modal fade in" data-backdrop="'+(this.modalBackdrop?"true":"false")+'"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><a href="#" class="close" data-dismiss="modal">×</a><h3>Pick Time</h3></div><div class="modal-content"><div class="bootstrap-timepicker-widget">'+a+'</div></div><div class="modal-footer"><a href="#" class="btn btn-sm btn-primary" data-dismiss="modal">OK</a></div></div></div></div>';break;case"dropdown":e='<div class="bootstrap-timepicker-widget dropdown-menu">'+a+"</div>"}return e},getTime:function(){return this.hour||this.minute||this.second?this.hour+":"+(1===this.minute.toString().length?"0"+this.minute:this.minute)+(this.showSeconds?":"+(1===this.second.toString().length?"0"+this.second:this.second):"")+(this.showMeridian?" "+this.meridian:""):""},hideWidget:function(){!1!==this.isOpen&&(this.$element.trigger({type:"hide.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),"modal"===this.template&&this.$widget.modal?this.$widget.modal("hide"):this.$widget.removeClass("open"),a(n).off("mousedown.timepicker, touchend.timepicker"),this.isOpen=!1)},highlightUnit:function(){this.position=this.getCursorPosition(),0<=this.position&&this.position<=2?this.highlightHour():3<=this.position&&this.position<=5?this.highlightMinute():6<=this.position&&this.position<=8?this.showSeconds?this.highlightSecond():this.highlightMeridian():9<=this.position&&this.position<=11&&this.highlightMeridian()},highlightNextUnit:function(){switch(this.highlightedUnit){case"hour":this.highlightMinute();break;case"minute":this.showSeconds?this.highlightSecond():this.showMeridian?this.highlightMeridian():this.highlightHour();break;case"second":this.showMeridian?this.highlightMeridian():this.highlightHour();break;case"meridian":this.highlightHour()}},highlightPrevUnit:function(){switch(this.highlightedUnit){case"hour":this.showMeridian?this.highlightMeridian():this.showSeconds?this.highlightSecond():this.highlightMinute();break;case"minute":this.highlightHour();break;case"second":this.highlightMinute();break;case"meridian":this.showSeconds?this.highlightSecond():this.highlightMinute()}},highlightHour:function(){var e=this.$element.get(0),t=this;this.highlightedUnit="hour",e.setSelectionRange&&setTimeout(function(){t.hour<10?e.setSelectionRange(0,1):e.setSelectionRange(0,2)},0)},highlightMinute:function(){var e=this.$element.get(0),t=this;this.highlightedUnit="minute",e.setSelectionRange&&setTimeout(function(){t.hour<10?e.setSelectionRange(2,4):e.setSelectionRange(3,5)},0)},highlightSecond:function(){var e=this.$element.get(0),t=this;this.highlightedUnit="second",e.setSelectionRange&&setTimeout(function(){t.hour<10?e.setSelectionRange(5,7):e.setSelectionRange(6,8)},0)},highlightMeridian:function(){var e=this.$element.get(0),t=this;this.highlightedUnit="meridian",e.setSelectionRange&&(this.showSeconds?setTimeout(function(){t.hour<10?e.setSelectionRange(8,10):e.setSelectionRange(9,11)},0):setTimeout(function(){t.hour<10?e.setSelectionRange(5,7):e.setSelectionRange(6,8)},0))},incrementHour:function(){if(this.showMeridian){if(11===this.hour)return this.hour++,this.toggleMeridian();12===this.hour&&(this.hour=0)}return 23===this.hour?void(this.hour=0):void this.hour++},incrementMinute:function(e){var t;59<(t=e?this.minute+e:this.minute+this.minuteStep-this.minute%this.minuteStep)?(this.incrementHour(),this.minute=t-60):this.minute=t},incrementSecond:function(){var e=this.second+this.secondStep-this.second%this.secondStep;59<e?(this.incrementMinute(!0),this.second=e-60):this.second=e},mousewheel:function(e){if(!this.disableMousewheel){e.preventDefault(),e.stopPropagation();var t=e.originalEvent.wheelDelta||-e.originalEvent.detail,i=null;switch("mousewheel"===e.type?i=-1*e.originalEvent.wheelDelta:"DOMMouseScroll"===e.type&&(i=40*e.originalEvent.detail),i&&(e.preventDefault(),a(this).scrollTop(i+a(this).scrollTop())),this.highlightedUnit){case"minute":0<t?this.incrementMinute():this.decrementMinute(),this.highlightMinute();break;case"second":0<t?this.incrementSecond():this.decrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian();break;default:0<t?this.incrementHour():this.decrementHour(),this.highlightHour()}return!1}},remove:function(){a("document").off(".timepicker"),this.$widget&&this.$widget.remove(),delete this.$element.data().timepicker},setDefaultTime:function(e){if(this.$element.val())this.updateFromElementVal();else if("current"===e){var t=new Date,i=t.getHours(),n=t.getMinutes(),s=t.getSeconds(),a="AM";0!==s&&(60===(s=Math.ceil(t.getSeconds()/this.secondStep)*this.secondStep)&&(n+=1,s=0)),0!==n&&(60===(n=Math.ceil(t.getMinutes()/this.minuteStep)*this.minuteStep)&&(i+=1,n=0)),this.showMeridian&&(0===i?i=12:a=12<=i?(12<i&&(i-=12),"PM"):"AM"),this.hour=i,this.minute=n,this.second=s,this.meridian=a,this.update()}else!1===e?(this.hour=0,this.minute=0,this.second=0,this.meridian="AM"):this.setTime(e)},setTime:function(e,t){var i,n,s,a,o;e?("object"==typeof e&&e.getMonth?(n=e.getHours(),s=e.getMinutes(),a=e.getSeconds(),this.showMeridian&&(o="AM",12<n&&(o="PM",n%=12),12===n&&(o="PM"))):(o=null!==e.match(/p/i)?"PM":"AM",n=(i=(e=e.replace(/[^0-9\:]/g,"")).split(":"))[0]?i[0].toString():i.toString(),s=i[1]?i[1].toString():"",a=i[2]?i[2].toString():"",4<n.length&&(a=n.substr(4,2)),2<n.length&&(s=n.substr(2,2),n=n.substr(0,2)),2<s.length&&(a=s.substr(2,2),s=s.substr(0,2)),2<a.length&&(a=a.substr(2,2)),n=parseInt(n,10),s=parseInt(s,10),a=parseInt(a,10),isNaN(n)&&(n=0),isNaN(s)&&(s=0),isNaN(a)&&(a=0),this.showMeridian?n<1?n=1:12<n&&(n=12):(24<=n?n=23:n<0&&(n=0),n<13&&"PM"===o&&(n+=12)),s<0?s=0:60<=s&&(s=59),this.showSeconds&&(isNaN(a)?a=0:a<0?a=0:60<=a&&(a=59))),this.hour=n,this.minute=s,this.second=a,this.meridian=o,this.update(t)):this.clear()},showWidget:function(){if(!this.isOpen&&!this.$element.is(":disabled")){var t=this;a(n).on("mousedown.timepicker, touchend.timepicker",function(e){0===a(e.target).closest(".bootstrap-timepicker-widget").length&&t.hideWidget()}),this.$element.trigger({type:"show.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),this.disableFocus&&this.$element.blur(),this.hour||(this.defaultTime?this.setDefaultTime(this.defaultTime):this.setTime("0:0:0")),"modal"===this.template&&this.$widget.modal?this.$widget.modal("show").on("hidden",a.proxy(this.hideWidget,this)):!1===this.isOpen&&this.$widget.addClass("open"),this.isOpen=!0}},toggleMeridian:function(){this.meridian="AM"===this.meridian?"PM":"AM"},update:function(e){this.updateElement(),e||this.updateWidget(),this.$element.trigger({type:"changeTime.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}})},updateElement:function(){this.$element.val(this.getTime()).change()},updateFromElementVal:function(){this.setTime(this.$element.val())},updateWidget:function(){if(!1!==this.$widget){var e=this.hour,t=1===this.minute.toString().length?"0"+this.minute:this.minute,i=1===this.second.toString().length?"0"+this.second:this.second;this.showInputs?(this.$widget.find("input.bootstrap-timepicker-hour").val(e),this.$widget.find("input.bootstrap-timepicker-minute").val(t),this.showSeconds&&this.$widget.find("input.bootstrap-timepicker-second").val(i),this.showMeridian&&this.$widget.find("input.bootstrap-timepicker-meridian").val(this.meridian)):(this.$widget.find("span.bootstrap-timepicker-hour").text(e),this.$widget.find("span.bootstrap-timepicker-minute").text(t),this.showSeconds&&this.$widget.find("span.bootstrap-timepicker-second").text(i),this.showMeridian&&this.$widget.find("span.bootstrap-timepicker-meridian").text(this.meridian))}},updateFromWidgetInputs:function(){if(!1!==this.$widget){var e=this.$widget.find("input.bootstrap-timepicker-hour").val()+":"+this.$widget.find("input.bootstrap-timepicker-minute").val()+(this.showSeconds?":"+this.$widget.find("input.bootstrap-timepicker-second").val():"")+(this.showMeridian?this.$widget.find("input.bootstrap-timepicker-meridian").val():"");this.setTime(e,!0)}},widgetClick:function(e){e.stopPropagation(),e.preventDefault();var t=a(e.target),i=t.closest("a").data("action");i&&this[i](),this.update(),t.is("input")&&t.get(0).setSelectionRange(0,2)},widgetKeydown:function(e){var t=a(e.target),i=t.attr("class").replace("bootstrap-timepicker-","");switch(e.keyCode){case 9:if(this.showMeridian&&"meridian"===i||this.showSeconds&&"second"===i||!this.showMeridian&&!this.showSeconds&&"minute"===i)return this.hideWidget();break;case 27:this.hideWidget();break;case 38:switch(e.preventDefault(),i){case"hour":this.incrementHour();break;case"minute":this.incrementMinute();break;case"second":this.incrementSecond();break;case"meridian":this.toggleMeridian()}this.setTime(this.getTime()),t.get(0).setSelectionRange(0,2);break;case 40:switch(e.preventDefault(),i){case"hour":this.decrementHour();break;case"minute":this.decrementMinute();break;case"second":this.decrementSecond();break;case"meridian":this.toggleMeridian()}this.setTime(this.getTime()),t.get(0).setSelectionRange(0,2)}},widgetKeyup:function(e){(65===e.keyCode||77===e.keyCode||80===e.keyCode||46===e.keyCode||8===e.keyCode||46<=e.keyCode&&e.keyCode<=57)&&this.updateFromWidgetInputs()}},a.fn.timepicker=function(n){var s=Array.apply(null,arguments);return s.shift(),this.each(function(){var e=a(this),t=e.data("timepicker"),i="object"==typeof n&&n;t||e.data("timepicker",t=new o(this,a.extend({},a.fn.timepicker.defaults,i,a(this).data()))),"string"==typeof n&&t[n].apply(t,s)})},a.fn.timepicker.defaults={defaultTime:"current",disableFocus:!1,disableMousewheel:!1,isOpen:!1,minuteStep:15,modalBackdrop:!1,secondStep:15,showSeconds:!1,showInputs:!0,showMeridian:!0,template:"dropdown",appendWidgetTo:".bootstrap-timepicker",showWidgetOnAddonClick:!0},a.fn.timepicker.Constructor=o}(jQuery,(window,document)),function(){var l,e,n,o,s={}.hasOwnProperty;function t(){return t.__super__.constructor.apply(this,arguments)}function i(e,t){this.form_field=e,this.options=null!=t?t:{},i.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers())}function a(){this.options_index=0,this.parsed=[]}a.prototype.add_node=function(e){return"OPTGROUP"===e.nodeName.toUpperCase()?this.add_group(e):this.add_option(e)},a.prototype.add_group=function(e){var t,i,n,s,a,o;for(t=this.parsed.length,this.parsed.push({array_index:t,group:!0,label:this.escapeExpression(e.label),children:0,disabled:e.disabled}),o=[],n=0,s=(a=e.childNodes).length;n<s;n++)i=a[n],o.push(this.add_option(i,t,e.disabled));return o},a.prototype.add_option=function(e,t,i){return"OPTION"===e.nodeName.toUpperCase()?(""!==e.text?(null!=t&&(this.parsed[t].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:e.value,text:e.text,html:e.innerHTML,selected:e.selected,disabled:!0===i?i:e.disabled,group_array_index:t,classes:e.className,style:e.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},a.prototype.escapeExpression=function(e){var t,i;return null==e||!1===e?"":/[\&\<\>\"\'\`]/.test(e)?(t={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/&(?!\w+;)|[\<\>\"\'\`]/g,e.replace(i,function(e){return t[e]||"&amp;"})):e},(o=a).select_to_array=function(e){var t,i,n,s,a;for(i=new o,n=0,s=(a=e.childNodes).length;n<s;n++)t=a[n],i.add_node(t);return i.parsed},i.prototype.set_default_values=function(){var t=this;return this.click_test_action=function(e){return t.test_active_click(e)},this.activate_action=function(e){return t.activate_field(e)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text&&this.options.allow_single_deselect,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null==this.options.enable_split_word_search||this.options.enable_split_word_search,this.group_search=null==this.options.group_search||this.options.group_search,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null==this.options.single_backstroke_delete||this.options.single_backstroke_delete,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null==this.options.display_selected_options||this.options.display_selected_options,this.display_disabled_options=null==this.options.display_disabled_options||this.options.display_disabled_options},i.prototype.set_default_text=function(){return this.default_text=this.form_field.getAttribute("data-placeholder")?this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.options.placeholder_text_multiple||this.options.placeholder_text||i.default_multiple_text:this.options.placeholder_text_single||this.options.placeholder_text||i.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||i.default_no_result_text},i.prototype.mouse_enter=function(){return this.mouse_on_container=!0},i.prototype.mouse_leave=function(){return this.mouse_on_container=!1},i.prototype.input_focus=function(){var e=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return e.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},i.prototype.input_blur=function(){var e=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return e.blur_test()},100))},i.prototype.results_option_build=function(e){var t,i,n,s,a;for(t="",n=0,s=(a=this.results_data).length;n<s;n++)t+=(i=a[n]).group?this.result_add_group(i):this.result_add_option(i),(null!=e?e.first:void 0)&&(i.selected&&this.is_multiple?this.choice_build(i):i.selected&&!this.is_multiple&&this.single_set_selected_text(i.text));return t},i.prototype.result_add_option=function(e){var t,i;return e.search_match&&this.include_option_in_results(e)?(t=[],e.disabled||e.selected&&this.is_multiple||t.push("active-result"),!e.disabled||e.selected&&this.is_multiple||t.push("disabled-result"),e.selected&&t.push("result-selected"),null!=e.group_array_index&&t.push("group-option"),""!==e.classes&&t.push(e.classes),(i=document.createElement("li")).className=t.join(" "),i.style.cssText=e.style,i.setAttribute("data-option-array-index",e.array_index),i.innerHTML=e.search_text,this.outerHTML(i)):""},i.prototype.result_add_group=function(e){var t;return(e.search_match||e.group_match)&&0<e.active_options?((t=document.createElement("li")).className="group-result",t.innerHTML=e.search_text,this.outerHTML(t)):""},i.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing?this.winnow_results():void 0},i.prototype.reset_single_select_options=function(){var e,t,i,n,s;for(s=[],t=0,i=(n=this.results_data).length;t<i;t++)(e=n[t]).selected?s.push(e.selected=!1):s.push(void 0);return s},i.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},i.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},i.prototype.winnow_results=function(){var e,t,i,n,s,a,o,r,l,h,c,u,d;for(this.no_results_clear(),s=0,e=(o=this.get_search_text()).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),n=this.search_contains?"":"^",i=new RegExp(n+e,"i"),h=new RegExp(e,"i"),c=0,u=(d=this.results_data).length;c<u;c++)(t=d[c]).search_match=!1,a=null,this.include_option_in_results(t)&&(t.group&&(t.group_match=!1,t.active_options=0),null!=t.group_array_index&&this.results_data[t.group_array_index]&&(0===(a=this.results_data[t.group_array_index]).active_options&&a.search_match&&(s+=1),a.active_options+=1),t.group&&!this.group_search||(t.search_text=t.group?t.label:t.html,t.search_match=this.search_string_match(t.search_text,i),t.search_match&&!t.group&&(s+=1),t.search_match?(o.length&&(r=t.search_text.search(h),l=t.search_text.substr(0,r+o.length)+"</em>"+t.search_text.substr(r+o.length),t.search_text=l.substr(0,r)+"<em>"+l.substr(r)),null!=a&&(a.group_match=!0)):null!=t.group_array_index&&this.results_data[t.group_array_index].search_match&&(t.search_match=!0)));return this.result_clear_highlight(),s<1&&o.length?(this.update_results_content(""),this.no_results(o)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},i.prototype.search_string_match=function(e,t){var i,n,s,a;if(t.test(e))return!0;if(this.enable_split_word_search&&(0<=e.indexOf(" ")||0===e.indexOf("["))&&(n=e.replace(/\[|\]/g,"").split(" ")).length)for(s=0,a=n.length;s<a;s++)if(i=n[s],t.test(i))return!0},i.prototype.choices_count=function(){var e,t,i;if(null!=this.selected_option_count)return this.selected_option_count;for(e=this.selected_option_count=0,t=(i=this.form_field.options).length;e<t;e++)i[e].selected&&(this.selected_option_count+=1);return this.selected_option_count},i.prototype.choices_click=function(e){return e.preventDefault(),this.results_showing||this.is_disabled?void 0:this.results_show()},i.prototype.keyup_checker=function(e){var t,i;switch(t=null!=(i=e.which)?i:e.keyCode,this.search_field_scale(),t){case 8:if(this.is_multiple&&this.backstroke_length<1&&0<this.choices_count())return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(e.preventDefault(),this.results_showing)return this.result_select(e);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},i.prototype.clipboard_event_checker=function(){var e=this;return setTimeout(function(){return e.results_search()},50)},i.prototype.container_width=function(){return null!=this.options.width?this.options.width:this.form_field.offsetWidth+"px"},i.prototype.include_option_in_results=function(e){return!(this.is_multiple&&!this.display_selected_options&&e.selected||!this.display_disabled_options&&e.disabled||e.empty)},i.prototype.search_results_touchstart=function(e){return this.touch_started=!0,this.search_results_mouseover(e)},i.prototype.search_results_touchmove=function(e){return this.touch_started=!1,this.search_results_mouseout(e)},i.prototype.search_results_touchend=function(e){return this.touch_started?this.search_results_mouseup(e):void 0},i.prototype.outerHTML=function(e){var t;return e.outerHTML?e.outerHTML:((t=document.createElement("div")).appendChild(e),t.innerHTML)},i.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?8<=document.documentMode:!(/iP(od|hone)/i.test(window.navigator.userAgent)||/Android/i.test(window.navigator.userAgent)&&/Mobile/i.test(window.navigator.userAgent))},i.default_multiple_text="Select Some Options",i.default_single_text="Select an Option",i.default_no_result_text="No results match",e=i,(l=jQuery).fn.extend({chosen:function(i){return e.browser_is_supported()?this.each(function(){var e,t;t=(e=l(this)).data("chosen"),"destroy"===i&&t?t.destroy():t||e.data("chosen",new n(this,i))}):this}}),function(e,t){function i(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(t,e),t.prototype.setup=function(){return this.form_field_jq=l(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},t.prototype.set_up_html=function(){var e,t;return(e=["chosen-container"]).push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&e.push(this.form_field.className),this.is_rtl&&e.push("chosen-rtl"),t={class:e.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(t.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=l("<div />",t),this.is_multiple?this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>'):this.container.html('<a class="chosen-single chosen-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior(),this.form_field_jq.trigger("chosen:ready",{chosen:this})},t.prototype.register_observers=function(){var t=this;return this.container.bind("mousedown.chosen",function(e){t.container_mousedown(e)}),this.container.bind("mouseup.chosen",function(e){t.container_mouseup(e)}),this.container.bind("mouseenter.chosen",function(e){t.mouse_enter(e)}),this.container.bind("mouseleave.chosen",function(e){t.mouse_leave(e)}),this.search_results.bind("mouseup.chosen",function(e){t.search_results_mouseup(e)}),this.search_results.bind("mouseover.chosen",function(e){t.search_results_mouseover(e)}),this.search_results.bind("mouseout.chosen",function(e){t.search_results_mouseout(e)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(e){t.search_results_mousewheel(e)}),this.search_results.bind("touchstart.chosen",function(e){t.search_results_touchstart(e)}),this.search_results.bind("touchmove.chosen",function(e){t.search_results_touchmove(e)}),this.search_results.bind("touchend.chosen",function(e){t.search_results_touchend(e)}),this.form_field_jq.bind("chosen:updated.chosen",function(e){t.results_update_field(e)}),this.form_field_jq.bind("chosen:activate.chosen",function(e){t.activate_field(e)}),this.form_field_jq.bind("chosen:open.chosen",function(e){t.container_mousedown(e)}),this.form_field_jq.bind("chosen:close.chosen",function(e){t.input_blur(e)}),this.search_field.bind("blur.chosen",function(e){t.input_blur(e)}),this.search_field.bind("keyup.chosen",function(e){t.keyup_checker(e)}),this.search_field.bind("keydown.chosen",function(e){t.keydown_checker(e)}),this.search_field.bind("focus.chosen",function(e){t.input_focus(e)}),this.search_field.bind("cut.chosen",function(e){t.clipboard_event_checker(e)}),this.search_field.bind("paste.chosen",function(e){t.clipboard_event_checker(e)}),this.is_multiple?this.search_choices.bind("click.chosen",function(e){t.choices_click(e)}):this.container.bind("click.chosen",function(e){e.preventDefault()})},t.prototype.destroy=function(){return l(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},t.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},t.prototype.container_mousedown=function(e){return this.is_disabled||(e&&"mousedown"===e.type&&!this.results_showing&&e.preventDefault(),null!=e&&l(e.target).hasClass("search-choice-close"))?void 0:(this.active_field?this.is_multiple||!e||l(e.target)[0]!==this.selected_item[0]&&!l(e.target).parents("a.chosen-single").length||(e.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),l(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},t.prototype.container_mouseup=function(e){return"ABBR"!==e.target.nodeName||this.is_disabled?void 0:this.results_reset(e)},t.prototype.search_results_mousewheel=function(e){var t;return e.originalEvent&&(t=-e.originalEvent.wheelDelta||e.originalEvent.detail),null!=t?(e.preventDefault(),"DOMMouseScroll"===e.type&&(t*=40),this.search_results.scrollTop(t+this.search_results.scrollTop())):void 0},t.prototype.blur_test=function(){return!this.active_field&&this.container.hasClass("chosen-container-active")?this.close_field():void 0},t.prototype.close_field=function(){return l(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},t.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},t.prototype.test_active_click=function(e){var t;return(t=l(e.target).closest(".chosen-container")).length&&this.container[0]===t[0]?this.active_field=!0:this.close_field()},t.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=o.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},t.prototype.result_do_highlight=function(e){var t,i,n,s;if(e.length){if(this.result_clear_highlight(),this.result_highlight=e,this.result_highlight.addClass("highlighted"),(n=parseInt(this.search_results.css("maxHeight"),10))+(s=this.search_results.scrollTop())<=(t=(i=this.result_highlight.position().top+this.search_results.scrollTop())+this.result_highlight.outerHeight()))return this.search_results.scrollTop(0<t-n?t-n:0);if(i<s)return this.search_results.scrollTop(i)}},t.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},t.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},t.prototype.update_results_content=function(e){return this.search_results.html(e)},t.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},t.prototype.set_tab_index=function(){var e;return this.form_field.tabIndex?(e=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=e):void 0},t.prototype.set_label_behavior=function(){var t=this;return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=l("label[for='"+this.form_field.id+"']")),0<this.form_field_label.length?this.form_field_label.bind("click.chosen",function(e){return t.is_multiple?t.container_mousedown(e):t.activate_field()}):void 0},t.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},t.prototype.search_results_mouseup=function(e){var t;return(t=l(e.target).hasClass("active-result")?l(e.target):l(e.target).parents(".active-result").first()).length?(this.result_highlight=t,this.result_select(e),this.search_field.focus()):void 0},t.prototype.search_results_mouseover=function(e){var t;return(t=l(e.target).hasClass("active-result")?l(e.target):l(e.target).parents(".active-result").first())?this.result_do_highlight(t):void 0},t.prototype.search_results_mouseout=function(e){return l(e.target).hasClass("active-result")?this.result_clear_highlight():void 0},t.prototype.choice_build=function(e){var t,i,n=this;return t=l("<li />",{class:"search-choice"}).html("<span>"+e.html+"</span>"),e.disabled?t.addClass("search-choice-disabled"):((i=l("<a />",{class:"search-choice-close","data-option-array-index":e.array_index})).bind("click.chosen",function(e){return n.choice_destroy_link_click(e)}),t.append(i)),this.search_container.before(t)},t.prototype.choice_destroy_link_click=function(e){return e.preventDefault(),e.stopPropagation(),this.is_disabled?void 0:this.choice_destroy(l(e.target))},t.prototype.choice_destroy=function(e){return this.result_deselect(e[0].getAttribute("data-option-array-index"))?(this.show_search_field_default(),this.is_multiple&&0<this.choices_count()&&this.search_field.val().length<1&&this.results_hide(),e.parents("li").first().remove(),this.search_field_scale()):void 0},t.prototype.results_reset=function(){return this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},t.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},t.prototype.result_select=function(e){var t,i;return this.result_highlight?(t=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?t.removeClass("active-result"):this.reset_single_select_options(),(i=this.results_data[t[0].getAttribute("data-option-array-index")]).selected=!0,this.form_field.options[i.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(i):this.single_set_selected_text(i.text),(e.metaKey||e.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),!this.is_multiple&&this.form_field.selectedIndex===this.current_selectedIndex||this.form_field_jq.trigger("change",{selected:this.form_field.options[i.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,this.search_field_scale())):void 0},t.prototype.single_set_selected_text=function(e){return null==e&&(e=this.default_text),e===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").text(e)},t.prototype.result_deselect=function(e){var t;return t=this.results_data[e],!this.form_field.options[t.options_index].disabled&&(t.selected=!1,this.form_field.options[t.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[t.options_index].value}),this.search_field_scale(),!0)},t.prototype.single_deselect_control_build=function(){return this.allow_single_deselect?(this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")):void 0},t.prototype.get_search_text=function(){return this.search_field.val()===this.default_text?"":l("<div/>").text(l.trim(this.search_field.val())).html()},t.prototype.winnow_results_set_highlight=function(){var e,t;return null!=(e=(t=this.is_multiple?[]:this.search_results.find(".result-selected.active-result")).length?t.first():this.search_results.find(".active-result").first())?this.result_do_highlight(e):void 0},t.prototype.no_results=function(e){var t;return(t=l('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>')).find("span").first().html(e),this.search_results.append(t),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},t.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},t.prototype.keydown_arrow=function(){var e;return this.results_showing&&this.result_highlight?(e=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(e):void 0:this.results_show()},t.prototype.keyup_arrow=function(){var e;return this.results_showing||this.is_multiple?this.result_highlight?(e=this.result_highlight.prevAll("li.active-result")).length?this.result_do_highlight(e.first()):(0<this.choices_count()&&this.results_hide(),this.result_clear_highlight()):void 0:this.results_show()},t.prototype.keydown_backstroke=function(){var e;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(e=this.search_container.siblings("li.search-choice").last()).length&&!e.hasClass("search-choice-disabled")?(this.pending_backstroke=e,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0},t.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},t.prototype.keydown_checker=function(e){var t,i;switch(t=null!=(i=e.which)?i:e.keyCode,this.search_field_scale(),8!==t&&this.pending_backstroke&&this.clear_backstroke(),t){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(e),this.mouse_on_container=!1;break;case 13:e.preventDefault();break;case 38:e.preventDefault(),this.keyup_arrow();break;case 40:e.preventDefault(),this.keydown_arrow()}},t.prototype.search_field_scale=function(){var e,t,i,n,s,a,o,r;if(this.is_multiple){for(n="position:absolute; left: -1000px; top: -1000px; display:none;",o=a=0,r=(s=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"]).length;o<r;o++)n+=(i=s[o])+":"+this.search_field.css(i)+";";return(e=l("<div />",{style:n})).text(this.search_field.val()),l("body").append(e),a=e.width()+25,e.remove(),(t=this.container.outerWidth())-10<a&&(a=t-10),this.search_field.css({width:a+"px"})}},n=t}.call(this);var wysihtml5={version:"0.3.0",commands:{},dom:{},quirks:{},toolbar:{},lang:{},selection:{},views:{},INVISIBLE_SPACE:"\ufeff",EMPTY_FUNCTION:function(){},ELEMENT_NODE:1,TEXT_NODE:3,BACKSPACE_KEY:8,ENTER_KEY:13,ESCAPE_KEY:27,SPACE_KEY:32,DELETE_KEY:46};window.rangy=function(){function n(e,t){var i=typeof e[t];return i==c||!(i!=h||!e[t])||"unknown"==i}function s(e,t){return!(typeof e[t]!=h||!e[t])}function e(e,t){return typeof e[t]!=i}function t(n){return function(e,t){for(var i=t.length;i--;)if(!n(e,t[i]))return!1;return!0}}function a(e){return e&&g(e,f)&&v(e,p)}function o(e){window.alert("Rangy not supported in your browser. Reason: "+e),b.initialized=!0,b.supported=!1}function r(){if(!b.initialized){var e,t=!1,i=!1;for(n(document,"createRange")&&(e=document.createRange(),g(e,d)&&v(e,u)&&(t=!0),e.detach()),(e=s(document,"body")?document.body:document.getElementsByTagName("body")[0])&&n(e,"createTextRange")&&(a(e=e.createTextRange())&&(i=!0)),t||i||o("Neither Range nor TextRange are implemented"),b.initialized=!0,b.features={implementsDomRange:t,implementsTextRange:i},i=0,e=(t=w.concat(y)).length;i<e;++i)try{t[i](b)}catch(e){s(window,"console")&&n(window.console,"log")&&window.console.log("Init listener threw an exception. Continuing.",e)}}}function l(e){this.name=e,this.supported=this.initialized=!1}var h="object",c="function",i="undefined",u="startContainer startOffset endContainer endOffset collapsed commonAncestorContainer START_TO_START START_TO_END END_TO_START END_TO_END".split(" "),d="setStart setStartBefore setStartAfter setEnd setEndBefore setEndAfter collapse selectNode selectNodeContents compareBoundaryPoints deleteContents extractContents cloneContents insertNode surroundContents cloneRange toString detach".split(" "),p="boundingHeight boundingLeft boundingTop boundingWidth htmlText text".split(" "),f="collapse compareEndPoints duplicate getBookmark moveToBookmark moveToElementText parentElement pasteHTML select setEndPoint getBoundingClientRect".split(" "),g=t(n),m=t(s),v=t(e),b={version:"1.2.2",initialized:!1,supported:!0,util:{isHostMethod:n,isHostObject:s,isHostProperty:e,areHostMethods:g,areHostObjects:m,areHostProperties:v,isTextRange:a},features:{},modules:{},config:{alertOnWarn:!1,preferTextRange:!1}};b.fail=o,b.warn=function(e){e="Rangy warning: "+e,b.config.alertOnWarn?window.alert(e):typeof window.console!=i&&typeof window.console.log!=i&&window.console.log(e)},{}.hasOwnProperty?b.util.extend=function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}:o("hasOwnProperty not supported");var y=[],w=[];b.init=r,b.addInitListener=function(e){b.initialized?e(b):y.push(e)};var C=[];b.addCreateMissingNativeApiListener=function(e){C.push(e)},b.createMissingNativeApi=function(e){e=e||window,r();for(var t=0,i=C.length;t<i;++t)C[t](e)},l.prototype.fail=function(e){throw this.initialized=!0,this.supported=!1,Error("Module '"+this.name+"' failed to load: "+e)},l.prototype.warn=function(e){b.warn("Module "+this.name+": "+e)},l.prototype.createError=function(e){return Error("Error in Rangy "+this.name+" module: "+e)},b.createModule=function(e,t){var i=new l(e);b.modules[e]=i,w.push(function(e){t(e,i),i.initialized=!0,i.supported=!0})};var x=!(b.requireModules=function(e){for(var t,i,n=0,s=e.length;n<s;++n){if(i=e[n],!((t=b.modules[i])&&t instanceof l))throw Error("Module '"+i+"' not found");if(!t.supported)throw Error("Module '"+i+"' not supported")}});m=function(){x||(x=!0,b.initialized||r())};if(typeof window==i)o("No window found");else{if(typeof document!=i)return n(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",m,!1),n(window,"addEventListener")?window.addEventListener("load",m,!1):n(window,"attachEvent")?window.attachEvent("onload",m):o("Window does not have required addEventListener or attachEvent method"),b;o("No document found")}}(),rangy.createModule("DomUtil",function(e,t){function a(e){for(var t=0;e=e.previousSibling;)t++;return t}function o(e,t){var i,n=[];for(i=e;i;i=i.parentNode)n.push(i);for(i=t;i;i=i.parentNode)if(g(n,i))return i;return null}function r(e,t,i){for(i=i?e:e.parentNode;i;){if((e=i.parentNode)===t)return i;i=e}return null}function i(e){return 3==(e=e.nodeType)||4==e||8==e}function n(e,t){var i=t.nextSibling,n=t.parentNode;return i?n.insertBefore(e,i):n.appendChild(e),e}function s(e){if(9==e.nodeType)return e;if(typeof e.ownerDocument!=d)return e.ownerDocument;if(typeof e.document!=d)return e.document;if(e.parentNode)return s(e.parentNode);throw Error("getDocument: no document found for node")}function l(e){return e?i(e)?'"'+e.data+'"':1==e.nodeType?"<"+e.nodeName+(e.id?' id="'+e.id+'"':"")+">["+e.childNodes.length+"]":e.nodeName:"[No node]"}function h(e){this._next=this.root=e}function c(e,t){this.node=e,this.offset=t}function u(e){this.code=this[e],this.codeName=e,this.message="DOMException: "+this.codeName}var d="undefined",p=e.util;p.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||t.fail("document missing a Node creation method"),p.isHostMethod(document,"getElementsByTagName")||t.fail("document missing getElementsByTagName method");var f=document.createElement("div");p.areHostMethods(f,["insertBefore","appendChild","cloneNode"])||t.fail("Incomplete Element implementation"),p.isHostProperty(f,"innerHTML")||t.fail("Element is missing innerHTML property"),f=document.createTextNode("test"),p.areHostMethods(f,["splitText","deleteData","insertData","appendData","cloneNode"])||t.fail("Incomplete Text Node implementation");function g(e,t){for(var i=e.length;i--;)if(e[i]===t)return!0;return!1}h.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var e,t=this._current=this._next;if(this._current){if(!(e=t.firstChild))for(e=null;t!==this.root&&!(e=t.nextSibling);)t=t.parentNode;this._next=e}return this._current},detach:function(){this._current=this._next=this.root=null}},c.prototype={equals:function(e){return this.node===e.node&this.offset==e.offset},inspect:function(){return"[DomPosition("+l(this.node)+":"+this.offset+")]"}},(u.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11}).toString=function(){return this.message},e.dom={arrayContains:g,isHtmlNamespace:function(e){var t;return typeof e.namespaceURI==d||null===(t=e.namespaceURI)||"http://www.w3.org/1999/xhtml"==t},parentElement:function(e){return 1==(e=e.parentNode).nodeType?e:null},getNodeIndex:a,getNodeLength:function(e){var t;return i(e)?e.length:(t=e.childNodes)?t.length:0},getCommonAncestor:o,isAncestorOf:function(e,t,i){for(t=i?t:t.parentNode;t;){if(t===e)return!0;t=t.parentNode}return!1},getClosestAncestorIn:r,isCharacterDataNode:i,insertAfter:n,splitDataNode:function(e,t){var i=e.cloneNode(!1);return i.deleteData(0,t),e.deleteData(t,e.length-t),n(i,e),i},getDocument:s,getWindow:function(e){if(typeof(e=s(e)).defaultView!=d)return e.defaultView;if(typeof e.parentWindow!=d)return e.parentWindow;throw Error("Cannot get a window object for node")},getIframeWindow:function(e){if(typeof e.contentWindow!=d)return e.contentWindow;if(typeof e.contentDocument!=d)return e.contentDocument.defaultView;throw Error("getIframeWindow: No Window object found for iframe element")},getIframeDocument:function(e){if(typeof e.contentDocument!=d)return e.contentDocument;if(typeof e.contentWindow!=d)return e.contentWindow.document;throw Error("getIframeWindow: No Document object found for iframe element")},getBody:function(e){return p.isHostObject(e,"body")?e.body:e.getElementsByTagName("body")[0]},getRootContainer:function(e){for(var t;t=e.parentNode;)e=t;return e},comparePoints:function(e,t,i,n){var s;if(e==i)return t===n?0:t<n?-1:1;if(s=r(i,e,!0))return t<=a(s)?-1:1;if(s=r(e,i,!0))return a(s)<n?-1:1;if((e=e===(t=o(e,i))?t:r(e,t,!0))===(i=i===t?t:r(i,t,!0)))throw Error("comparePoints got to case 4 and childA and childB are the same!");for(t=t.firstChild;t;){if(t===e)return-1;if(t===i)return 1;t=t.nextSibling}throw Error("Should not be here!")},inspectNode:l,fragmentFromNodeChildren:function(e){for(var t,i=s(e).createDocumentFragment();t=e.firstChild;)i.appendChild(t);return i},createIterator:function(e){return new h(e)},DomPosition:c},e.DOMException=u}),rangy.createModule("DomRange",function(a){function o(e,t){return 3!=e.nodeType&&(I.isAncestorOf(e,t.startContainer,!0)||I.isAncestorOf(e,t.endContainer,!0))}function r(e){return I.getDocument(e.startContainer)}function l(e,t,i){if(t=e._listeners[t])for(var n=0,s=t.length;n<s;++n)t[n].call(e,{target:e,args:i})}function h(e){return new A(e.parentNode,I.getNodeIndex(e))}function c(e){return new A(e.parentNode,I.getNodeIndex(e)+1)}function i(e,t,i){var n=11==e.nodeType?e.firstChild:e;return I.isCharacterDataNode(t)?i==t.length?I.insertAfter(e,t):t.parentNode.insertBefore(e,0==i?t:I.splitDataNode(t,i)):i>=t.childNodes.length?t.appendChild(e):t.insertBefore(e,t.childNodes[i]),n}function u(e,t,i){var n,s;for(i=i||{stop:!1};n=e.next();)if(e.isPartiallySelectedSubtree()){if(!1===t(n)){i.stop=!0;break}if(u(n=e.getSubtreeIterator(),t,i),n.detach(!0),i.stop)break}else for(n=I.createIterator(n);s=n.next();)if(!1===t(s))return void(i.stop=!0)}function d(e){for(var t;e.next();)e.isPartiallySelectedSubtree()?(d(t=e.getSubtreeIterator()),t.detach(!0)):e.remove()}function p(e){for(var t,i,n=r(e.range).createDocumentFragment();t=e.next();){if(e.isPartiallySelectedSubtree()?(t=t.cloneNode(!1),i=e.getSubtreeIterator(),t.appendChild(p(i)),i.detach(!0)):e.remove(),10==t.nodeType)throw new F("HIERARCHY_REQUEST_ERR");n.appendChild(t)}return n}function n(e,t,i){var n,s=!(!t||!t.length),a=!!i;s&&(n=RegExp("^("+t.join("|")+")$"));var o=[];return u(new f(e,!1),function(e){s&&!n.test(e.nodeType)||a&&!i(e)||o.push(e)}),o}function e(e){return"["+(void 0===e.getName?"Range":e.getName())+"("+I.inspectNode(e.startContainer)+":"+e.startOffset+", "+I.inspectNode(e.endContainer)+":"+e.endOffset+")]"}function f(e,t){if(this.range=e,this.clonePartiallySelectedTextNodes=t,!e.collapsed){this.sc=e.startContainer,this.so=e.startOffset,this.ec=e.endContainer,this.eo=e.endOffset;var i=e.commonAncestorContainer;this.sc===this.ec&&I.isCharacterDataNode(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==i||I.isCharacterDataNode(this.sc)?I.getClosestAncestorIn(this.sc,i,!0):this.sc.childNodes[this.so],this._last=this.ec!==i||I.isCharacterDataNode(this.ec)?I.getClosestAncestorIn(this.ec,i,!0):this.ec.childNodes[this.eo-1])}}function s(e){this.code=this[e],this.codeName=e,this.message="RangeException: "+this.codeName}function g(e,t,i){this.nodes=n(e,t,i),this._next=this.nodes[0],this._position=0}function t(s){return function(e,t){for(var i,n=t?e:e.parentNode;n;){if(i=n.nodeType,I.arrayContains(s,i))return n;n=n.parentNode}return null}}function m(e,t){if(B(e,t))throw new s("INVALID_NODE_TYPE_ERR")}function v(e){if(!e.startContainer)throw new F("INVALID_STATE_ERR")}function b(e,t){if(!I.arrayContains(t,e.nodeType))throw new s("INVALID_NODE_TYPE_ERR")}function y(e,t){if(t<0||t>(I.isCharacterDataNode(e)?e.length:e.childNodes.length))throw new F("INDEX_SIZE_ERR")}function w(e,t){if(W(e,!0)!==W(t,!0))throw new F("WRONG_DOCUMENT_ERR")}function C(e){if(j(e,!0))throw new F("NO_MODIFICATION_ALLOWED_ERR")}function x(e,t){if(!e)throw new F(t)}function _(e){if(v(e),!((I.arrayContains(O,e.startContainer.nodeType)||W(e.startContainer,!0))&&(I.arrayContains(O,e.endContainer.nodeType)||W(e.endContainer,!0))&&e.startOffset<=(I.isCharacterDataNode(e.startContainer)?e.startContainer.length:e.startContainer.childNodes.length)&&e.endOffset<=(I.isCharacterDataNode(e.endContainer)?e.endContainer.length:e.endContainer.childNodes.length)))throw Error("Range error: Range is no longer valid after DOM mutation ("+e.inspect()+")")}function S(){}function T(e){e.START_TO_START=$,e.START_TO_END=Y,e.END_TO_END=X,e.END_TO_START=G,e.NODE_BEFORE=Q,e.NODE_AFTER=K,e.NODE_BEFORE_AND_AFTER=J,e.NODE_INSIDE=Z}function k(e){T(e),T(e.prototype)}function D(s,a){return function(){_(this);var e=this.startContainer,t=this.startOffset,i=this.commonAncestorContainer,n=new f(this,!0);return e!==i&&(e=(t=c(e=I.getClosestAncestorIn(e,i,!0))).node,t=t.offset),u(n,C),n.reset(),i=s(n),n.detach(),a(this,e,t,e,t),i}}function E(e,r,t){function i(t,i){return function(e){v(this),b(e,P),b(H(e),O),e=(t?h:c)(e),(i?n:s)(this,e.node,e.offset)}}function n(e,t,i){var n=e.endContainer,s=e.endOffset;t===e.startContainer&&i===e.startOffset||(H(t)==H(n)&&1!=I.comparePoints(t,i,n,s)||(n=t,s=i),r(e,t,i,n,s))}function s(e,t,i){var n=e.startContainer,s=e.startOffset;t===e.endContainer&&i===e.endOffset||(H(t)==H(n)&&-1!=I.comparePoints(t,i,n,s)||(n=t,s=i),r(e,n,s,t,i))}e.prototype=new S,a.util.extend(e.prototype,{setStart:function(e,t){v(this),m(e,!0),y(e,t),n(this,e,t)},setEnd:function(e,t){v(this),m(e,!0),y(e,t),s(this,e,t)},setStartBefore:i(!0,!0),setStartAfter:i(!1,!0),setEndBefore:i(!0,!1),setEndAfter:i(!1,!1),collapse:function(e){_(this),e?r(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):r(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(e){v(this),m(e,!0),r(this,e,0,e,I.getNodeLength(e))},selectNode:function(e){v(this),m(e,!1),b(e,P);var t=h(e);e=c(e);r(this,t.node,t.offset,e.node,e.offset)},extractContents:D(p,r),deleteContents:D(d,r),canSurroundContents:function(){_(this),C(this.startContainer),C(this.endContainer);var e=new f(this,!0),t=e._first&&o(e._first,this)||e._last&&o(e._last,this);return e.detach(),!t},detach:function(){t(this)},splitBoundaries:function(){_(this);var e=this.startContainer,t=this.startOffset,i=this.endContainer,n=this.endOffset,s=e===i;I.isCharacterDataNode(i)&&0<n&&n<i.length&&I.splitDataNode(i,n),I.isCharacterDataNode(e)&&0<t&&t<e.length&&(e=I.splitDataNode(e,t),s?(n-=t,i=e):i==e.parentNode&&n>=I.getNodeIndex(e)&&n++,t=0),r(this,e,t,i,n)},normalizeBoundaries:function(){_(this);function e(e){var t=e.previousSibling;if(t&&t.nodeType==e.nodeType){var i=(n=e).length;s=t.length,e.insertData(0,t.data),t.parentNode.removeChild(t),n==a?(o+=s,a=n):a==e.parentNode&&(t=I.getNodeIndex(e),o==t?(a=e,o=i):t<o&&o--)}}var n=this.startContainer,s=this.startOffset,a=this.endContainer,o=this.endOffset,t=function(e){var t=e.nextSibling;t&&t.nodeType==e.nodeType&&(o=(a=e).length,e.appendData(t.data),t.parentNode.removeChild(t))},i=!0;I.isCharacterDataNode(a)?a.length==o&&t(a):(0<o&&(i=a.childNodes[o-1])&&I.isCharacterDataNode(i)&&t(i),i=!this.collapsed),i?I.isCharacterDataNode(n)?0==s&&e(n):s<n.childNodes.length&&(t=n.childNodes[s])&&I.isCharacterDataNode(t)&&e(t):(n=a,s=o),r(this,n,s,a,o)},collapseToPoint:function(e,t){v(this),m(e,!0),y(e,t),e===this.startContainer&&t===this.startOffset&&e===this.endContainer&&t===this.endOffset||r(this,e,t,e,t)}}),k(e)}function N(e){e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset,e.commonAncestorContainer=e.collapsed?e.startContainer:I.getCommonAncestor(e.startContainer,e.endContainer)}function R(e,t,i,n,s){var a=e.startContainer!==t||e.startOffset!==i,o=e.endContainer!==n||e.endOffset!==s;e.startContainer=t,e.startOffset=i,e.endContainer=n,e.endOffset=s,N(e),l(e,"boundarychange",{startMoved:a,endMoved:o})}function M(e){this.startContainer=e,this.startOffset=0,this.endContainer=e,this.endOffset=0,this._listeners={boundarychange:[],detach:[]},N(this)}a.requireModules(["DomUtil"]);var I=a.dom,A=I.DomPosition,F=a.DOMException;f.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var e=this._current=this._next;return e&&(this._next=e!==this._last?e.nextSibling:null,I.isCharacterDataNode(e)&&this.clonePartiallySelectedTextNodes&&(e===this.ec&&(e=e.cloneNode(!0)).deleteData(this.eo,e.length-this.eo),this._current===this.sc&&(e=e.cloneNode(!0)).deleteData(0,this.so))),e},remove:function(){var e,t,i=this._current;!I.isCharacterDataNode(i)||i!==this.sc&&i!==this.ec?i.parentNode&&i.parentNode.removeChild(i):(e=i===this.sc?this.so:0)!=(t=i===this.ec?this.eo:i.length)&&i.deleteData(e,t-e)},isPartiallySelectedSubtree:function(){return o(this._current,this.range)},getSubtreeIterator:function(){var e;if(this.isSingleCharacterDataNode)(e=this.range.cloneRange()).collapse();else{e=new M(r(this.range));var t=this._current,i=t,n=0,s=t,a=I.getNodeLength(t);I.isAncestorOf(t,this.sc,!0)&&(i=this.sc,n=this.so),I.isAncestorOf(t,this.ec,!0)&&(s=this.ec,a=this.eo),R(e,i,n,s,a)}return new f(e,this.clonePartiallySelectedTextNodes)},detach:function(e){e&&this.range.detach(),this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}},(s.prototype={BAD_BOUNDARYPOINTS_ERR:1,INVALID_NODE_TYPE_ERR:2}).toString=function(){return this.message},g.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){return this._current=this._next,this._next=this.nodes[++this._position],this._current},detach:function(){this._current=this._next=this.nodes=null}};var P=[1,3,4,5,7,8,10],O=[2,9,11],L=[1,3,4,5,7,8,10,11],z=[1,3,4,5,7,8],H=I.getRootContainer,W=t([9,11]),j=t([5,6,10,12]),B=t([6,10,12]),U=document.createElement("style"),q=!1;try{U.innerHTML="<b>x</b>",q=3==U.firstChild.nodeType}catch(e){}a.features.htmlParsingConforms=q;var V="startContainer startOffset endContainer endOffset collapsed commonAncestorContainer".split(" "),$=0,Y=1,X=2,G=3,Q=0,K=1,J=2,Z=3;S.prototype={attachListener:function(e,t){this._listeners[e].push(t)},compareBoundaryPoints:function(e,t){_(this),w(this.startContainer,t.startContainer);var i=e==G||e==$?"start":"end",n=e==Y||e==$?"start":"end";return I.comparePoints(this[i+"Container"],this[i+"Offset"],t[n+"Container"],t[n+"Offset"])},insertNode:function(e){if(_(this),b(e,L),C(this.startContainer),I.isAncestorOf(e,this.startContainer,!0))throw new F("HIERARCHY_REQUEST_ERR");this.setStartBefore(i(e,this.startContainer,this.startOffset))},cloneContents:function(){var e,t;return _(this),this.collapsed?r(this).createDocumentFragment():this.startContainer===this.endContainer&&I.isCharacterDataNode(this.startContainer)?((e=this.startContainer.cloneNode(!0)).data=e.data.slice(this.startOffset,this.endOffset),(t=r(this).createDocumentFragment()).appendChild(e),t):(e=function e(t){for(var i,n,s=r(t.range).createDocumentFragment();n=t.next();){if(i=t.isPartiallySelectedSubtree(),n=n.cloneNode(!i),i&&(i=t.getSubtreeIterator(),n.appendChild(e(i)),i.detach(!0)),10==n.nodeType)throw new F("HIERARCHY_REQUEST_ERR");s.appendChild(n)}return s}(t=new f(this,!0)),t.detach(),e)},canSurroundContents:function(){_(this),C(this.startContainer),C(this.endContainer);var e=new f(this,!0),t=e._first&&o(e._first,this)||e._last&&o(e._last,this);return e.detach(),!t},surroundContents:function(e){if(b(e,z),!this.canSurroundContents())throw new s("BAD_BOUNDARYPOINTS_ERR");var t=this.extractContents();if(e.hasChildNodes())for(;e.lastChild;)e.removeChild(e.lastChild);i(e,this.startContainer,this.startOffset),e.appendChild(t),this.selectNode(e)},cloneRange:function(){_(this);for(var e,t=new M(r(this)),i=V.length;i--;)t[e=V[i]]=this[e];return t},toString:function(){if(_(this),(e=this.startContainer)===this.endContainer&&I.isCharacterDataNode(e))return 3==e.nodeType||4==e.nodeType?e.data.slice(this.startOffset,this.endOffset):"";var e,t=[];return u(e=new f(this,!0),function(e){3!=e.nodeType&&4!=e.nodeType||t.push(e.data)}),e.detach(),t.join("")},compareNode:function(e){_(this);var t=e.parentNode,i=I.getNodeIndex(e);if(!t)throw new F("NOT_FOUND_ERR");return e=this.comparePoint(t,i),t=this.comparePoint(t,i+1),e<0?0<t?J:Q:0<t?K:Z},comparePoint:function(e,t){return _(this),x(e,"HIERARCHY_REQUEST_ERR"),w(e,this.startContainer),I.comparePoints(e,t,this.startContainer,this.startOffset)<0?-1:0<I.comparePoints(e,t,this.endContainer,this.endOffset)?1:0},createContextualFragment:q?function(e){var t=this.startContainer,i=I.getDocument(t);if(!t)throw new F("INVALID_STATE_ERR");var n=null;return 1==t.nodeType?n=t:I.isCharacterDataNode(t)&&(n=I.parentElement(t)),(n=null===n||"HTML"==n.nodeName&&I.isHtmlNamespace(I.getDocument(n).documentElement)&&I.isHtmlNamespace(n)?i.createElement("body"):n.cloneNode(!1)).innerHTML=e,I.fragmentFromNodeChildren(n)}:function(e){v(this);var t=r(this).createElement("body");return t.innerHTML=e,I.fragmentFromNodeChildren(t)},toHtml:function(){_(this);var e=r(this).createElement("div");return e.appendChild(this.cloneContents()),e.innerHTML},intersectsNode:function(e,t){if(_(this),x(e,"NOT_FOUND_ERR"),I.getDocument(e)!==r(this))return!1;var i=e.parentNode,n=I.getNodeIndex(e);x(i,"NOT_FOUND_ERR");var s=I.comparePoints(i,n,this.endContainer,this.endOffset);i=I.comparePoints(i,n+1,this.startContainer,this.startOffset);return t?s<=0&&0<=i:s<0&&0<i},isPointInRange:function(e,t){return _(this),x(e,"HIERARCHY_REQUEST_ERR"),w(e,this.startContainer),0<=I.comparePoints(e,t,this.startContainer,this.startOffset)&&I.comparePoints(e,t,this.endContainer,this.endOffset)<=0},intersectsRange:function(e,t){if(_(this),r(e)!=r(this))throw new F("WRONG_DOCUMENT_ERR");var i=I.comparePoints(this.startContainer,this.startOffset,e.endContainer,e.endOffset),n=I.comparePoints(this.endContainer,this.endOffset,e.startContainer,e.startOffset);return t?i<=0&&0<=n:i<0&&0<n},intersection:function(e){if(this.intersectsRange(e)){var t=I.comparePoints(this.startContainer,this.startOffset,e.startContainer,e.startOffset),i=I.comparePoints(this.endContainer,this.endOffset,e.endContainer,e.endOffset),n=this.cloneRange();return-1==t&&n.setStart(e.startContainer,e.startOffset),1==i&&n.setEnd(e.endContainer,e.endOffset),n}return null},union:function(e){if(this.intersectsRange(e,!0)){var t=this.cloneRange();return-1==I.comparePoints(e.startContainer,e.startOffset,this.startContainer,this.startOffset)&&t.setStart(e.startContainer,e.startOffset),1==I.comparePoints(e.endContainer,e.endOffset,this.endContainer,this.endOffset)&&t.setEnd(e.endContainer,e.endOffset),t}throw new s("Ranges do not intersect")},containsNode:function(e,t){return t?this.intersectsNode(e,!1):this.compareNode(e)==Z},containsNodeContents:function(e){return 0<=this.comparePoint(e,0)&&this.comparePoint(e,I.getNodeLength(e))<=0},containsRange:function(e){return this.intersection(e).equals(e)},containsNodeText:function(e){var t=this.cloneRange();t.selectNode(e);var i=t.getNodes([3]);return 0<i.length?(t.setStart(i[0],0),e=i.pop(),t.setEnd(e,e.length),e=this.containsRange(t),t.detach(),e):this.containsNodeContents(e)},createNodeIterator:function(e,t){return _(this),new g(this,e,t)},getNodes:function(e,t){return _(this),n(this,e,t)},getDocument:function(){return r(this)},collapseBefore:function(e){v(this),this.setEndBefore(e),this.collapse(!1)},collapseAfter:function(e){v(this),this.setStartAfter(e),this.collapse(!0)},getName:function(){return"DomRange"},equals:function(e){return M.rangesEqual(this,e)},inspect:function(){return e(this)}},E(M,R,function(e){v(e),e.startContainer=e.startOffset=e.endContainer=e.endOffset=null,e.collapsed=e.commonAncestorContainer=null,l(e,"detach",null),e._listeners=null}),a.rangePrototype=S.prototype,M.rangeProperties=V,M.RangeIterator=f,M.copyComparisonConstants=k,M.createPrototypeRange=E,M.inspect=e,M.getRangeDocument=r,M.rangesEqual=function(e,t){return e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset},a.DomRange=M,a.RangeException=s}),rangy.createModule("WrappedRange",function(o){function s(e,t,i,n){var s=e.duplicate();s.collapse(i);var a=s.parentElement();if(l.isAncestorOf(t,a,!0)||(a=t),!a.canHaveHTML)return new h(a.parentNode,l.getNodeIndex(a));t=l.getDocument(a).createElement("span");for(var o,r=i?"StartToStart":"StartToEnd";a.insertBefore(t,t.previousSibling),s.moveToElementText(t),0<(o=s.compareEndPoints(r,e))&&t.previousSibling;);if(r=t.nextSibling,-1==o&&r&&l.isCharacterDataNode(r)){if(s.setEndPoint(i?"EndToStart":"EndToEnd",e),/[\r\n]/.test(r.data))for(i=(a=s.duplicate()).text.replace(/\r\n/g,"\r").length,i=a.moveStart("character",i);-1==a.compareEndPoints("StartToEnd",a);)i++,a.moveStart("character",1);else i=s.text.length;a=new h(r,i)}else r=(n||!i)&&t.previousSibling,a=(i=(n||i)&&t.nextSibling)&&l.isCharacterDataNode(i)?new h(i,0):r&&l.isCharacterDataNode(r)?new h(r,r.length):new h(a,l.getNodeIndex(t));return t.parentNode.removeChild(t),a}function n(e,t){var i,n,s=e.offset,a=l.getDocument(e.node),o=a.body.createTextRange(),r=l.isCharacterDataNode(e.node);return n=r?(i=e.node).parentNode:(i=s<(i=e.node.childNodes).length?i[s]:null,e.node),(a=a.createElement("span")).innerHTML="&#feff;",i?n.insertBefore(a,i):n.appendChild(a),o.moveToElementText(a),o.collapse(!t),n.removeChild(a),r&&o[t?"moveStart":"moveEnd"]("character",s),o}o.requireModules(["DomUtil","DomRange"]);var r,l=o.dom,h=l.DomPosition,c=o.DomRange;if(!o.features.implementsDomRange||o.features.implementsTextRange&&o.config.preferTextRange){if(o.features.implementsTextRange){(r=function(e){this.textRange=e,this.refresh()}).prototype=new c(document),r.prototype.refresh=function(){var e,t,i=this.textRange;e=i.parentElement();var n=i.duplicate();n.collapse(!0),t=n.parentElement(),(n=i.duplicate()).collapse(!1),t=(t=t==(i=n.parentElement())?t:l.getCommonAncestor(t,i))==e?t:l.getCommonAncestor(e,t),t=0==this.textRange.compareEndPoints("StartToEnd",this.textRange)?e=s(this.textRange,t,!0,!0):(e=s(this.textRange,t,!0,!1),s(this.textRange,t,!1,!1)),this.setStart(e.node,e.offset),this.setEnd(t.node,t.offset)},c.copyComparisonConstants(r);var e=function(){return this}();void 0===e.Range&&(e.Range=r),o.createNativeRange=function(e){return(e=e||document).body.createTextRange()}}}else(function(){function s(e){for(var t,i=n.length;i--;)e[t=n[i]]=e.nativeRange[t]}var t,i,n=c.rangeProperties;r=function(e){if(!e)throw Error("Range must be specified");this.nativeRange=e,s(this)},c.createPrototypeRange(r,function(e,t,i,n,s){var a=e.endContainer!==n||e.endOffset!=s;e.startContainer===t&&e.startOffset==i&&!a||(e.setEnd(n,s),e.setStart(t,i))},function(e){e.nativeRange.detach(),e.detached=!0;for(var t=n.length;t--;)e[n[t]]=null}),(t=r.prototype).selectNode=function(e){this.nativeRange.selectNode(e),s(this)},t.deleteContents=function(){this.nativeRange.deleteContents(),s(this)},t.extractContents=function(){var e=this.nativeRange.extractContents();return s(this),e},t.cloneContents=function(){return this.nativeRange.cloneContents()},t.surroundContents=function(e){this.nativeRange.surroundContents(e),s(this)},t.collapse=function(e){this.nativeRange.collapse(e),s(this)},t.cloneRange=function(){return new r(this.nativeRange.cloneRange())},t.refresh=function(){s(this)},t.toString=function(){return this.nativeRange.toString()};var e=document.createTextNode("test");l.getBody(document).appendChild(e);var a=document.createRange();a.setStart(e,0),a.setEnd(e,0);try{a.setStart(e,1),t.setStart=function(e,t){this.nativeRange.setStart(e,t),s(this)},t.setEnd=function(e,t){this.nativeRange.setEnd(e,t),s(this)},i=function(t){return function(e){this.nativeRange[t](e),s(this)}}}catch(e){t.setStart=function(t,i){try{this.nativeRange.setStart(t,i)}catch(e){this.nativeRange.setEnd(t,i),this.nativeRange.setStart(t,i)}s(this)},t.setEnd=function(t,i){try{this.nativeRange.setEnd(t,i)}catch(e){this.nativeRange.setStart(t,i),this.nativeRange.setEnd(t,i)}s(this)},i=function(i,n){return function(t){try{this.nativeRange[i](t)}catch(e){this.nativeRange[n](t),this.nativeRange[i](t)}s(this)}}}t.setStartBefore=i("setStartBefore","setEndBefore"),t.setStartAfter=i("setStartAfter","setEndAfter"),t.setEndBefore=i("setEndBefore","setStartBefore"),t.setEndAfter=i("setEndAfter","setStartAfter"),a.selectNodeContents(e),t.selectNodeContents=a.startContainer==e&&a.endContainer==e&&0==a.startOffset&&a.endOffset==e.length?function(e){this.nativeRange.selectNodeContents(e),s(this)}:function(e){this.setStart(e,0),this.setEnd(e,c.getEndOffset(e))},a.selectNodeContents(e),a.setEnd(e,3),(i=document.createRange()).selectNodeContents(e),i.setEnd(e,4),i.setStart(e,2),t.compareBoundaryPoints=-1==a.compareBoundaryPoints(a.START_TO_END,i)&1==a.compareBoundaryPoints(a.END_TO_START,i)?function(e,t){return e==(t=t.nativeRange||t).START_TO_END?e=t.END_TO_START:e==t.END_TO_START&&(e=t.START_TO_END),this.nativeRange.compareBoundaryPoints(e,t)}:function(e,t){return this.nativeRange.compareBoundaryPoints(e,t.nativeRange||t)},o.util.isHostMethod(a,"createContextualFragment")&&(t.createContextualFragment=function(e){return this.nativeRange.createContextualFragment(e)}),l.getBody(document).removeChild(e),a.detach(),i.detach()})(),o.createNativeRange=function(e){return(e=e||document).createRange()};o.features.implementsTextRange&&(r.rangeToTextRange=function(e){if(e.collapsed)return n(new h(e.startContainer,e.startOffset),!0);var t=n(new h(e.startContainer,e.startOffset),!0),i=n(new h(e.endContainer,e.endOffset),!1);return(e=l.getDocument(e.startContainer).body.createTextRange()).setEndPoint("StartToStart",t),e.setEndPoint("EndToEnd",i),e}),r.prototype.getName=function(){return"WrappedRange"},o.WrappedRange=r,o.createRange=function(e){return e=e||document,new r(o.createNativeRange(e))},o.createRangyRange=function(e){return e=e||document,new c(e)},o.createIframeRange=function(e){return o.createRange(l.getIframeDocument(e))},o.createIframeRangyRange=function(e){return o.createRangyRange(l.getIframeDocument(e))},o.addCreateMissingNativeApiListener(function(e){void 0===(e=e.document).createRange&&(e.createRange=function(){return o.createRange(this)}),e=null})}),rangy.createModule("WrappedSelection",function(a,e){function s(e){return(e||window).document.selection}function o(e,t,i){var n=i?"end":"start";i=i?"start":"end";e.anchorNode=t[n+"Container"],e.anchorOffset=t[n+"Offset"],e.focusNode=t[i+"Container"],e.focusOffset=t[i+"Offset"]}function r(e){e.anchorNode=e.focusNode=null,e.anchorOffset=e.focusOffset=0,e.rangeCount=0,e.isCollapsed=!0,e._ranges.length=0}function n(e){var t;return e instanceof b?(t=e._selectionNativeRange)||((t=a.createNativeRange(v.getDocument(e.startContainer))).setEnd(e.endContainer,e.endOffset),t.setStart(e.startContainer,e.startOffset),e._selectionNativeRange=t,e.attachListener("detach",function(){this._selectionNativeRange=null})):e instanceof y?t=e.nativeRange:a.features.implementsDomRange&&e instanceof v.getWindow(e.startContainer).Range&&(t=e),t}function l(e){var t,i=e.getNodes();e:if(i.length&&1==i[0].nodeType){t=1;for(var n=i.length;t<n;++t)if(!v.isAncestorOf(i[0],i[t])){t=!1;break e}t=!0}else t=!1;if(!t)throw Error("getSingleElementFromRange: range "+e.inspect()+" did not consist of a single element");return i[0]}function h(e,t){var i=new y(t);e._ranges=[i],o(e,i,!1),e.rangeCount=1,e.isCollapsed=i.collapsed}function c(e){if(e._ranges.length=0,"None"==e.docSelection.type)r(e);else{var t=e.docSelection.createRange();if(t&&void 0!==t.text)h(e,t);else{e.rangeCount=t.length;for(var i,n=v.getDocument(t.item(0)),s=0;s<e.rangeCount;++s)(i=a.createRange(n)).selectNode(t.item(s)),e._ranges.push(i);e.isCollapsed=1==e.rangeCount&&e._ranges[0].collapsed,o(e,e._ranges[e.rangeCount-1],!1)}}}function u(e,t){for(var i=e.docSelection.createRange(),n=l(t),s=v.getDocument(i.item(0)),a=(s=v.getBody(s).createControlRange(),0),o=i.length;a<o;++a)s.add(i.item(a));try{s.add(n)}catch(e){throw Error("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}s.select(),c(e)}function d(e,t,i){this.nativeSelection=e,this.docSelection=t,this._ranges=[],this.win=i,this.refresh()}function p(e,t){for(var i,n=v.getDocument(t[0].startContainer),s=(n=v.getBody(n).createControlRange(),0);rangeCount>s;++s){i=l(t[s]);try{n.add(i)}catch(e){throw Error("setRanges(): Element within the one of the specified Ranges could not be added to control selection (does it have layout?)")}}n.select(),c(e)}function f(e,t){if(e.anchorNode&&v.getDocument(e.anchorNode)!==v.getDocument(t))throw new w("WRONG_DOCUMENT_ERR")}function t(e){var t=[],i=new C(e.anchorNode,e.anchorOffset),n=new C(e.focusNode,e.focusOffset),s="function"==typeof e.getName?e.getName():"Selection";if(void 0!==e.rangeCount)for(var a=0,o=e.rangeCount;a<o;++a)t[a]=b.inspect(e.getRangeAt(a));return"["+s+"(Ranges: "+t.join(", ")+")(anchor: "+i.inspect()+", focus: "+n.inspect()+"]"}a.requireModules(["DomUtil","DomRange","WrappedRange"]),a.config.checkSelectionRanges=!0;var g,m,v=a.dom,i=a.util,b=a.DomRange,y=a.WrappedRange,w=a.DOMException,C=v.DomPosition,x=a.util.isHostMethod(window,"getSelection"),_=a.util.isHostObject(document,"selection"),S=_&&(!x||a.config.preferTextRange);S?(g=s,a.isSelectionValid=function(e){var t=(e=(e||window).document).selection;return"None"!=t.type||v.getDocument(t.createRange().parentElement())==e}):x?(g=function(e){return(e||window).getSelection()},a.isSelectionValid=function(){return!0}):e.fail("Neither document.selection or window.getSelection() detected.");x=(a.getNativeSelection=g)();var T=a.createNativeRange(document),k=v.getBody(document),D=i.areHostObjects(x,i.areHostProperties(x,["anchorOffset","focusOffset"]));a.features.selectionHasAnchorAndFocus=D;var E=i.isHostMethod(x,"extend");a.features.selectionHasExtend=E;var N="number"==typeof x.rangeCount;a.features.selectionHasRangeCount=N;var R=!1,M=!0;i.areHostMethods(x,["addRange","getRangeAt","removeAllRanges"])&&"number"==typeof x.rangeCount&&a.features.implementsDomRange&&function(){var e=document.createElement("iframe");k.appendChild(e),(t=v.getIframeDocument(e)).open(),t.write("<html><head></head><body>12</body></html>"),t.close();var t,i=v.getIframeWindow(e).getSelection(),n=t.documentElement.lastChild.firstChild;(t=t.createRange()).setStart(n,1),t.collapse(!0),i.addRange(t),M=1==i.rangeCount,i.removeAllRanges();var s=t.cloneRange();t.setStart(n,0),s.setEnd(n,2),i.addRange(t),i.addRange(s),R=2==i.rangeCount,t.detach(),s.detach(),k.removeChild(e)}(),a.features.selectionSupportsMultipleRanges=R,a.features.collapsedNonEditableSelectionsSupported=M;var I,A,F,P=!1;if(k&&i.isHostMethod(k,"createControlRange")&&(I=k.createControlRange(),i.areHostProperties(I,["item","add"])&&(P=!0)),a.features.implementsControlRange=P,m=D?function(e){return e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset}:function(e){return!!e.rangeCount&&e.getRangeAt(e.rangeCount-1).collapsed},i.isHostMethod(x,"getRangeAt")?A=function(e,t){try{return e.getRangeAt(t)}catch(e){return null}}:D&&(A=function(e){var t=v.getDocument(e.anchorNode);return(t=a.createRange(t)).setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset),t.collapsed!==this.isCollapsed&&(t.setStart(e.focusNode,e.focusOffset),t.setEnd(e.anchorNode,e.anchorOffset)),t}),a.getSelection=function(e){var t=(e=e||window)._rangySelection,i=g(e),n=_?s(e):null;return t?(t.nativeSelection=i,t.docSelection=n,t.refresh(e)):(t=new d(i,n,e),e._rangySelection=t),t},a.getIframeSelection=function(e){return a.getSelection(v.getIframeWindow(e))},I=d.prototype,!S&&D&&i.areHostMethods(x,["removeAllRanges","addRange"])){I.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),r(this)};function O(e,t){var i=b.getRangeDocument(t);(i=a.createRange(i)).collapseToPoint(t.endContainer,t.endOffset),e.nativeSelection.addRange(n(i)),e.nativeSelection.extend(t.startContainer,t.startOffset),e.refresh()}I.addRange=N?function(e,t){if(P&&_&&"Control"==this.docSelection.type)u(this,e);else if(t&&E)O(this,e);else{var i;i=R?this.rangeCount:(this.removeAllRanges(),0),this.nativeSelection.addRange(n(e)),this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==i+1?(a.config.checkSelectionRanges&&(i=A(this.nativeSelection,this.rangeCount-1))&&!b.rangesEqual(i,e)&&(e=new y(i)),this._ranges[this.rangeCount-1]=e,o(this,e,z(this.nativeSelection)),this.isCollapsed=m(this)):this.refresh()}}:function(e,t){t&&E?O(this,e):(this.nativeSelection.addRange(n(e)),this.refresh())},I.setRanges=function(e){if(P&&1<e.length)p(this,e);else{this.removeAllRanges();for(var t=0,i=e.length;t<i;++t)this.addRange(e[t])}}}else{if(!(i.isHostMethod(x,"empty")&&i.isHostMethod(T,"select")&&P&&S))return e.fail("No means of selecting a Range or TextRange was found"),!1;I.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var e;if(this.anchorNode)e=v.getDocument(this.anchorNode);else if("Control"==this.docSelection.type){var t=this.docSelection.createRange();t.length&&(e=v.getDocument(t.item(0)).body.createTextRange())}e&&(e.body.createTextRange().select(),this.docSelection.empty())}}catch(e){}r(this)},I.addRange=function(e){"Control"==this.docSelection.type?u(this,e):(y.rangeToTextRange(e).select(),this._ranges[0]=e,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,o(this,e,!1))},I.setRanges=function(e){this.removeAllRanges();var t=e.length;1<t?p(this,e):t&&this.addRange(e[0])}}if(I.getRangeAt=function(e){if(e<0||e>=this.rangeCount)throw new w("INDEX_SIZE_ERR");return this._ranges[e]},S)F=function(e){var t;a.isSelectionValid(e.win)?t=e.docSelection.createRange():(t=v.getBody(e.win.document).createTextRange()).collapse(!0),"Control"==e.docSelection.type?c(e):t&&void 0!==t.text?h(e,t):r(e)};else if(i.isHostMethod(x,"getRangeAt")&&"number"==typeof x.rangeCount)F=function(e){if(P&&_&&"Control"==e.docSelection.type)c(e);else if(e._ranges.length=e.rangeCount=e.nativeSelection.rangeCount,e.rangeCount){for(var t=0,i=e.rangeCount;t<i;++t)e._ranges[t]=new a.WrappedRange(e.nativeSelection.getRangeAt(t));o(e,e._ranges[e.rangeCount-1],z(e.nativeSelection)),e.isCollapsed=m(e)}else r(e)};else{if(!D||"boolean"!=typeof x.isCollapsed||"boolean"!=typeof T.collapsed||!a.features.implementsDomRange)return e.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;F=function(e){var t;(t=e.nativeSelection).anchorNode?(t=A(t,0),e._ranges=[t],e.rangeCount=1,t=e.nativeSelection,e.anchorNode=t.anchorNode,e.anchorOffset=t.anchorOffset,e.focusNode=t.focusNode,e.focusOffset=t.focusOffset,e.isCollapsed=m(e)):r(e)}}I.refresh=function(e){var t=e?this._ranges.slice(0):null;if(F(this),e){if((e=t.length)!=this._ranges.length)return!1;for(;e--;)if(!b.rangesEqual(t[e],this._ranges[e]))return!1;return!0}};function L(e,t){var i=e.getAllRanges(),n=!1;e.removeAllRanges();for(var s=0,a=i.length;s<a;++s)n||t!==i[s]?e.addRange(i[s]):n=!0;e.rangeCount||r(e)}var z;I.removeRange=P?function(e){if("Control"==this.docSelection.type){for(var t=this.docSelection.createRange(),i=(e=l(e),v.getDocument(t.item(0))),n=(i=v.getBody(i).createControlRange(),!1),s=0,a=t.length;s<a;++s)t.item(s)!==e||n?i.add(t.item(s)):n=!0;i.select(),c(this)}else L(this,e)}:function(e){L(this,e)},!S&&D&&a.features.implementsDomRange?(z=function(e){var t=!1;return e.anchorNode&&(t=1==v.comparePoints(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)),t},I.isBackwards=function(){return z(this)}):z=I.isBackwards=function(){return!1},I.toString=function(){for(var e=[],t=0,i=this.rangeCount;t<i;++t)e[t]=""+this._ranges[t];return e.join("")},I.collapse=function(e,t){f(this,e);var i=a.createRange(v.getDocument(e));i.collapseToPoint(e,t),this.removeAllRanges(),this.addRange(i),this.isCollapsed=!0},I.collapseToStart=function(){if(!this.rangeCount)throw new w("INVALID_STATE_ERR");var e=this._ranges[0];this.collapse(e.startContainer,e.startOffset)},I.collapseToEnd=function(){if(!this.rangeCount)throw new w("INVALID_STATE_ERR");var e=this._ranges[this.rangeCount-1];this.collapse(e.endContainer,e.endOffset)},I.selectAllChildren=function(e){f(this,e);var t=a.createRange(v.getDocument(e));t.selectNodeContents(e),this.removeAllRanges(),this.addRange(t)},I.deleteFromDocument=function(){if(P&&_&&"Control"==this.docSelection.type){for(var e,t=this.docSelection.createRange();t.length;)e=t.item(0),t.remove(e),e.parentNode.removeChild(e);this.refresh()}else if(this.rangeCount){t=this.getAllRanges(),this.removeAllRanges(),e=0;for(var i=t.length;e<i;++e)t[e].deleteContents();this.addRange(t[i-1])}},I.getAllRanges=function(){return this._ranges.slice(0)},I.setSingleRange=function(e){this.setRanges([e])},I.containsNode=function(e,t){for(var i=0,n=this._ranges.length;i<n;++i)if(this._ranges[i].containsNode(e,t))return!0;return!1},I.toHtml=function(){var e="";if(this.rangeCount){e=b.getRangeDocument(this._ranges[0]).createElement("div");for(var t=0,i=this._ranges.length;t<i;++t)e.appendChild(this._ranges[t].cloneContents());e=e.innerHTML}return e},I.getName=function(){return"WrappedSelection"},I.inspect=function(){return t(this)},I.detach=function(){this.win=this.anchorNode=this.focusNode=this.win._rangySelection=null},d.inspect=t,a.Selection=d,a.selectionPrototype=I,a.addCreateMissingNativeApiListener(function(e){void 0===e.getSelection&&(e.getSelection=function(){return a.getSelection(this)}),e=null})});var Base=function(){};Base.extend=function(e,t){var i=Base.prototype.extend;Base._prototyping=!0;var n=new this;i.call(n,e),n.base=function(){},delete Base._prototyping;var s=n.constructor,a=n.constructor=function(){if(!Base._prototyping)if(this._constructing||this.constructor==a)this._constructing=!0,s.apply(this,arguments),delete this._constructing;else if(null!=arguments[0])return(arguments[0].extend||i).call(arguments[0],n)};return a.ancestor=this,a.extend=this.extend,a.forEach=this.forEach,a.implement=this.implement,a.prototype=n,a.toString=this.toString,a.valueOf=function(e){return"object"==e?a:s.valueOf()},i.call(a,t),"function"==typeof a.init&&a.init(),a},Base.prototype={extend:function(e,t){if(1<arguments.length){var i=this[e];if(i&&"function"==typeof t&&(!i.valueOf||i.valueOf()!=t.valueOf())&&/\bbase\b/.test(t)){var n=t.valueOf();(t=function(){var e=this.base||Base.prototype.base;this.base=i;var t=n.apply(this,arguments);return this.base=e,t}).valueOf=function(e){return"object"==e?t:n},t.toString=Base.toString}this[e]=t}else if(e){var s=Base.prototype.extend;Base._prototyping||"function"==typeof this||(s=this.extend||s);for(var a={toSource:null},o=["constructor","toString","valueOf"],r=Base._prototyping?0:1;l=o[r++];)e[l]!=a[l]&&s.call(this,l,e[l]);for(var l in e)a[l]||s.call(this,l,e[l])}return this}},Base=Base.extend({constructor:function(e){this.extend(e)}},{ancestor:Object,version:"1.1",forEach:function(e,t,i){for(var n in e)void 0===this.prototype[n]&&t.call(i,e[n],n,e)},implement:function(){for(var e=0;e<arguments.length;e++)"function"==typeof arguments[e]?arguments[e](this.prototype):this.prototype.extend(arguments[e]);return this},toString:function(){return""+this.valueOf()}}),wysihtml5.browser=function(){var i,n,t=navigator.userAgent,s=document.createElement("div"),a=-1!==t.indexOf("MSIE")&&-1===t.indexOf("Opera"),e=-1!==t.indexOf("Gecko")&&-1===t.indexOf("KHTML"),o=-1!==t.indexOf("AppleWebKit/"),r=-1!==t.indexOf("Chrome/"),l=-1!==t.indexOf("Opera/");return{USER_AGENT:t,supported:function(){var e=this.USER_AGENT.toLowerCase(),t="contentEditable"in s,i=document.execCommand&&document.queryCommandSupported&&document.queryCommandState,n=document.querySelector&&document.querySelectorAll;e=this.isIos()&&(/ipad|iphone|ipod/.test(e)&&e.match(/ os (\d+).+? like mac os x/)||[,0])[1]<5||-1!==e.indexOf("opera mobi")||-1!==e.indexOf("hpwos/");return t&&i&&n&&!e},isTouchDevice:function(){return this.supportsEvent("touchmove")},isIos:function(){var e=this.USER_AGENT.toLowerCase();return-1!==e.indexOf("webkit")&&-1!==e.indexOf("mobile")},supportsSandboxedIframes:function(){return a},throwsMixedContentWarningWhenIframeSrcIsEmpty:function(){return!("querySelector"in document)},displaysCaretInEmptyContentEditableCorrectly:function(){return!e},hasCurrentStyleProperty:function(){return"currentStyle"in s},insertsLineBreaksOnReturn:function(){return e},supportsPlaceholderAttributeOn:function(e){return"placeholder"in e},supportsEvent:function(e){var t;return(t="on"+e in s)||(s.setAttribute("on"+e,"return;"),t="function"==typeof s["on"+e]),t},supportsEventsInIframeCorrectly:function(){return!l},firesOnDropOnlyWhenOnDragOverIsCancelled:function(){return o||e},supportsDataTransfer:function(){try{return o&&(window.Clipboard||window.DataTransfer).prototype.getData}catch(e){return!1}},supportsHTML5Tags:function(e){return((e=e.createElement("div")).innerHTML="<article>foo</article>")===e.innerHTML.toLowerCase()},supportsCommand:(i={formatBlock:a,insertUnorderedList:a||l||o,insertOrderedList:a||l||o},n={insertHTML:e},function(e,t){if(!i[t]){try{return e.queryCommandSupported(t)}catch(e){}try{return e.queryCommandEnabled(t)}catch(e){return!!n[t]}}return!1}),doesAutoLinkingInContentEditable:function(){return a},canDisableAutoLinking:function(){return this.supportsCommand(document,"AutoUrlDetect")},clearsContentEditableCorrectly:function(){return e||l||o},supportsGetAttributeCorrectly:function(){return"1"!=document.createElement("td").getAttribute("rowspan")},canSelectImagesInContentEditable:function(){return e||a||l},clearsListsInContentEditableCorrectly:function(){return e||a||o},autoScrollsToCaret:function(){return!o},autoClosesUnclosedTags:function(){var e,t=s.cloneNode(!1);return t.innerHTML="<p><div></div>",t=t.innerHTML.toLowerCase(),e="<p></p><div></div>"===t||"<p><div></div></p>"===t,this.autoClosesUnclosedTags=function(){return e},e},supportsNativeGetElementsByClassName:function(){return-1!==(""+document.getElementsByClassName).indexOf("[native code]")},supportsSelectionModify:function(){return"getSelection"in window&&"modify"in window.getSelection()},supportsClassList:function(){return"classList"in s},needsSpaceAfterLineBreak:function(){return l},supportsSpeechApiOn:function(e){return 11<=(t.match(/Chrome\/(\d+)/)||[,0])[1]&&("onwebkitspeechchange"in e||"speech"in e)},crashesWhenDefineProperty:function(e){return a&&("XMLHttpRequest"===e||"XDomainRequest"===e)},doesAsyncFocus:function(){return a},hasProblemsSettingCaretAfterImg:function(){return a},hasUndoInContextMenu:function(){return e||r||l}}}(),wysihtml5.lang.array=function(s){return{contains:function(e){if(s.indexOf)return-1!==s.indexOf(e);for(var t=0,i=s.length;t<i;t++)if(s[t]===e)return!0;return!1},without:function(e){e=wysihtml5.lang.array(e);for(var t=[],i=0,n=s.length;i<n;i++)e.contains(s[i])||t.push(s[i]);return t},get:function(){for(var e=0,t=s.length,i=[];e<t;e++)i.push(s[e]);return i}}},wysihtml5.lang.Dispatcher=Base.extend({observe:function(e,t){return this.events=this.events||{},this.events[e]=this.events[e]||[],this.events[e].push(t),this},on:function(){return this.observe.apply(this,wysihtml5.lang.array(arguments).get())},fire:function(e,t){this.events=this.events||{};for(var i=this.events[e]||[],n=0;n<i.length;n++)i[n].call(this,t);return this},stopObserving:function(e,t){this.events=this.events||{};var i,n,s=0;if(e){for(i=this.events[e]||[],n=[];s<i.length;s++)i[s]!==t&&t&&n.push(i[s]);this.events[e]=n}else this.events={};return this}}),wysihtml5.lang.object=function(i){return{merge:function(e){for(var t in e)i[t]=e[t];return this},get:function(){return i},clone:function(){var e,t={};for(e in i)t[e]=i[e];return t},isArray:function(){return"[object Array]"===Object.prototype.toString.call(i)}}},function(){var e=/^\s+/,t=/\s+$/;wysihtml5.lang.string=function(i){return i=""+i,{trim:function(){return i.replace(e,"").replace(t,"")},interpolate:function(e){for(var t in e)i=this.replace("#{"+t+"}").by(e[t]);return i},replace:function(t){return{by:function(e){return i.split(t).join(e)}}}}}}(),function(s){function a(e){if(!o.contains(e.nodeName)){if(e.nodeType!==s.TEXT_NODE||!e.data.match(r)){for(t=(i=s.lang.array(e.childNodes).get()).length,n=0;n<t;n++)a(i[n]);return e}var t,i=e.parentNode,n=(t=i.ownerDocument)._wysihtml5_tempElement;for((t=n=n||(t._wysihtml5_tempElement=t.createElement("div"))).innerHTML="<span></span>"+e.data.replace(r,function(e,t){var i=(t.match(l)||[])[1]||"",n=c[i];(t=t.replace(l,"")).split(n).length>t.split(i).length&&(t+=i,i="");var s=n=t;return t.length>h&&(s=s.substr(0,h)+"..."),"www."===n.substr(0,4)&&(n="http://"+n),'<a href="'+n+'">'+s+"</a>"+i}),t.removeChild(t.firstChild);t.firstChild;)i.insertBefore(t.firstChild,e);i.removeChild(e)}}var o=s.lang.array("CODE PRE A SCRIPT HEAD TITLE STYLE".split(" ")),r=/((https?:\/\/|www\.)[^\s<]{3,})/gi,l=/([^\w\/\-](,?))$/i,h=100,c={")":"(","]":"[","}":"{"};s.dom.autoLink=function(e){var t;e:{t=e;for(var i;t.parentNode;){if(i=(t=t.parentNode).nodeName,o.contains(i)){t=!0;break e}if("body"===i)break}t=!1}return t?e:(e===e.ownerDocument.documentElement&&(e=e.ownerDocument.body),a(e))},s.dom.autoLink.URL_REG_EXP=r}(wysihtml5),function(e){var n=e.browser.supportsClassList(),i=e.dom;i.addClass=function(e,t){return n?e.classList.add(t):void(i.hasClass(e,t)||(e.className+=" "+t))},i.removeClass=function(e,t){return n?e.classList.remove(t):void(e.className=e.className.replace(RegExp("(^|\\s+)"+t+"(\\s+|$)")," "))},i.hasClass=function(e,t){if(n)return e.classList.contains(t);var i=e.className;return 0<i.length&&(i==t||RegExp("(^|\\s)"+t+"(\\s|$)").test(i))}}(wysihtml5),wysihtml5.dom.contains=function(){var e=document.documentElement;return e.contains?function(e,t){return t.nodeType!==wysihtml5.ELEMENT_NODE&&(t=t.parentNode),e!==t&&e.contains(t)}:e.compareDocumentPosition?function(e,t){return!!(16&e.compareDocumentPosition(t))}:void 0}(),wysihtml5.dom.convertToList=function(){function u(e,t){var i=e.createElement("li");return t.appendChild(i),i}return function(e,t){if("UL"===e.nodeName||"OL"===e.nodeName||"MENU"===e.nodeName)return e;var i,n,s,a,o,r=e.ownerDocument,l=r.createElement(t),h=e.querySelectorAll("br"),c=h.length;for(o=0;o<c;o++)for(i=h[o];(n=i.parentNode)&&n!==e&&n.lastChild===i;){if("block"===wysihtml5.dom.getStyle("display").from(n)){n.removeChild(i);break}wysihtml5.dom.insert(i).after(i.parentNode)}for(c=(h=wysihtml5.lang.array(e.childNodes).get()).length,o=0;o<c;o++)a=a||u(r,l),i=h[o],n="block"===wysihtml5.dom.getStyle("display").from(i),s="BR"===i.nodeName,n?((a=a.firstChild?u(r,l):a).appendChild(i),a=null):s?a=a.firstChild?null:a:a.appendChild(i);return e.parentNode.replaceChild(l,e),l}}(),wysihtml5.dom.copyAttributes=function(a){return{from:function(s){return{to:function(e){for(var t,i=0,n=a.length;i<n;i++)t=a[i],void 0!==s[t]&&""!==s[t]&&(e[t]=s[t]);return{andTo:arguments.callee}}}}}},function(o){var r=["-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing"];o.copyStyles=function(a){return{from:function(e){!function(e){var t;e:for(var i=0,n=r.length;i<n;i++)if("border-box"===o.getStyle(r[i]).from(e)){t=r[i];break e}return!!t&&parseInt(o.getStyle("width").from(e),10)<e.offsetWidth}(e)||(a=wysihtml5.lang.array(a).without(r));for(var t,i="",n=a.length,s=0;s<n;s++)t=a[s],i+=t+":"+o.getStyle(t).from(e)+";";return{to:function(e){return o.setStyles(i).on(e),{andTo:arguments.callee}}}}}}}(wysihtml5.dom),function(o){o.dom.delegate=function(n,s,e,a){return o.dom.observe(n,e,function(e){for(var t=e.target,i=o.lang.array(n.querySelectorAll(s));t&&t!==n;){if(i.contains(t)){a.call(t,e);break}t=t.parentNode}})}}(wysihtml5),wysihtml5.dom.getAsDom=function(){var a="abbr article aside audio bdi canvas command datalist details figcaption figure footer header hgroup keygen mark meter nav output progress rp rt ruby svg section source summary time track video wbr".split(" ");return function(e,t){var i;t=t||document;if("object"==typeof e&&e.nodeType)(i=t.createElement("div")).appendChild(e);else if(wysihtml5.browser.supportsHTML5Tags(t))(i=t.createElement("div")).innerHTML=e;else{if(!(i=t)._wysihtml5_supportsHTML5Tags){for(var n=0,s=a.length;n<s;n++)i.createElement(a[n]);i._wysihtml5_supportsHTML5Tags=!0}(n=(i=t).createElement("div")).style.display="none",i.body.appendChild(n);try{n.innerHTML=e}catch(e){}i.body.removeChild(n),i=n}return i}}(),wysihtml5.dom.getParentElement=function(){function r(e,t){return!t||!t.length||("string"==typeof t?e===t:wysihtml5.lang.array(t).contains(e))}return function(e,t,i){if(i=i||50,t.className||t.classRegExp){e:{var n=t.nodeName,s=t.className;for(t=t.classRegExp;i--&&e&&"BODY"!==e.nodeName;){var a;if((a=e.nodeType===wysihtml5.ELEMENT_NODE)&&(a=r(e.nodeName,n))){a=s;var o=(e.className||"").match(t)||[];a=a?o[o.length-1]===a:!!o.length}if(a)break e;e=e.parentNode}e=null}return e}e:{for(n=t.nodeName,s=i;s--&&e&&"BODY"!==e.nodeName;){if(r(e.nodeName,n))break e;e=e.parentNode}e=null}return e}}(),wysihtml5.dom.getStyle=function(){var l={float:"styleFloat"in document.createElement("div").style?"styleFloat":"cssFloat"},h=/\-[a-z]/g;return function(r){return{from:function(e){if(e.nodeType===wysihtml5.ELEMENT_NODE){var t=e.ownerDocument,i=l[r]||r.replace(h,function(e){return e.charAt(1).toUpperCase()}),n=e.style,s=e.currentStyle,a=n[i];if(a)return a;if(s)try{return s[i]}catch(e){}var o;i=t.defaultView||t.parentWindow,t=("height"===r||"width"===r)&&"TEXTAREA"===e.nodeName;if(i.getComputedStyle)return t&&(o=n.overflow,n.overflow="hidden"),e=i.getComputedStyle(e,null).getPropertyValue(r),t&&(n.overflow=o||""),e}}}}}(),wysihtml5.dom.hasElementWithTagName=function(){var s={},a=1;return function(e,t){var i=(e._wysihtml5_identifier||(e._wysihtml5_identifier=a++))+":"+t,n=s[i];return 0<(n=n||(s[i]=e.getElementsByTagName(t))).length}}(),function(s){var a={},o=1;s.dom.hasElementWithClassName=function(e,t){if(!s.browser.supportsNativeGetElementsByClassName())return!!e.querySelector("."+t);var i=(e._wysihtml5_identifier||(e._wysihtml5_identifier=o++))+":"+t,n=a[i];return 0<(n=n||(a[i]=e.getElementsByClassName(t))).length}}(wysihtml5),wysihtml5.dom.insert=function(t){return{after:function(e){e.parentNode.insertBefore(t,e.nextSibling)},before:function(e){e.parentNode.insertBefore(t,e)},into:function(e){e.appendChild(t)}}},wysihtml5.dom.insertCSS=function(n){return n=n.join("\n"),{into:function(e){var t=e.head||e.getElementsByTagName("head")[0],i=e.createElement("style");i.type="text/css",i.styleSheet?i.styleSheet.cssText=n:i.appendChild(e.createTextNode(n)),t&&t.appendChild(i)}}},wysihtml5.dom.observe=function(n,s,a){for(var o,e,t=0,i=(s="string"==typeof s?[s]:s).length;t<i;t++)e=s[t],n.addEventListener?n.addEventListener(e,a,!1):(o=function(e){"target"in e||(e.target=e.srcElement),e.preventDefault=e.preventDefault||function(){this.returnValue=!1},e.stopPropagation=e.stopPropagation||function(){this.cancelBubble=!0},a.call(n,e)},n.attachEvent("on"+e,o));return{stop:function(){for(var e,t=0,i=s.length;t<i;t++)e=s[t],n.removeEventListener?n.removeEventListener(e,a,!1):n.detachEvent("on"+e,o)}}},wysihtml5.dom.parse=function(){function o(e,t){var i,n=e.childNodes,s=n.length,a=0;if(!(i=(i=h[e.nodeType])&&i(e)))return null;for(a=0;a<s;a++)(newChild=o(n[a],t))&&i.appendChild(newChild);return t&&i.childNodes.length<=1&&i.nodeName.toLowerCase()===g&&!i.attributes.length?i.firstChild:i}function f(t,e){var i;e=e.toLowerCase();if((i="IMG"==t.nodeName)&&(i="src"==e)){var n;try{n=t.complete&&!t.mozMatchesSelector(":-moz-broken")}catch(e){t.complete&&"complete"===t.readyState&&(n=!0)}i=!0===n}return i?t.src:u&&"outerHTML"in t?-1!=t.outerHTML.toLowerCase().indexOf(" "+e+"=")?t.getAttribute(e):null:t.getAttribute(e)}var t,i,n,s,a,r,l,h={1:function(e){var t,i,n=v.tags;if(i=e.nodeName.toLowerCase(),t=e.scopeName,e._wysihtml5)return null;if(e._wysihtml5=1,"wysihtml5-temp"===e.className)return null;if(t&&"HTML"!=t&&(i=t+":"+i),"outerHTML"in e&&!wysihtml5.browser.autoClosesUnclosedTags()&&"P"===e.nodeName&&"</p>"!==e.outerHTML.slice(-4).toLowerCase()&&(i="div"),i in n){if(!(t=n[i])||t.remove)return null;t="string"==typeof t?{rename_tag:t}:t}else{if(!e.firstChild)return null;t={rename_tag:g}}i=e.ownerDocument.createElement(t.rename_tag||i);n={};var s=t.set_class,a=t.add_class,o=t.set_attributes,r=t.check_attributes,l=v.classes,h=0,c=[];t=[];var u,d=[],p=[];if(o&&(n=wysihtml5.lang.object(o).clone()),r)for(u in r)(o=b[r[u]])&&("string"==typeof(o=o(f(e,u)))&&(n[u]=o));if(s&&c.push(s),a)for(u in a)(o=y[a[u]])&&("string"==typeof(s=o(f(e,u)))&&c.push(s));for(l["_wysihtml5-temp-placeholder"]=1,(p=e.getAttribute("class"))&&(c=c.concat(p.split(m))),a=c.length;h<a;h++)l[e=c[h]]&&t.push(e);for(l=t.length;l--;)e=t[l],wysihtml5.lang.array(d).contains(e)||d.unshift(e);for(u in d.length&&(n.class=d.join(" ")),n)try{i.setAttribute(u,n[u])}catch(e){}return n.src&&(void 0!==n.width&&i.setAttribute("width",n.width),void 0!==n.height&&i.setAttribute("height",n.height)),i},3:function(e){return e.ownerDocument.createTextNode(e.data)}},g="span",m=/\s+/,c={tags:{},classes:{}},v={},u=!wysihtml5.browser.supportsGetAttributeCorrectly(),b={url:(l=/^https?:\/\//i,function(e){return e&&e.match(l)?e.replace(l,function(e){return e.toLowerCase()}):null}),alt:(r=/[^ a-z0-9_\-]/gi,function(e){return e?e.replace(r,""):""}),numbers:(a=/\D/g,function(e){return(e=(e||"").replace(a,""))||null})},y={align_img:(s={left:"wysiwyg-float-left",right:"wysiwyg-float-right"},function(e){return s[(""+e).toLowerCase()]}),align_text:(n={left:"wysiwyg-text-align-left",right:"wysiwyg-text-align-right",center:"wysiwyg-text-align-center",justify:"wysiwyg-text-align-justify"},function(e){return n[(""+e).toLowerCase()]}),clear_br:(i={left:"wysiwyg-clear-left",right:"wysiwyg-clear-right",both:"wysiwyg-clear-both",all:"wysiwyg-clear-both"},function(e){return i[(""+e).toLowerCase()]}),size_font:(t={1:"wysiwyg-font-size-xx-small",2:"wysiwyg-font-size-small",3:"wysiwyg-font-size-medium",4:"wysiwyg-font-size-large",5:"wysiwyg-font-size-x-large",6:"wysiwyg-font-size-xx-large",7:"wysiwyg-font-size-xx-large","-":"wysiwyg-font-size-smaller","+":"wysiwyg-font-size-larger"},function(e){return t[(""+e).charAt(0)]})};return function(e,t,i,n){wysihtml5.lang.object(v).merge(c).merge(t).get();t=(i=i||e.ownerDocument||document).createDocumentFragment();var s="string"==typeof e;for(e=s?wysihtml5.dom.getAsDom(e,i):e;e.firstChild;)i=e.firstChild,e.removeChild(i),(i=o(i,n))&&t.appendChild(i);return e.innerHTML="",e.appendChild(t),s?wysihtml5.quirks.getCorrectInnerHTML(e):e}}(),wysihtml5.dom.removeEmptyTextNodes=function(e){for(var t=wysihtml5.lang.array(e.childNodes).get(),i=t.length,n=0;n<i;n++)(e=t[n]).nodeType===wysihtml5.TEXT_NODE&&""===e.data&&e.parentNode.removeChild(e)},wysihtml5.dom.renameElement=function(e,t){for(var i,n=e.ownerDocument.createElement(t);i=e.firstChild;)n.appendChild(i);return wysihtml5.dom.copyAttributes(["align","className"]).from(e).to(n),e.parentNode.replaceChild(n,e),n},wysihtml5.dom.replaceWithChildNodes=function(e){if(e.parentNode)if(e.firstChild){for(var t=e.ownerDocument.createDocumentFragment();e.firstChild;)t.appendChild(e.firstChild);e.parentNode.replaceChild(t,e)}else e.parentNode.removeChild(e)},function(o){function r(e){var t=e.ownerDocument.createElement("br");e.appendChild(t)}o.resolveList=function(e){if("MENU"===e.nodeName||"UL"===e.nodeName||"OL"===e.nodeName){var t,i,n,s=e.ownerDocument.createDocumentFragment(),a=e.previousElementSibling||e.previousSibling;for(a&&"block"!==o.getStyle("display").from(a)&&r(s);n=e.firstChild;){for(t=n.lastChild;a=n.firstChild;)i=(i=a===t)&&"block"!==o.getStyle("display").from(a)&&"BR"!==a.nodeName,s.appendChild(a),i&&r(s);n.parentNode.removeChild(n)}e.parentNode.replaceChild(s,e)}}}(wysihtml5.dom),function(o){var r=document,l="parent top opener frameElement frames localStorage globalStorage sessionStorage indexedDB".split(" "),h="open close openDialog showModalDialog alert confirm prompt openDatabase postMessage XMLHttpRequest XDomainRequest".split(" "),c=["referrer","write","open","close"];o.dom.Sandbox=Base.extend({constructor:function(e,t){this.callback=e||o.EMPTY_FUNCTION,this.config=o.lang.object({}).merge(t).get(),this.iframe=this._createIframe()},insertInto:function(e){"string"==typeof e&&(e=r.getElementById(e)),e.appendChild(this.iframe)},getIframe:function(){return this.iframe},getWindow:function(){this._readyError()},getDocument:function(){this._readyError()},destroy:function(){var e=this.getIframe();e.parentNode.removeChild(e)},_readyError:function(){throw Error("wysihtml5.Sandbox: Sandbox iframe isn't loaded yet")},_createIframe:function(){var e=this,t=r.createElement("iframe");return t.className="wysihtml5-sandbox",o.dom.setAttributes({security:"restricted",allowtransparency:"true",frameborder:0,width:0,height:0,marginwidth:0,marginheight:0}).on(t),o.browser.throwsMixedContentWarningWhenIframeSrcIsEmpty()&&(t.src="javascript:'<html></html>'"),t.onload=function(){t.onreadystatechange=t.onload=null,e._onLoadIframe(t)},t.onreadystatechange=function(){/loaded|complete/.test(t.readyState)&&(t.onreadystatechange=t.onload=null,e._onLoadIframe(t))},t},_onLoadIframe:function(e){if(o.dom.contains(r.documentElement,e)){var t=this,i=e.contentWindow,n=e.contentWindow.document,s=this._getHtml({charset:r.characterSet||r.charset||"utf-8",stylesheets:this.config.stylesheets});if(n.open("text/html","replace"),n.write(s),n.close(),this.getWindow=function(){return e.contentWindow},this.getDocument=function(){return e.contentWindow.document},i.onerror=function(e,t,i){throw Error("wysihtml5.Sandbox: "+e,t,i)},!o.browser.supportsSandboxedIframes()){var a;s=0;for(a=l.length;s<a;s++)this._unset(i,l[s]);for(s=0,a=h.length;s<a;s++)this._unset(i,h[s],o.EMPTY_FUNCTION);for(s=0,a=c.length;s<a;s++)this._unset(n,c[s]);this._unset(n,"cookie","",!0)}this.loaded=!0,setTimeout(function(){t.callback(t)},0)}},_getHtml:function(e){var t,i=e.stylesheets,n="",s=0;if(i="string"==typeof i?[i]:i)for(t=i.length;s<t;s++)n+='<link rel="stylesheet" href="'+i[s]+'">';return e.stylesheets=n,o.lang.string('<!DOCTYPE html><html><head><meta charset="#{charset}">#{stylesheets}</head><body></body></html>').interpolate(e)},_unset:function(e,t,i,n){try{e[t]=i}catch(e){}try{e.__defineGetter__(t,function(){return i})}catch(e){}if(n)try{e.__defineSetter__(t,function(){})}catch(e){}if(!o.browser.crashesWhenDefineProperty(t))try{var s={get:function(){return i}};n&&(s.set=function(){}),Object.defineProperty(e,t,s)}catch(e){}}})}(wysihtml5),function(){var n={className:"class"};wysihtml5.dom.setAttributes=function(i){return{on:function(e){for(var t in i)e.setAttribute(n[t]||t,i[t])}}}}(),wysihtml5.dom.setStyles=function(i){return{on:function(e){if(e=e.style,"string"==typeof i)e.cssText+=";"+i;else for(var t in i)"float"===t?(e.cssFloat=i[t],e.styleFloat=i[t]):e[t]=i[t]}}},function(a){a.simulatePlaceholder=function(e,t,i){function n(){t.hasPlaceholderSet()&&t.clear(),a.removeClass(t.element,"placeholder")}function s(){t.isEmpty()&&(t.setValue(i),a.addClass(t.element,"placeholder"))}e.observe("set_placeholder",s).observe("unset_placeholder",n).observe("focus:composer",n).observe("paste:composer",n).observe("blur:composer",s),s()}}(wysihtml5.dom),function(e){var t=document.documentElement;"textContent"in t?(e.setTextContent=function(e,t){e.textContent=t},e.getTextContent=function(e){return e.textContent}):"innerText"in t?(e.setTextContent=function(e,t){e.innerText=t},e.getTextContent=function(e){return e.innerText}):(e.setTextContent=function(e,t){e.nodeValue=t},e.getTextContent=function(e){return e.nodeValue})}(wysihtml5.dom),wysihtml5.quirks.cleanPastedHTML=function(){var l={"a u":wysihtml5.dom.replaceWithChildNodes};return function(e,t,i){t=t||l,i=i||e.ownerDocument||document;var n,s,a,o="string"==typeof e,r=0;e=o?wysihtml5.dom.getAsDom(e,i):e;for(a in t)for(n=e.querySelectorAll(a),i=t[a],s=n.length;r<s;r++)i(n[r]);return o?e.innerHTML:e}}(),function(n){var s,a=n.dom;function t(){var t=this;setTimeout(function(){var e=t.innerHTML.toLowerCase();"<p>&nbsp;</p>"!=e&&"<p>&nbsp;</p><p>&nbsp;</p>"!=e||(t.innerHTML="")},0)}n.quirks.ensureProperClearing=function(e){a.observe(e.element,["cut","keydown"],t)},n.quirks.ensureProperClearingOfLists=(s=["OL","UL","MENU"],function(i){a.observe(i.element,"keydown",function(e){if(e.keyCode===n.BACKSPACE_KEY){var t=i.selection.getSelectedNode();(e=i.element).firstChild&&n.lang.array(s).contains(e.firstChild.nodeName)&&(t=a.getParentElement(t,{nodeName:s}))&&t==e.firstChild&&t.childNodes.length<=1&&(!t.firstChild||""===t.firstChild.innerHTML)&&t.parentNode.removeChild(t)}})})}(wysihtml5),function(o){o.quirks.getCorrectInnerHTML=function(e){var t,i,n,s,a=e.innerHTML;if(-1===a.indexOf("%7E"))return a;for(s=0,n=(e=e.querySelectorAll("[href*='~'], [src*='~']")).length;s<n;s++)t=e[s].href||e[s].src,i=o.lang.string(t).replace("~").by("%7E"),a=o.lang.string(a).replace(i).by(t);return a}}(wysihtml5),function(a){var o=a.dom,r="LI P H1 H2 H3 H4 H5 H6".split(" "),l=["UL","OL","MENU"];a.quirks.insertLineBreakOnReturn=function(n){function s(e){if(e=o.getParentElement(e,{nodeName:["P","DIV"]},2)){var t=document.createTextNode(a.INVISIBLE_SPACE);o.insert(t).before(e),o.replaceWithChildNodes(e),n.selection.selectNode(t)}}o.observe(n.element.ownerDocument,"keydown",function(e){var t=e.keyCode;if(!(e.shiftKey||t!==a.ENTER_KEY&&t!==a.BACKSPACE_KEY)){var i=n.selection.getSelectedNode();(i=o.getParentElement(i,{nodeName:r},4))?"LI"!==i.nodeName||t!==a.ENTER_KEY&&t!==a.BACKSPACE_KEY?i.nodeName.match(/H[1-6]/)&&t===a.ENTER_KEY&&setTimeout(function(){s(n.selection.getSelectedNode())},0):setTimeout(function(){var e=n.selection.getSelectedNode();e&&(o.getParentElement(e,{nodeName:l},2)||s(e))},0):t!==a.ENTER_KEY||a.browser.insertsLineBreaksOnReturn()||(n.commands.exec("insertLineBreak"),e.preventDefault())}})}}(wysihtml5),function(i){i.quirks.redraw=function(e){i.dom.addClass(e,"wysihtml5-quirks-redraw"),i.dom.removeClass(e,"wysihtml5-quirks-redraw");try{var t=e.ownerDocument;t.execCommand("italic",!1,null),t.execCommand("italic",!1,null)}catch(e){}}}(wysihtml5),function(r){var o=r.dom;r.Selection=Base.extend({constructor:function(e){window.rangy.init(),this.editor=e,this.composer=e.composer,this.doc=this.composer.doc},getBookmark:function(){var e=this.getRange();return e&&e.cloneRange()},setBookmark:function(e){e&&this.setSelection(e)},setBefore:function(e){var t=rangy.createRange(this.doc);return t.setStartBefore(e),t.setEndBefore(e),this.setSelection(t)},setAfter:function(e){var t=rangy.createRange(this.doc);return t.setStartAfter(e),t.setEndAfter(e),this.setSelection(t)},selectNode:function(e){var t=rangy.createRange(this.doc),i=e.nodeType===r.ELEMENT_NODE,n="canHaveHTML"in e?e.canHaveHTML:"IMG"!==e.nodeName,s=""===(s=i?e.innerHTML:e.data)||s===r.INVISIBLE_SPACE,a="block"===(a=o.getStyle("display").from(e))||"list-item"===a;if(s&&i&&n)try{e.innerHTML=r.INVISIBLE_SPACE}catch(e){}n?t.selectNodeContents(e):t.selectNode(e),n&&s&&i?t.collapse(a):n&&s&&(t.setStartAfter(e),t.setEndAfter(e)),this.setSelection(t)},getSelectedNode:function(e){return e&&this.doc.selection&&"Control"===this.doc.selection.type&&(e=this.doc.selection.createRange())&&e.length?e.item(0):(e=this.getSelection(this.doc)).focusNode===e.anchorNode?e.focusNode:(e=this.getRange(this.doc))?e.commonAncestorContainer:this.doc.body},executeAndRestore:function(e,t){var i=this.doc.body,n=t&&i.scrollTop,s=t&&i.scrollLeft,a='<span class="_wysihtml5-temp-placeholder">'+r.INVISIBLE_SPACE+"</span>",o=this.getRange(this.doc);if(o){a=o.createContextualFragment(a),o.insertNode(a);try{e(o.startContainer,o.endContainer)}catch(e){setTimeout(function(){throw e},0)}(caretPlaceholder=this.doc.querySelector("._wysihtml5-temp-placeholder"))?((o=rangy.createRange(this.doc)).selectNode(caretPlaceholder),o.deleteContents(),this.setSelection(o)):i.focus(),t&&(i.scrollTop=n,i.scrollLeft=s);try{caretPlaceholder.parentNode.removeChild(caretPlaceholder)}catch(e){}}else e(i,i)},executeAndRestoreSimple:function(e){var t,i,n,s=this.getRange(),a=this.doc.body;if(s){a=(t=s.getNodes([3]))[0]||s.startContainer,n=t[t.length-1]||s.endContainer,t=a===s.startContainer?s.startOffset:0,i=n===s.endContainer?s.endOffset:n.length;try{e(s.startContainer,s.endContainer)}catch(e){setTimeout(function(){throw e},0)}e=rangy.createRange(this.doc);try{e.setStart(a,t)}catch(e){}try{e.setEnd(n,i)}catch(e){}try{this.setSelection(e)}catch(e){}}else e(a,a)},insertHTML:function(e){var t=(e=rangy.createRange(this.doc).createContextualFragment(e)).lastChild;this.insertNode(e),t&&this.setAfter(t)},insertNode:function(e){var t=this.getRange();t&&t.insertNode(e)},surround:function(t){var i=this.getRange();if(i)try{i.surroundContents(t),this.selectNode(t)}catch(e){t.appendChild(i.extractContents()),i.insertNode(t)}},scrollIntoView:function(){var e,t=this.doc,i=t.documentElement.scrollHeight>t.documentElement.offsetHeight;if((e=t._wysihtml5ScrollIntoViewElement)||((e=t.createElement("span")).innerHTML=r.INVISIBLE_SPACE),e=t._wysihtml5ScrollIntoViewElement=e,i){this.insertNode(e);var n=0;if((i=e).parentNode)for(;n+=i.offsetTop||0,i=i.offsetParent;);i=n,e.parentNode.removeChild(e),i>t.body.scrollTop&&(t.body.scrollTop=i)}},selectLine:function(){r.browser.supportsSelectionModify()?this._selectLine_W3C():this.doc.selection&&this._selectLine_MSIE()},_selectLine_W3C:function(){var e=this.doc.defaultView.getSelection();e.modify("extend","left","lineboundary"),e.modify("extend","right","lineboundary")},_selectLine_MSIE:function(){var e,t=this.doc.selection.createRange(),i=t.boundingTop,n=this.doc.body.scrollWidth;if(t.moveToPoint){for(0===i&&(e=this.doc.createElement("span"),this.insertNode(e),i=e.offsetTop,e.parentNode.removeChild(e)),i+=1,e=-10;e<n;e+=2)try{t.moveToPoint(e,i);break}catch(e){}for(e=this.doc.selection.createRange();0<=n;n--)try{e.moveToPoint(n,i);break}catch(e){}t.setEndPoint("EndToEnd",e),t.select()}},getText:function(){var e=this.getSelection();return e?e.toString():""},getNodes:function(e,t){var i=this.getRange();return i?i.getNodes([e],t):[]},getRange:function(){var e=this.getSelection();return e&&e.rangeCount&&e.getRangeAt(0)},getSelection:function(){return rangy.getSelection(this.doc.defaultView||this.doc.parentWindow)},setSelection:function(e){return rangy.getSelection(this.doc.defaultView||this.doc.parentWindow).setSingleRange(e)}})}(wysihtml5),function(r,o){function n(e,t){return o.dom.isCharacterDataNode(e)?0==t?!!e.previousSibling:t!=e.length||!!e.nextSibling:0<t&&t<e.childNodes.length}function a(e,t,i){var n;if(o.dom.isCharacterDataNode(t)&&(0==i?(i=o.dom.getNodeIndex(t),t=t.parentNode):i==t.length?(i=o.dom.getNodeIndex(t)+1,t=t.parentNode):n=o.dom.splitDataNode(t,i)),!n){(n=t.cloneNode(!1)).id&&n.removeAttribute("id");for(var s;s=t.childNodes[i];)n.appendChild(s);o.dom.insertAfter(n,t)}return t==e?n:a(e,n.parentNode,o.dom.getNodeIndex(n))}function f(e){this.firstTextNode=(this.isElementMerge=e.nodeType==r.ELEMENT_NODE)?e.lastChild:e,this.textNodes=[this.firstTextNode]}function e(e,t,i,n){this.tagNames=e||["span"],this.cssClass=t||"",this.similarClassRegExp=i,this.normalize=n,this.applyToAnyTagName=!1}var l=/\s+/g;f.prototype={doMerge:function(){for(var e,t,i=[],n=0,s=this.textNodes.length;n<s;++n)t=(e=this.textNodes[n]).parentNode,i[n]=e.data,n&&(t.removeChild(e),t.hasChildNodes()||t.parentNode.removeChild(t));return this.firstTextNode.data=i.join("")},getLength:function(){for(var e=this.textNodes.length,t=0;e--;)t+=this.textNodes[e].length;return t},toString:function(){for(var e=[],t=0,i=this.textNodes.length;t<i;++t)e[t]="'"+this.textNodes[t].data+"'";return"[Merge("+e.join(",")+")]"}},e.prototype={getAncestorWithClass:function(e){for(var t;e;){if(this.cssClass)if(t=this.cssClass,e.className){var i=e.className.match(this.similarClassRegExp)||[];t=i[i.length-1]===t}else t=!1;else t=!0;if(e.nodeType==r.ELEMENT_NODE&&o.dom.arrayContains(this.tagNames,e.tagName.toLowerCase())&&t)return e;e=e.parentNode}return!1},postApply:function(e,t){for(var i,n,s,a=e[0],o=e[e.length-1],r=[],l=a,h=o,c=0,u=o.length,d=0,p=e.length;d<p;++d)n=e[d],(s=this.getAdjacentMergeableTextNode(n.parentNode,!1))?(i||(i=new f(s),r.push(i)),i.textNodes.push(n),n===a&&(c=(l=i.firstTextNode).length),n===o&&(h=i.firstTextNode,u=i.getLength())):i=null;if((a=this.getAdjacentMergeableTextNode(o.parentNode,!0))&&(i||(i=new f(o),r.push(i)),i.textNodes.push(a)),r.length){for(d=0,p=r.length;d<p;++d)r[d].doMerge();t.setStart(l,c),t.setEnd(h,u)}},getAdjacentMergeableTextNode:function(e,t){var i=e.nodeType==r.TEXT_NODE,n=i?e.parentNode:e,s=t?"nextSibling":"previousSibling";if(i){if((i=e[s])&&i.nodeType==r.TEXT_NODE)return i}else if((i=n[s])&&this.areElementsMergeable(e,i))return i[t?"firstChild":"lastChild"];return null},areElementsMergeable:function(e,t){var i;if((i=o.dom.arrayContains(this.tagNames,(e.tagName||"").toLowerCase()))&&(i=o.dom.arrayContains(this.tagNames,(t.tagName||"").toLowerCase()))&&(i=e.className.replace(l," ")==t.className.replace(l," ")))e:if(e.attributes.length!=t.attributes.length)i=!1;else{i=0;for(var n,s,a=e.attributes.length;i<a;++i)if("class"!=(s=(n=e.attributes[i]).name)&&(s=t.attributes.getNamedItem(s),n.specified!=s.specified||n.specified&&n.nodeValue!==s.nodeValue)){i=!1;break e}i=!0}return i},createContainer:function(e){return e=e.createElement(this.tagNames[0]),this.cssClass&&(e.className=this.cssClass),e},applyToTextNode:function(e){var t=e.parentNode;1==t.childNodes.length&&o.dom.arrayContains(this.tagNames,t.tagName.toLowerCase())?this.cssClass&&(e=this.cssClass,t.className?(t.className&&(t.className=t.className.replace(this.similarClassRegExp,"")),t.className+=" "+e):t.className=e):(t=this.createContainer(o.dom.getDocument(e)),e.parentNode.insertBefore(t,e),t.appendChild(e))},isRemovable:function(e){return o.dom.arrayContains(this.tagNames,e.tagName.toLowerCase())&&r.lang.string(e.className).trim()==this.cssClass},undoToTextNode:function(e,t,i){if(t.containsNode(i)||((e=t.cloneRange()).selectNode(i),e.isPointInRange(t.endContainer,t.endOffset)&&n(t.endContainer,t.endOffset)&&(a(i,t.endContainer,t.endOffset),t.setEndAfter(i)),e.isPointInRange(t.startContainer,t.startOffset)&&n(t.startContainer,t.startOffset)&&(i=a(i,t.startContainer,t.startOffset))),this.similarClassRegExp&&i.className&&(i.className=i.className.replace(this.similarClassRegExp,"")),this.isRemovable(i)){for(i=(t=i).parentNode;t.firstChild;)i.insertBefore(t.firstChild,t);i.removeChild(t)}},applyToRange:function(e){var t=e.getNodes([r.TEXT_NODE]);if(!t.length)try{var i=this.createContainer(e.endContainer.ownerDocument);return e.surroundContents(i),void this.selectNode(e,i)}catch(e){}if(e.splitBoundaries(),(t=e.getNodes([r.TEXT_NODE])).length){for(var n=0,s=t.length;n<s;++n)i=t[n],this.getAncestorWithClass(i)||this.applyToTextNode(i);e.setStart(t[0],0),i=t[t.length-1],e.setEnd(i,i.length),this.normalize&&this.postApply(t,e)}},undoToRange:function(e){for(var t,i,n=e.getNodes([r.TEXT_NODE]),s=0,a=(n=n.length?(e.splitBoundaries(),e.getNodes([r.TEXT_NODE])):(n=e.endContainer.ownerDocument.createTextNode(r.INVISIBLE_SPACE),e.insertNode(n),e.selectNode(n),[n])).length;s<a;++s)t=n[s],(i=this.getAncestorWithClass(t))&&this.undoToTextNode(t,e,i);1==a?this.selectNode(e,n[0]):(e.setStart(n[0],0),t=n[n.length-1],e.setEnd(t,t.length),this.normalize&&this.postApply(n,e))},selectNode:function(e,t){var i=t.nodeType===r.ELEMENT_NODE,n=!("canHaveHTML"in t)||t.canHaveHTML,s=i?t.innerHTML:t.data;if((s=""===s||s===r.INVISIBLE_SPACE)&&i&&n)try{t.innerHTML=r.INVISIBLE_SPACE}catch(e){}e.selectNodeContents(t),s&&i?e.collapse(!1):s&&(e.setStartAfter(t),e.setEndAfter(t))},getTextSelectedByRange:function(e,t){var i=t.cloneRange();i.selectNodeContents(e);var n=(n=i.intersection(t))?n.toString():"";return i.detach(),n},isAppliedToRange:function(e){var t,i=[],n=e.getNodes([r.TEXT_NODE]);if(!n.length)return!!(t=this.getAncestorWithClass(e.startContainer))&&[t];for(var s,a=0,o=n.length;a<o;++a){if(s=this.getTextSelectedByRange(n[a],e),t=this.getAncestorWithClass(n[a]),""!=s&&!t)return!1;i.push(t)}return i},toggleRange:function(e){this.isAppliedToRange(e)?this.undoToRange(e):this.applyToRange(e)}},r.selection.HTMLApplier=e}(wysihtml5,rangy),wysihtml5.Commands=Base.extend({constructor:function(e){this.editor=e,this.composer=e.composer,this.doc=this.composer.doc},support:function(e){return wysihtml5.browser.supportsCommand(this.doc,e)},exec:function(e,t){var i=wysihtml5.commands[e],n=wysihtml5.lang.array(arguments).get(),s=i&&i.exec,a=null;if(this.editor.fire("beforecommand:composer"),s)n.unshift(this.composer),a=s.apply(i,n);else try{a=this.doc.execCommand(e,!1,t)}catch(e){}return this.editor.fire("aftercommand:composer"),a},state:function(e){var t=wysihtml5.commands[e],i=wysihtml5.lang.array(arguments).get(),n=t&&t.state;if(n)return i.unshift(this.composer),n.apply(t,i);try{return this.doc.queryCommandState(e)}catch(e){return!1}},value:function(e){var t=wysihtml5.commands[e],i=t&&t.value;if(i)return i.call(t,this.composer,e);try{return this.doc.queryCommandValue(e)}catch(e){return null}}}),function(i){i.commands.bold={exec:function(e,t){return i.commands.formatInline.exec(e,t,"b")},state:function(e,t){return i.commands.formatInline.state(e,t,"b")},value:function(){}}}(wysihtml5),function(l){var h=l.dom;l.commands.createLink={exec:function(e,t,i){var s=this.state(e,t);s?e.selection.executeAndRestore(function(){for(var e,t,i=s.length,n=0;n<i;n++)e=s[n],t=h.getParentElement(e,{nodeName:"code"}),h.getTextContent(e).match(h.autoLink.URL_REG_EXP)&&!t?h.renameElement(e,"code"):h.replaceWithChildNodes(e)}):function(e,t){var i,n,s,a=e.doc,o="_wysihtml5-temp-"+ +new Date,r=0;for(l.commands.formatInline.exec(e,void 0,"A",o,/non-matching-class/g),o=(i=a.querySelectorAll("A."+o)).length;r<o;r++)for(s in(n=i[r]).removeAttribute("class"),t)n.setAttribute(s,t[s]);r=n,1===o&&(s=h.getTextContent(n),o=!!n.querySelector("*"),s=""===s||s===l.INVISIBLE_SPACE,!o&&s&&(h.setTextContent(n,t.text||n.href),a=a.createTextNode(" "),e.selection.setAfter(n),e.selection.insertNode(a),r=a)),e.selection.setAfter(r)}(e,i="object"==typeof i?i:{href:i})},state:function(e,t){return l.commands.formatInline.state(e,t,"A")},value:function(){}}}(wysihtml5),function(n){var s=/wysiwyg-font-size-[a-z\-]+/g;n.commands.fontSize={exec:function(e,t,i){return n.commands.formatInline.exec(e,t,"span","wysiwyg-font-size-"+i,s)},state:function(e,t,i){return n.commands.formatInline.state(e,t,"span","wysiwyg-font-size-"+i,s)},value:function(){}}}(wysihtml5),function(n){var s=/wysiwyg-color-[a-z]+/g;n.commands.foreColor={exec:function(e,t,i){return n.commands.formatInline.exec(e,t,"span","wysiwyg-color-"+i,s)},state:function(e,t,i){return n.commands.formatInline.state(e,t,"span","wysiwyg-color-"+i,s)},value:function(){}}}(wysihtml5),function(l){function h(e){for(e=e.previousSibling;e&&e.nodeType===l.TEXT_NODE&&!l.lang.string(e.data).trim();)e=e.previousSibling;return e}function c(e){for(e=e.nextSibling;e&&e.nodeType===l.TEXT_NODE&&!l.lang.string(e.data).trim();)e=e.nextSibling;return e}function u(e){return"BR"===e.nodeName||"block"===d.getStyle("display").from(e)}var d=l.dom,p="H1 H2 H3 H4 H5 H6 P BLOCKQUOTE DIV".split(" ");l.commands.formatBlock={exec:function(e,t,s,i,a){var n,o=e.doc,r=this.state(e,t,s,i,a);s="string"==typeof s?s.toUpperCase():s;if(r)e.selection.executeAndRestoreSimple(function(){if(a&&(r.className=r.className.replace(a,"")),(e=!!l.lang.string(r.className).trim())||r.nodeName!==(s||"DIV"))e&&d.renameElement(r,"DIV");else{var e,t=(e=r).ownerDocument,i=c(e),n=h(e);i&&!u(i)&&e.parentNode.insertBefore(t.createElement("br"),i),n&&!u(n)&&e.parentNode.insertBefore(t.createElement("br"),e),d.replaceWithChildNodes(r)}});else{if((null===s||l.lang.array(p).contains(s))&&(n=e.selection.getSelectedNode(),r=d.getParentElement(n,{nodeName:p})))return void e.selection.executeAndRestoreSimple(function(){if(s&&(r=d.renameElement(r,s)),i){var e=r;e.className?(e.className=e.className.replace(a,""),e.className+=" "+i):e.className=i}});e.commands.support(t)?function(e,t,i,n){if(n)var s=d.observe(e,"DOMNodeInserted",function(e){(e=e.target).nodeType!==l.ELEMENT_NODE||"inline"!==d.getStyle("display").from(e).substr(0,6)&&(e.className+=" "+n)});e.execCommand(t,!1,i),s&&s.stop()}(o,t,s||"DIV",i):(r=o.createElement(s||"DIV"),i&&(r.className=i),function(e,t){e.selection.selectLine(),e.selection.surround(t);var i=c(t),n=h(t);i&&"BR"===i.nodeName&&i.parentNode.removeChild(i),n&&"BR"===n.nodeName&&n.parentNode.removeChild(n),(i=t.lastChild)&&"BR"===i.nodeName&&i.parentNode.removeChild(i),e.selection.selectNode(t)}(e,r))}},state:function(e,t,i,n,s){return i="string"==typeof i?i.toUpperCase():i,e=e.selection.getSelectedNode(),d.getParentElement(e,{nodeName:i,className:n,classRegExp:s})},value:function(){}}}(wysihtml5),function(r){function o(e,t,i){var n=e+":"+t;if(!h[n]){var s=h,a=r.selection.HTMLApplier,o=l[e];e=o?[e.toLowerCase(),o.toLowerCase()]:[e.toLowerCase()];s[n]=new a(e,t,i,!0)}return h[n]}var l={strong:"b",em:"i",b:"strong",i:"em"},h={};r.commands.formatInline={exec:function(e,t,i,n,s){return!!(t=e.selection.getRange())&&(o(i,n,s).toggleRange(t),void e.selection.setSelection(t))},state:function(e,t,i,n,s){t=e.doc;var a=l[i]||i;return!(!r.dom.hasElementWithTagName(t,i)&&!r.dom.hasElementWithTagName(t,a)||n&&!r.dom.hasElementWithClassName(t,n))&&(!!(e=e.selection.getRange())&&o(i,n,s).isAppliedToRange(e))},value:function(){}}}(wysihtml5),wysihtml5.commands.insertHTML={exec:function(e,t,i){e.commands.support(t)?e.doc.execCommand(t,!1,i):e.selection.insertHTML(i)},state:function(){return!1},value:function(){}},function(a){a.commands.insertImage={exec:function(e,t,i){i="object"==typeof i?i:{src:i};var n,s=e.doc;if(t=this.state(e))e.selection.setBefore(t),(i=t.parentNode).removeChild(t),a.dom.removeEmptyTextNodes(i),"A"!==i.nodeName||i.firstChild||(e.selection.setAfter(i),i.parentNode.removeChild(i)),a.quirks.redraw(e.element);else{for(n in t=s.createElement("IMG"),i)t[n]=i[n];e.selection.insertNode(t),a.browser.hasProblemsSettingCaretAfterImg()?(i=s.createTextNode(a.INVISIBLE_SPACE),e.selection.insertNode(i),e.selection.setAfter(i)):e.selection.setAfter(t)}},state:function(e){var t;return!!a.dom.hasElementWithTagName(e.doc,"IMG")&&(!!(t=e.selection.getSelectedNode())&&("IMG"===t.nodeName?t:t.nodeType===a.ELEMENT_NODE&&(t=e.selection.getText(),!(t=a.lang.string(t).trim())&&(1===(e=e.selection.getNodes(a.ELEMENT_NODE,function(e){return"IMG"===e.nodeName})).length&&e[0]))))},value:function(e){return(e=this.state(e))&&e.src}}}(wysihtml5),function(i){var n="<br>"+(i.browser.needsSpaceAfterLineBreak()?" ":"");i.commands.insertLineBreak={exec:function(e,t){e.commands.support(t)?(e.doc.execCommand(t,!1,null),i.browser.autoScrollsToCaret()||e.selection.scrollIntoView()):e.commands.exec("insertHTML",n)},state:function(){return!1},value:function(){}}}(wysihtml5),function(r){r.commands.insertOrderedList={exec:function(e,t){var i,n=e.doc,s=e.selection.getSelectedNode(),a=r.dom.getParentElement(s,{nodeName:"OL"}),o=r.dom.getParentElement(s,{nodeName:"UL"});s="_wysihtml5-temp-"+(new Date).getTime();e.commands.support(t)?n.execCommand(t,!1,null):a?e.selection.executeAndRestoreSimple(function(){r.dom.resolveList(a)}):o?e.selection.executeAndRestoreSimple(function(){r.dom.renameElement(o,"ol")}):(e.commands.exec("formatBlock","div",s),n=""===(i=n.querySelector("."+s)).innerHTML||i.innerHTML===r.INVISIBLE_SPACE,e.selection.executeAndRestoreSimple(function(){a=r.dom.convertToList(i,"ol")}),n&&e.selection.selectNode(a.querySelector("li")))},state:function(e){return e=e.selection.getSelectedNode(),r.dom.getParentElement(e,{nodeName:"OL"})},value:function(){}}}(wysihtml5),function(r){r.commands.insertUnorderedList={exec:function(e,t){var i,n=e.doc,s=e.selection.getSelectedNode(),a=r.dom.getParentElement(s,{nodeName:"UL"}),o=r.dom.getParentElement(s,{nodeName:"OL"});s="_wysihtml5-temp-"+(new Date).getTime();e.commands.support(t)?n.execCommand(t,!1,null):a?e.selection.executeAndRestoreSimple(function(){r.dom.resolveList(a)}):o?e.selection.executeAndRestoreSimple(function(){r.dom.renameElement(o,"ul")}):(e.commands.exec("formatBlock","div",s),n=""===(i=n.querySelector("."+s)).innerHTML||i.innerHTML===r.INVISIBLE_SPACE,e.selection.executeAndRestoreSimple(function(){a=r.dom.convertToList(i,"ul")}),n&&e.selection.selectNode(a.querySelector("li")))},state:function(e){return e=e.selection.getSelectedNode(),r.dom.getParentElement(e,{nodeName:"UL"})},value:function(){}}}(wysihtml5),function(i){i.commands.italic={exec:function(e,t){return i.commands.formatInline.exec(e,t,"i")},state:function(e,t){return i.commands.formatInline.state(e,t,"i")},value:function(){}}}(wysihtml5),function(t){var i=/wysiwyg-text-align-[a-z]+/g;t.commands.justifyCenter={exec:function(e){return t.commands.formatBlock.exec(e,"formatBlock",null,"wysiwyg-text-align-center",i)},state:function(e){return t.commands.formatBlock.state(e,"formatBlock",null,"wysiwyg-text-align-center",i)},value:function(){}}}(wysihtml5),function(t){var i=/wysiwyg-text-align-[a-z]+/g;t.commands.justifyLeft={exec:function(e){return t.commands.formatBlock.exec(e,"formatBlock",null,"wysiwyg-text-align-left",i)},state:function(e){return t.commands.formatBlock.state(e,"formatBlock",null,"wysiwyg-text-align-left",i)},value:function(){}}}(wysihtml5),function(t){var i=/wysiwyg-text-align-[a-z]+/g;t.commands.justifyRight={exec:function(e){return t.commands.formatBlock.exec(e,"formatBlock",null,"wysiwyg-text-align-right",i)},state:function(e){return t.commands.formatBlock.state(e,"formatBlock",null,"wysiwyg-text-align-right",i)},value:function(){}}}(wysihtml5),function(i){i.commands.underline={exec:function(e,t){return i.commands.formatInline.exec(e,t,"u")},state:function(e,t){return i.commands.formatInline.state(e,t,"u")},value:function(){}}}(wysihtml5),function(o){var r='<span id="_wysihtml5-undo" class="_wysihtml5-temp">'+o.INVISIBLE_SPACE+"</span>",l='<span id="_wysihtml5-redo" class="_wysihtml5-temp">'+o.INVISIBLE_SPACE+"</span>",h=o.dom;o.UndoManager=o.lang.Dispatcher.extend({constructor:function(e){this.editor=e,this.composer=e.composer,this.element=this.composer.element,this.history=[this.composer.getValue()],this.position=1,this.composer.commands.support("insertHTML")&&this._observe()},_observe:function(){var t,n=this,i=this.composer.sandbox.getDocument();if(h.observe(this.element,"keydown",function(e){if(!e.altKey&&(e.ctrlKey||e.metaKey)){var t=e.keyCode,i=90===t&&e.shiftKey||89===t;90!==t||e.shiftKey?i&&(n.redo(),e.preventDefault()):(n.undo(),e.preventDefault())}}),h.observe(this.element,"keydown",function(e){(e=e.keyCode)!==t&&(8!==(t=e)&&46!==e||n.transact())}),o.browser.hasUndoInContextMenu()){function e(){for(var e;e=i.querySelector("._wysihtml5-temp");)e.parentNode.removeChild(e);clearInterval(s)}var s,a;h.observe(this.element,"contextmenu",function(){e(),n.composer.selection.executeAndRestoreSimple(function(){n.element.lastChild&&n.composer.selection.setAfter(n.element.lastChild),i.execCommand("insertHTML",!1,r),i.execCommand("insertHTML",!1,l),i.execCommand("undo",!1,null)}),s=setInterval(function(){i.getElementById("_wysihtml5-redo")?(e(),n.redo()):i.getElementById("_wysihtml5-undo")||(e(),n.undo())},400),a||(a=!0,h.observe(document,"mousedown",e),h.observe(i,["mousedown","paste","cut","copy"],e))})}this.editor.observe("newword:composer",function(){n.transact()}).observe("beforecommand:composer",function(){n.transact()})},transact:function(){var e=this.history[this.position-1],t=this.composer.getValue();t!=e&&(40<(this.history.length=this.position)&&(this.history.shift(),this.position--),this.position++,this.history.push(t))},undo:function(){this.transact(),this.position<=1||(this.set(this.history[--this.position-1]),this.editor.fire("undo:composer"))},redo:function(){this.position>=this.history.length||(this.set(this.history[++this.position-1]),this.editor.fire("redo:composer"))},set:function(e){this.composer.setValue(e),this.editor.focus(!0)}})}(wysihtml5),wysihtml5.views.View=Base.extend({constructor:function(e,t,i){this.parent=e,this.element=t,this.config=i,this._observeViewChange()},_observeViewChange:function(){var t=this;this.parent.observe("beforeload",function(){t.parent.observe("change_view",function(e){e===t.name?((t.parent.currentView=t).show(),setTimeout(function(){t.focus()},0)):t.hide()})})},focus:function(){if(this.element.ownerDocument.querySelector(":focus")!==this.element)try{this.element.focus()}catch(e){}},hide:function(){this.element.style.display="none"},show:function(){this.element.style.display=""},disable:function(){this.element.setAttribute("disabled","disabled")},enable:function(){this.element.removeAttribute("disabled")}}),function(r){var l=r.dom,i=r.browser;r.views.Composer=r.views.View.extend({name:"composer",CARET_HACK:"<br>",constructor:function(e,t,i){this.base(e,t,i),this.textarea=this.parent.textarea,this._initSandbox()},clear:function(){this.element.innerHTML=i.displaysCaretInEmptyContentEditableCorrectly()?"":this.CARET_HACK},getValue:function(e){var t=this.isEmpty()?"":r.quirks.getCorrectInnerHTML(this.element);return e&&(t=this.parent.parse(t)),r.lang.string(t).replace(r.INVISIBLE_SPACE).by("")},setValue:function(e,t){t&&(e=this.parent.parse(e)),this.element.innerHTML=e},show:function(){this.iframe.style.display=this._displayStyle||"",this.disable(),this.enable()},hide:function(){this._displayStyle=l.getStyle("display").from(this.iframe),"none"===this._displayStyle&&(this._displayStyle=null),this.iframe.style.display="none"},disable:function(){this.element.removeAttribute("contentEditable"),this.base()},enable:function(){this.element.setAttribute("contentEditable","true"),this.base()},focus:function(e){r.browser.doesAsyncFocus()&&this.hasPlaceholderSet()&&this.clear(),this.base();var t=this.element.lastChild;e&&t&&("BR"===t.nodeName?this.selection.setBefore(this.element.lastChild):this.selection.setAfter(this.element.lastChild))},getTextContent:function(){return l.getTextContent(this.element)},hasPlaceholderSet:function(){return this.getTextContent()==this.textarea.element.getAttribute("placeholder")},isEmpty:function(){var e=this.element.innerHTML;return""===e||e===this.CARET_HACK||this.hasPlaceholderSet()||""===this.getTextContent()&&!this.element.querySelector("blockquote, ul, ol, img, embed, object, table, iframe, svg, video, audio, button, input, select, textarea")},_initSandbox:function(){var e=this;this.sandbox=new l.Sandbox(function(){e._create()},{stylesheets:this.config.stylesheets}),this.iframe=this.sandbox.getIframe();var t=document.createElement("input");t.type="hidden",t.name="_wysihtml5_mode",t.value=1;var i=this.textarea.element;l.insert(this.iframe).after(i),l.insert(t).after(i)},_create:function(){var e=this;this.doc=this.sandbox.getDocument(),this.element=this.doc.body,this.textarea=this.parent.textarea,this.element.innerHTML=this.textarea.getValue(!0),this.enable(),this.selection=new r.Selection(this.parent),this.commands=new r.Commands(this.parent),l.copyAttributes("className spellcheck title lang dir accessKey".split(" ")).from(this.textarea.element).to(this.element),l.addClass(this.element,this.config.composerClassName),this.config.style&&this.style(),this.observe();var t=this.config.name;t&&(l.addClass(this.element,t),l.addClass(this.iframe,t)),(t="string"==typeof this.config.placeholder?this.config.placeholder:this.textarea.element.getAttribute("placeholder"))&&l.simulatePlaceholder(this.parent,this,t),this.commands.exec("styleWithCSS",!1),this._initAutoLinking(),this._initObjectResizing(),this._initUndoManager(),!this.textarea.element.hasAttribute("autofocus")&&document.querySelector(":focus")!=this.textarea.element||setTimeout(function(){e.focus()},100),r.quirks.insertLineBreakOnReturn(this),i.clearsContentEditableCorrectly()||r.quirks.ensureProperClearing(this),i.clearsListsInContentEditableCorrectly()||r.quirks.ensureProperClearingOfLists(this),this.initSync&&this.config.sync&&this.initSync(),this.textarea.hide(),this.parent.fire("beforeload").fire("load")},_initAutoLinking:function(){var n=this,e=i.canDisableAutoLinking(),t=i.doesAutoLinkingInContentEditable();if(e&&this.commands.exec("autoUrlDetect",!1),this.config.autoLink){(!t||t&&e)&&this.parent.observe("newword:composer",function(){n.selection.executeAndRestore(function(e,t){l.autoLink(t.parentNode)})});function s(e){return"www."===(e=r.lang.string(l.getTextContent(e)).trim()).substr(0,4)&&(e="http://"+e),e}var a=this.sandbox.getDocument().getElementsByTagName("a"),o=l.autoLink.URL_REG_EXP;l.observe(this.element,"keydown",function(e){if(a.length){e=n.selection.getSelectedNode(e.target.ownerDocument);var t,i=l.getParentElement(e,{nodeName:"A"},4);i&&(t=s(i),setTimeout(function(){var e=s(i);e!==t&&e.match(o)&&i.setAttribute("href",e)},0))}})}},_initObjectResizing:function(){var s=["width","height"],a=s.length,o=this.element;this.commands.exec("enableObjectResizing",this.config.allowObjectResizing),this.config.allowObjectResizing?i.supportsEvent("resizeend")&&l.observe(o,"resizeend",function(e){for(var t,i=(e=e.target||e.srcElement).style,n=0;n<a;n++)i[t=s[n]]&&(e.setAttribute(t,parseInt(i[t],10)),i[t]="");r.quirks.redraw(o)}):i.supportsEvent("resizestart")&&l.observe(o,"resizestart",function(e){e.preventDefault()})},_initUndoManager:function(){new r.UndoManager(this.parent)}})}(wysihtml5),function(r){var l=r.dom,h=document,c=window,u=h.createElement("div"),d="background-color color cursor font-family font-size font-style font-variant font-weight line-height letter-spacing text-align text-decoration text-indent text-rendering word-break word-wrap word-spacing".split(" "),p="background-color border-collapse border-bottom-color border-bottom-style border-bottom-width border-left-color border-left-style border-left-width border-right-color border-right-style border-right-width border-top-color border-top-style border-top-width clear display float margin-bottom margin-left margin-right margin-top outline-color outline-offset outline-width outline-style padding-left padding-right padding-top padding-bottom position top left right bottom z-index vertical-align text-align -webkit-box-sizing -moz-box-sizing -ms-box-sizing box-sizing -webkit-box-shadow -moz-box-shadow -ms-box-shadow box-shadow -webkit-border-top-right-radius -moz-border-radius-topright border-top-right-radius -webkit-border-bottom-right-radius -moz-border-radius-bottomright border-bottom-right-radius -webkit-border-bottom-left-radius -moz-border-radius-bottomleft border-bottom-left-radius -webkit-border-top-left-radius -moz-border-radius-topleft border-top-left-radius width height".split(" "),f="width height top left right bottom".split(" "),g=["html             { height: 100%; }","body             { min-height: 100%; padding: 0; margin: 0; margin-top: -1px; padding-top: 1px; }","._wysihtml5-temp { display: none; }",r.browser.isGecko?"body.placeholder { color: graytext !important; }":"body.placeholder { color: #a9a9a9 !important; }","body[disabled]   { background-color: #eee !important; color: #999 !important; cursor: default !important; }","img:-moz-broken  { -moz-force-broken-image-icon: 1; height: 24px; width: 24px; }"];r.views.Composer.prototype.style=function(){var i=this,e=h.querySelector(":focus"),n=this.textarea.element,t=n.hasAttribute("placeholder"),s=t&&n.getAttribute("placeholder");this.focusStylesHost=this.focusStylesHost||u.cloneNode(!1),this.blurStylesHost=this.blurStylesHost||u.cloneNode(!1),t&&n.removeAttribute("placeholder"),n===e&&n.blur(),l.copyStyles(p).from(n).to(this.iframe).andTo(this.blurStylesHost),l.copyStyles(d).from(n).to(this.element).andTo(this.blurStylesHost),l.insertCSS(g).into(this.element.ownerDocument),function(e){if(e.setActive)try{e.setActive()}catch(e){}else{var t=e.style,i=h.documentElement.scrollTop||h.body.scrollTop,n=h.documentElement.scrollLeft||h.body.scrollLeft;t={position:t.position,top:t.top,left:t.left,WebkitUserSelect:t.WebkitUserSelect};l.setStyles({position:"absolute",top:"-99999px",left:"-99999px",WebkitUserSelect:"none"}).on(e),e.focus(),l.setStyles(t).on(e),c.scrollTo&&c.scrollTo(n,i)}}(n),l.copyStyles(p).from(n).to(this.focusStylesHost),l.copyStyles(d).from(n).to(this.focusStylesHost);var a=r.lang.array(p).without(["display"]);if(e?e.focus():n.blur(),t&&n.setAttribute("placeholder",s),!r.browser.hasCurrentStyleProperty())var o=l.observe(c,"resize",function(){if(l.contains(document.documentElement,i.iframe)){var e=l.getStyle("display").from(n),t=l.getStyle("display").from(i.iframe);n.style.display="",i.iframe.style.display="none",l.copyStyles(f).from(n).to(i.iframe).andTo(i.focusStylesHost).andTo(i.blurStylesHost),i.iframe.style.display=t,n.style.display=e}else o.stop()});return this.parent.observe("focus:composer",function(){l.copyStyles(a).from(i.focusStylesHost).to(i.iframe),l.copyStyles(d).from(i.focusStylesHost).to(i.element)}),this.parent.observe("blur:composer",function(){l.copyStyles(a).from(i.blurStylesHost).to(i.iframe),l.copyStyles(d).from(i.blurStylesHost).to(i.element)}),this}}(wysihtml5),function(l){var h=l.dom,c=l.browser,u={66:"bold",73:"italic",85:"underline"};l.views.Composer.prototype.observe=function(){var n=this,e=this.getValue(),t=this.sandbox.getIframe(),s=this.element,i=c.supportsEventsInIframeCorrectly()?s:this.sandbox.getWindow(),a=c.supportsEvent("drop")?["drop","paste"]:["dragdrop","paste"];h.observe(t,"DOMNodeRemoved",function(){clearInterval(o),n.parent.fire("destroy:composer")});var o=setInterval(function(){h.contains(document.documentElement,t)||(clearInterval(o),n.parent.fire("destroy:composer"))},250);h.observe(i,"focus",function(){n.parent.fire("focus").fire("focus:composer"),setTimeout(function(){e=n.getValue()},0)}),h.observe(i,"blur",function(){e!==n.getValue()&&n.parent.fire("change").fire("change:composer"),n.parent.fire("blur").fire("blur:composer")}),l.browser.isIos()&&h.observe(s,"blur",function(){var t=s.ownerDocument.createElement("input"),e=document.documentElement.scrollTop||document.body.scrollTop,i=document.documentElement.scrollLeft||document.body.scrollLeft;try{n.selection.insertNode(t)}catch(e){s.appendChild(t)}t.focus(),t.parentNode.removeChild(t),window.scrollTo(i,e)}),h.observe(s,"dragenter",function(){n.parent.fire("unset_placeholder")}),c.firesOnDropOnlyWhenOnDragOverIsCancelled()&&h.observe(s,["dragover","dragenter"],function(e){e.preventDefault()}),h.observe(s,a,function(e){var t,i=e.dataTransfer;i&&c.supportsDataTransfer()&&(t=i.getData("text/html")||i.getData("text/plain")),t?(s.focus(),n.commands.exec("insertHTML",t),n.parent.fire("paste").fire("paste:composer"),e.stopPropagation(),e.preventDefault()):setTimeout(function(){n.parent.fire("paste").fire("paste:composer")},0)}),h.observe(s,"keyup",function(e){(e=e.keyCode)!==l.SPACE_KEY&&e!==l.ENTER_KEY||n.parent.fire("newword:composer")}),this.parent.observe("paste:composer",function(){setTimeout(function(){n.parent.fire("newword:composer")},0)}),c.canSelectImagesInContentEditable()||h.observe(s,"mousedown",function(e){var t=e.target;"IMG"===t.nodeName&&(n.selection.selectNode(t),e.preventDefault())}),h.observe(s,"keydown",function(e){var t=u[e.keyCode];(e.ctrlKey||e.metaKey)&&!e.altKey&&t&&(n.commands.exec(t),e.preventDefault())}),h.observe(s,"keydown",function(e){var t=n.selection.getSelectedNode(!0),i=e.keyCode;!t||"IMG"!==t.nodeName||i!==l.BACKSPACE_KEY&&i!==l.DELETE_KEY||((i=t.parentNode).removeChild(t),"A"!==i.nodeName||i.firstChild||i.parentNode.removeChild(i),setTimeout(function(){l.quirks.redraw(s)},0),e.preventDefault())});var r={IMG:"Image: ",A:"Link: "};h.observe(s,"mouseover",function(e){var t=(e=e.target).nodeName;"A"!==t&&"IMG"!==t||e.hasAttribute("title")||(t=r[t]+(e.getAttribute("href")||e.getAttribute("src")),e.setAttribute("title",t))})}}(wysihtml5),function(a){a.views.Synchronizer=Base.extend({constructor:function(e,t,i){this.editor=e,this.textarea=t,this.composer=i,this._observe()},fromComposerToTextarea:function(e){this.textarea.setValue(a.lang.string(this.composer.getValue()).trim(),e)},fromTextareaToComposer:function(e){var t=this.textarea.getValue();t?this.composer.setValue(t,e):(this.composer.clear(),this.editor.fire("set_placeholder"))},sync:function(e){"textarea"===this.editor.currentView.name?this.fromTextareaToComposer(e):this.fromComposerToTextarea(e)},_observe:function(){function t(){n=setInterval(function(){s.fromComposerToTextarea()},400)}function i(){clearInterval(n),n=null}var n,s=this,e=this.textarea.element.form;t(),e&&(a.dom.observe(e,"submit",function(){s.sync(!0)}),a.dom.observe(e,"reset",function(){setTimeout(function(){s.fromTextareaToComposer()},0)})),this.editor.observe("change_view",function(e){"composer"!==e||n?"textarea"===e&&(s.fromComposerToTextarea(!0),i()):(s.fromTextareaToComposer(!0),t())}),this.editor.observe("destroy:composer",i)}})}(wysihtml5),wysihtml5.views.Textarea=wysihtml5.views.View.extend({name:"textarea",constructor:function(e,t,i){this.base(e,t,i),this._observe()},clear:function(){this.element.value=""},getValue:function(e){var t=this.isEmpty()?"":this.element.value;return e&&(t=this.parent.parse(t)),t},setValue:function(e,t){t&&(e=this.parent.parse(e)),this.element.value=e},hasPlaceholderSet:function(){var e=wysihtml5.browser.supportsPlaceholderAttributeOn(this.element),t=this.element.getAttribute("placeholder")||null,i=this.element.value;return e&&!i||i===t},isEmpty:function(){return!wysihtml5.lang.string(this.element.value).trim()||this.hasPlaceholderSet()},_observe:function(){var e=this.element,t=this.parent,i={focusin:"focus",focusout:"blur"},n=wysihtml5.browser.supportsEvent("focusin")?["focusin","focusout","change"]:["focus","blur","change"];t.observe("beforeload",function(){wysihtml5.dom.observe(e,n,function(e){e=i[e.type]||e.type,t.fire(e).fire(e+":textarea")}),wysihtml5.dom.observe(e,["paste","drop"],function(){setTimeout(function(){t.fire("paste").fire("paste:textarea")},0)})})}}),function(o){var r=o.dom;o.toolbar.Dialog=o.lang.Dispatcher.extend({constructor:function(e,t){this.link=e,this.container=t},_observe:function(){if(!this._observed){function i(e){var t=n._serialize();t==n.elementToChange?n.fire("edit",t):n.fire("save",t),n.hide(),e.preventDefault(),e.stopPropagation()}var n=this;r.observe(n.link,"click",function(){r.hasClass(n.link,"wysihtml5-command-dialog-opened")&&setTimeout(function(){n.hide()},0)}),r.observe(this.container,"keydown",function(e){var t=e.keyCode;t===o.ENTER_KEY&&i(e),t===o.ESCAPE_KEY&&n.hide()}),r.delegate(this.container,"[data-wysihtml5-dialog-action=save]","click",i),r.delegate(this.container,"[data-wysihtml5-dialog-action=cancel]","click",function(e){n.fire("cancel"),n.hide(),e.preventDefault(),e.stopPropagation()});function e(){clearInterval(n.interval)}for(var t=this.container.querySelectorAll("input, select, textarea"),s=0,a=t.length;s<a;s++)r.observe(t[s],"change",e);this._observed=!0}},_serialize:function(){for(var e=this.elementToChange||{},t=this.container.querySelectorAll("[data-wysihtml5-dialog-field]"),i=t.length,n=0;n<i;n++)e[t[n].getAttribute("data-wysihtml5-dialog-field")]=t[n].value;return e},_interpolate:function(e){for(var t,i,n=document.querySelector(":focus"),s=this.container.querySelectorAll("[data-wysihtml5-dialog-field]"),a=s.length,o=0;o<a;o++)(t=s[o])===n||e&&"hidden"===t.type||(i=t.getAttribute("data-wysihtml5-dialog-field"),i=this.elementToChange?this.elementToChange[i]||"":t.defaultValue,t.value=i)},show:function(e){var t=this,i=this.container.querySelector("input, select, textarea");if(this.elementToChange=e,this._observe(),this._interpolate(),e&&(this.interval=setInterval(function(){t._interpolate(!0)},500)),r.addClass(this.link,"wysihtml5-command-dialog-opened"),this.container.style.display="",this.fire("show"),i&&!e)try{i.focus()}catch(e){}},hide:function(){clearInterval(this.interval),this.elementToChange=null,r.removeClass(this.link,"wysihtml5-command-dialog-opened"),this.container.style.display="none",this.fire("hide")}})}(wysihtml5),function(s){var a=s.dom,o={position:"relative"},r={left:0,margin:0,opacity:0,overflow:"hidden",padding:0,position:"absolute",top:0,zIndex:1},l={cursor:"inherit",fontSize:"50px",height:"50px",marginTop:"-25px",outline:0,padding:0,position:"absolute",right:"-4px",top:"50%"},h={"x-webkit-speech":"",speech:""};s.toolbar.Speech=function(e,t){var i=document.createElement("input");if(s.browser.supportsSpeechApiOn(i)){var n=document.createElement("div");s.lang.object(r).merge({width:t.offsetWidth+"px",height:t.offsetHeight+"px"}),a.insert(i).into(n),a.insert(n).into(t),a.setStyles(l).on(i),a.setAttributes(h).on(i),a.setStyles(r).on(n),a.setStyles(o).on(t),a.observe(i,"onwebkitspeechchange"in i?"webkitspeechchange":"speechchange",function(){e.execCommand("insertText",i.value),i.value=""}),a.observe(i,"click",function(e){a.hasClass(t,"wysihtml5-command-disabled")&&e.preventDefault(),e.stopPropagation()})}else t.style.display="none"}}(wysihtml5),function(c){var o=c.dom;c.toolbar.Toolbar=Base.extend({constructor:function(e,t){this.editor=e,this.container="string"==typeof t?document.getElementById(t):t,this.composer=e.composer,this._getLinks("command"),this._getLinks("action"),this._observe(),this.show();for(var i=this.container.querySelectorAll("[data-wysihtml5-command=insertSpeech]"),n=i.length,s=0;s<n;s++)new c.toolbar.Speech(this,i[s])},_getLinks:function(e){for(var t,i,n,s,a,o=this[e+"Links"]=c.lang.array(this.container.querySelectorAll("[data-wysihtml5-"+e+"]")).get(),r=o.length,l=0,h=this[e+"Mapping"]={};l<r;l++)n=(t=o[l]).getAttribute("data-wysihtml5-"+e),s=t.getAttribute("data-wysihtml5-"+e+"-value"),i=this.container.querySelector("[data-wysihtml5-"+e+"-group='"+n+"']"),a=this._getDialog(t,n),h[n+":"+s]={link:t,group:i,name:n,value:s,dialog:a,state:!1}},_getDialog:function(t,i){var e,n,s=this,a=this.container.querySelector("[data-wysihtml5-dialog='"+i+"']");return a&&((e=new c.toolbar.Dialog(t,a)).observe("show",function(){n=s.composer.selection.getBookmark(),s.editor.fire("show:dialog",{command:i,dialogContainer:a,commandLink:t})}),e.observe("save",function(e){n&&s.composer.selection.setBookmark(n),s._execCommand(i,e),s.editor.fire("save:dialog",{command:i,dialogContainer:a,commandLink:t})}),e.observe("cancel",function(){s.editor.focus(!1),s.editor.fire("cancel:dialog",{command:i,dialogContainer:a,commandLink:t})})),e},execCommand:function(e,t){if(!this.commandsDisabled){var i=this.commandMapping[e+":"+t];i&&i.dialog&&!i.state?i.dialog.show():this._execCommand(e,t)}},_execCommand:function(e,t){this.editor.focus(!1),this.composer.commands.exec(e,t),this._updateLinkStates()},execAction:function(e){var t=this.editor;switch(e){case"change_view":t.currentView===t.textarea?t.fire("change_view","composer"):t.fire("change_view","textarea")}},_observe:function(){for(var n=this,e=this.editor,t=this.container,i=this.commandLinks.concat(this.actionLinks),s=i.length,a=0;a<s;a++)o.setAttributes({href:"javascript:;",unselectable:"on"}).on(i[a]);o.delegate(t,"[data-wysihtml5-command]","mousedown",function(e){e.preventDefault()}),o.delegate(t,"[data-wysihtml5-command]","click",function(e){var t=this.getAttribute("data-wysihtml5-command"),i=this.getAttribute("data-wysihtml5-command-value");n.execCommand(t,i),e.preventDefault()}),o.delegate(t,"[data-wysihtml5-action]","click",function(e){var t=this.getAttribute("data-wysihtml5-action");n.execAction(t),e.preventDefault()}),e.observe("focus:composer",function(){n.bookmark=null,clearInterval(n.interval),n.interval=setInterval(function(){n._updateLinkStates()},500)}),e.observe("blur:composer",function(){clearInterval(n.interval)}),e.observe("destroy:composer",function(){clearInterval(n.interval)}),e.observe("change_view",function(e){setTimeout(function(){n.commandsDisabled="composer"!==e,n._updateLinkStates(),n.commandsDisabled?o.addClass(t,"wysihtml5-commands-disabled"):o.removeClass(t,"wysihtml5-commands-disabled")},0)})},_updateLinkStates:function(){var e,t,i,n=this.commandMapping,s=this.actionMapping;for(e in n)i=n[e],this.commandsDisabled?(t=!1,o.removeClass(i.link,"wysihtml5-command-active"),i.group&&o.removeClass(i.group,"wysihtml5-command-active"),i.dialog&&i.dialog.hide()):(t=this.composer.commands.state(i.name,i.value),c.lang.object(t).isArray()&&(t=1!==t.length||t[0]),o.removeClass(i.link,"wysihtml5-command-disabled"),i.group&&o.removeClass(i.group,"wysihtml5-command-disabled")),i.state!==t&&((i.state=t)?(o.addClass(i.link,"wysihtml5-command-active"),i.group&&o.addClass(i.group,"wysihtml5-command-active"),i.dialog&&("object"==typeof t?i.dialog.show(t):i.dialog.hide())):(o.removeClass(i.link,"wysihtml5-command-active"),i.group&&o.removeClass(i.group,"wysihtml5-command-active"),i.dialog&&i.dialog.hide()));for(e in s)"change_view"===(n=s[e]).name&&(n.state=this.editor.currentView===this.editor.textarea,n.state?o.addClass(n.link,"wysihtml5-action-active"):o.removeClass(n.link,"wysihtml5-action-active"))},show:function(){this.container.style.display=""},hide:function(){this.container.style.display="none"}})}(wysihtml5),function(n){var s={name:void 0,style:!0,toolbar:void 0,autoLink:!0,parserRules:{tags:{br:{},span:{},div:{},p:{}},classes:{}},parser:n.dom.parse,composerClassName:"wysihtml5-editor",bodyClassName:"wysihtml5-supported",stylesheets:[],placeholderText:void 0,allowObjectResizing:!0,supportTouchDevices:!0};n.Editor=n.lang.Dispatcher.extend({constructor:function(e,t){if(this.textareaElement="string"==typeof e?document.getElementById(e):e,this.config=n.lang.object({}).merge(s).merge(t).get(),this.currentView=this.textarea=new n.views.Textarea(this,this.textareaElement,this.config),this._isCompatible=n.browser.supported(),!this._isCompatible||!this.config.supportTouchDevices&&n.browser.isTouchDevice()){var i=this;setTimeout(function(){i.fire("beforeload").fire("load")},0)}else{n.dom.addClass(document.body,this.config.bodyClassName),this.currentView=this.composer=new n.views.Composer(this,this.textareaElement,this.config),"function"==typeof this.config.parser&&this._initParser(),this.observe("beforeload",function(){this.synchronizer=new n.views.Synchronizer(this,this.textarea,this.composer),this.config.toolbar&&(this.toolbar=new n.toolbar.Toolbar(this,this.config.toolbar))});try{console.log("Heya! This page is using wysihtml5 for rich text editing. Check out https://github.com/xing/wysihtml5")}catch(e){}}},isCompatible:function(){return this._isCompatible},clear:function(){return this.currentView.clear(),this},getValue:function(e){return this.currentView.getValue(e)},setValue:function(e,t){return e?(this.currentView.setValue(e,t),this):this.clear()},focus:function(e){return this.currentView.focus(e),this},disable:function(){return this.currentView.disable(),this},enable:function(){return this.currentView.enable(),this},isEmpty:function(){return this.currentView.isEmpty()},hasPlaceholderSet:function(){return this.currentView.hasPlaceholderSet()},parse:function(e){var t=this.config.parser(e,this.config.parserRules,this.composer.sandbox.getDocument(),!0);return"object"==typeof e&&n.quirks.redraw(e),t},_initParser:function(){this.observe("paste:composer",function(){var e=this;e.composer.selection.executeAndRestore(function(){n.quirks.cleanPastedHTML(e.composer.element),e.parse(e.composer.element)},!0)}),this.observe("paste:textarea",function(){this.textarea.setValue(this.parse(this.textarea.getValue()))})}})}(wysihtml5);var Handlebars=function(){var h=function(){"use strict";function e(e){this.string=e}return e.prototype.toString=function(){return""+this.string},e}(),l=function(){"use strict";function t(e){return n[e]||"&amp;"}var e={},i=h,n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},s=/[&<>"'`]/g,a=/[&<>"'`]/;e.extend=function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])};var o,r=Object.prototype.toString;e.toString=r,(o=function(e){return"function"==typeof e})(/x/)&&(o=function(e){return"function"==typeof e&&"[object Function]"===r.call(e)}),e.isFunction=o;var l=Array.isArray||function(e){return!(!e||"object"!=typeof e)&&"[object Array]"===r.call(e)};return e.isArray=l,e.escapeExpression=function(e){return e instanceof i?e.toString():e||0===e?(e=""+e,a.test(e)?e.replace(s,t):e):""},e.isEmpty=function(e){return!e&&0!==e||!(!l(e)||0!==e.length)},e}(),d=function(){"use strict";function e(e,t){var i;t&&t.firstLine&&(e+=" - "+(i=t.firstLine)+":"+t.firstColumn);for(var n=Error.prototype.constructor.call(this,e),s=0;s<a.length;s++)this[a[s]]=n[a[s]];i&&(this.lineNumber=i,this.column=t.firstColumn)}var a=["description","fileName","lineNumber","message","name","number","stack"];return e.prototype=new Error,e}(),r=function(){"use strict";function e(e,t){var s;this.helpers=e||{},this.partials=t||{},(s=this).registerHelper("helperMissing",function(e){if(2!==arguments.length)throw new a("Missing helper: '"+e+"'")}),s.registerHelper("blockHelperMissing",function(e,t){var i=t.inverse||function(){},n=t.fn;return c(e)&&(e=e.call(this)),!0===e?n(this):!1===e||null==e?i(this):h(e)?0<e.length?s.helpers.each(e,t):i(this):n(e)}),s.registerHelper("each",function(e,t){var i,n=t.fn,s=t.inverse,a=0,o="";if(c(e)&&(e=e.call(this)),t.data&&(i=u(t.data)),e&&"object"==typeof e)if(h(e))for(var r=e.length;a<r;a++)i&&(i.index=a,i.first=0===a,i.last=a===e.length-1),o+=n(e[a],{data:i});else for(var l in e)e.hasOwnProperty(l)&&(i&&(i.key=l,i.index=a,i.first=0===a),o+=n(e[l],{data:i}),a++);return 0===a&&(o=s(this)),o}),s.registerHelper("if",function(e,t){return c(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||n.isEmpty(e)?t.inverse(this):t.fn(this)}),s.registerHelper("unless",function(e,t){return s.helpers.if.call(this,e,{fn:t.inverse,inverse:t.fn,hash:t.hash})}),s.registerHelper("with",function(e,t){return c(e)&&(e=e.call(this)),n.isEmpty(e)?void 0:t.fn(e)}),s.registerHelper("log",function(e,t){var i=t.data&&null!=t.data.level?parseInt(t.data.level,10):1;s.log(i,e)})}function t(e,t){r.log(e,t)}var i={},n=l,a=d;i.VERSION="1.3.0";i.COMPILER_REVISION=4;i.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};var h=n.isArray,c=n.isFunction,s=n.toString,o="[object Object]";(i.HandlebarsEnvironment=e).prototype={constructor:e,logger:r,log:t,registerHelper:function(e,t,i){if(s.call(e)===o){if(i||t)throw new a("Arg not supported with multiple helpers");n.extend(this.helpers,e)}else i&&(t.not=i),this.helpers[e]=t},registerPartial:function(e,t){s.call(e)===o?n.extend(this.partials,e):this.partials[e]=t}};var r={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(e,t){if(r.level<=e){var i=r.methodMap[e];"undefined"!=typeof console&&console[i]&&console[i].call(console,t)}}};i.logger=r,i.log=t;var u=function(e){var t={};return n.extend(t,e),t};return i.createFrame=u,i}(),c=function(){"use strict";function s(e,i,n){function t(e,t){return i(e,(t=t||{}).data||n)}return t.program=e,t.depth=0,t}var e={},n=l,h=d,a=r.COMPILER_REVISION,o=r.REVISION_CHANGES;return e.checkRevision=function(e){var t=e&&e[0]||1;if(t!==a){if(t<a){var i=o[a],n=o[t];throw new h("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+n+").")}throw new h("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}},e.template=function(o,l){if(!l)throw new h("No environment passed to template");var r={escapeExpression:n.escapeExpression,invokePartial:function(e,t,i,n,s,a){var o=l.VM.invokePartial.apply(this,arguments);if(null!=o)return o;if(l.compile){var r={helpers:n,partials:s,data:a};return s[t]=l.compile(e,{data:void 0!==a},l),s[t](i,r)}throw new h("The partial "+t+" could not be compiled when running in runtime-only mode")},programs:[],program:function(e,t,i){var n=this.programs[e];return n=i?s(e,t,i):n||(this.programs[e]=s(e,t))},merge:function(e,t){var i=e||t;return e&&t&&e!==t&&(i={},n.extend(i,t),n.extend(i,e)),i},programWithDepth:l.VM.programWithDepth,noop:l.VM.noop,compilerInfo:null};return function(e,t){var i,n,s=(t=t||{}).partial?t:l;t.partial||(i=t.helpers,n=t.partials);var a=o.call(r,s,e,i,n,t.data);return t.partial||l.VM.checkRevision(r.compilerInfo),a}},e.programWithDepth=function(e,i,n){function t(e,t){return t=t||{},i.apply(this,[e,t.data||n].concat(s))}var s=Array.prototype.slice.call(arguments,3);return t.program=e,t.depth=s.length,t},e.program=s,e.invokePartial=function(e,t,i,n,s,a){var o={partial:!0,helpers:n,partials:s,data:a};if(void 0===e)throw new h("The partial "+t+" could not be found");return e instanceof Function?e(i,o):void 0},e.noop=function(){return""},e}();return function(){"use strict";function e(){var t=new i.HandlebarsEnvironment;return a.extend(t,i),t.SafeString=n,t.Exception=s,t.Utils=a,t.VM=o,t.template=function(e){return o.template(e,t)},t}var i=r,n=h,s=d,a=l,o=c,t=e();return t.create=e,t}()}(),glob="undefined"==typeof window?global:window,Handlebars=glob.Handlebars||require("handlebars");this.wysihtml5=this.wysihtml5||{},this.wysihtml5.tpl=this.wysihtml5.tpl||{},this.wysihtml5.tpl.blockquote=Handlebars.template(function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var a,o,r="",l="function",h=this.escapeExpression;return r+='<li>\n  <a class="btn ',!(o=i.if.call(t,null==(a=t&&t.options)||!1===a?a:a.size,{hash:{},inverse:this.noop,fn:this.program(1,function(e){var t;return""+"btn-"+h(typeof(t=null==(t=e&&e.options)||!1===t?t:t.size)===l?t.apply(e):t)},s),data:s}))&&0!==o||(r+=o),r+' btn-default" data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="blockquote" data-wysihtml5-display-format-name="false" tabindex="-1">\n    <span class="fa fa-quote-left"></span>\n  </a>\n</li>\n'}),this.wysihtml5.tpl.color=Handlebars.template(function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var a,o,r="",l="function",h=this.escapeExpression;return r+='<li class="dropdown">\n  <a class="btn btn-default dropdown-toggle ',!(o=i.if.call(t,null==(a=t&&t.options)||!1===a?a:a.size,{hash:{},inverse:this.noop,fn:this.program(1,function(e){var t;return""+"btn-"+h(typeof(t=null==(t=e&&e.options)||!1===t?t:t.size)===l?t.apply(e):t)},s),data:s}))&&0!==o||(r+=o),r+'" data-toggle="dropdown" tabindex="-1">\n    <span class="current-color">'+h(typeof(a=null==(a=null==(a=t&&t.locale)||!1===a?a:a.colours)||!1===a?a:a.black)===l?a.apply(t):a)+'</span>\n    <b class="caret"></b>\n  </a>\n  <ul class="dropdown-menu">\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="black"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="black">'+h(typeof(a=null==(a=null==(a=t&&t.locale)||!1===a?a:a.colours)||!1===a?a:a.black)===l?a.apply(t):a)+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="silver"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="silver">'+h(typeof(a=null==(a=null==(a=t&&t.locale)||!1===a?a:a.colours)||!1===a?a:a.silver)===l?a.apply(t):a)+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="gray"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="gray">'+h(typeof(a=null==(a=null==(a=t&&t.locale)||!1===a?a:a.colours)||!1===a?a:a.gray)===l?a.apply(t):a)+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="maroon"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="maroon">'+h(typeof(a=null==(a=null==(a=t&&t.locale)||!1===a?a:a.colours)||!1===a?a:a.maroon)===l?a.apply(t):a)+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="red"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="red">'+h(typeof(a=null==(a=null==(a=t&&t.locale)||!1===a?a:a.colours)||!1===a?a:a.red)===l?a.apply(t):a)+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="purple"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="purple">'+h(typeof(a=null==(a=null==(a=t&&t.locale)||!1===a?a:a.colours)||!1===a?a:a.purple)===l?a.apply(t):a)+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="green"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="green">'+h(typeof(a=null==(a=null==(a=t&&t.locale)||!1===a?a:a.colours)||!1===a?a:a.green)===l?a.apply(t):a)+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="olive"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="olive">'+h(typeof(a=null==(a=null==(a=t&&t.locale)||!1===a?a:a.colours)||!1===a?a:a.olive)===l?a.apply(t):a)+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="navy"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="navy">'+h(typeof(a=null==(a=null==(a=t&&t.locale)||!1===a?a:a.colours)||!1===a?a:a.navy)===l?a.apply(t):a)+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="blue"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="blue">'+h(typeof(a=null==(a=null==(a=t&&t.locale)||!1===a?a:a.colours)||!1===a?a:a.blue)===l?a.apply(t):a)+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="orange"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="orange">'+h(typeof(a=null==(a=null==(a=t&&t.locale)||!1===a?a:a.colours)||!1===a?a:a.orange)===l?a.apply(t):a)+"</a></li>\n  </ul>\n</li>\n"}),this.wysihtml5.tpl.emphasis=Handlebars.template(function(e,t,a,i,n){function o(e){var t;return""+"btn-"+c(typeof(t=null==(t=e&&e.options)||!1===t?t:t.size)===h?t.apply(e):t)}this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),n=n||{};var s,r,l="",h="function",c=this.escapeExpression,u=this;return l+='<li>\n  <div class="btn-group">\n    <a class="btn ',!(r=a.if.call(t,null==(s=t&&t.options)||!1===s?s:s.size,{hash:{},inverse:u.noop,fn:u.program(1,o,n),data:n}))&&0!==r||(l+=r),l+=' btn-default" data-wysihtml5-command="bold" title="CTRL+B" tabindex="-1">'+c(typeof(s=null==(s=null==(s=t&&t.locale)||!1===s?s:s.emphasis)||!1===s?s:s.bold)===h?s.apply(t):s)+'</a>\n    <a class="btn ',!(r=a.if.call(t,null==(s=t&&t.options)||!1===s?s:s.size,{hash:{},inverse:u.noop,fn:u.program(1,o,n),data:n}))&&0!==r||(l+=r),l+=' btn-default" data-wysihtml5-command="italic" title="CTRL+I" tabindex="-1">'+c(typeof(s=null==(s=null==(s=t&&t.locale)||!1===s?s:s.emphasis)||!1===s?s:s.italic)===h?s.apply(t):s)+'</a>\n    <a class="btn ',!(r=a.if.call(t,null==(s=t&&t.options)||!1===s?s:s.size,{hash:{},inverse:u.noop,fn:u.program(1,o,n),data:n}))&&0!==r||(l+=r),l+=' btn-default" data-wysihtml5-command="underline" title="CTRL+U" tabindex="-1">'+c(typeof(s=null==(s=null==(s=t&&t.locale)||!1===s?s:s.emphasis)||!1===s?s:s.underline)===h?s.apply(t):s)+"</a>\n    ",!(r=a.if.call(t,null==(s=t&&t.options)||!1===s?s:s.emSmall,{hash:{},inverse:u.noop,fn:u.program(3,function(e,t){var i,n,s="";return s+='\n    <a class="btn ',!(n=a.if.call(e,null==(i=e&&e.options)||!1===i?i:i.size,{hash:{},inverse:u.noop,fn:u.program(1,o,t),data:t}))&&0!==n||(s+=n),s+' btn-default" data-wysihtml5-command="small" title="CTRL+S" tabindex="-1">'+c(typeof(i=null==(i=null==(i=e&&e.locale)||!1===i?i:i.emphasis)||!1===i?i:i.small)===h?i.apply(e):i)+"</a>\n    "},n),data:n}))&&0!==r||(l+=r),l+"\n  </div>\n</li>\n"}),this.wysihtml5.tpl["font-styles"]=Handlebars.template(function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var a,o,r="",l="function",h=this.escapeExpression;return r+='<li class="dropdown">\n  <a class="btn btn-default dropdown-toggle ',!(o=i.if.call(t,null==(a=t&&t.options)||!1===a?a:a.size,{hash:{},inverse:this.noop,fn:this.program(1,function(e){var t;return""+"btn-"+h(typeof(t=null==(t=e&&e.options)||!1===t?t:t.size)===l?t.apply(e):t)},s),data:s}))&&0!==o||(r+=o),r+'" data-toggle="dropdown">\n    <span class="fa fa-font"></span>\n    <span class="current-font">'+h(typeof(a=null==(a=null==(a=t&&t.locale)||!1===a?a:a.font_styles)||!1===a?a:a.normal)===l?a.apply(t):a)+'</span>\n    <b class="caret"></b>\n  </a>\n  <ul class="dropdown-menu">\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="p" tabindex="-1">'+h(typeof(a=null==(a=null==(a=t&&t.locale)||!1===a?a:a.font_styles)||!1===a?a:a.normal)===l?a.apply(t):a)+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h1" tabindex="-1">'+h(typeof(a=null==(a=null==(a=t&&t.locale)||!1===a?a:a.font_styles)||!1===a?a:a.h1)===l?a.apply(t):a)+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h2" tabindex="-1">'+h(typeof(a=null==(a=null==(a=t&&t.locale)||!1===a?a:a.font_styles)||!1===a?a:a.h2)===l?a.apply(t):a)+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h3" tabindex="-1">'+h(typeof(a=null==(a=null==(a=t&&t.locale)||!1===a?a:a.font_styles)||!1===a?a:a.h3)===l?a.apply(t):a)+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h4" tabindex="-1">'+h(typeof(a=null==(a=null==(a=t&&t.locale)||!1===a?a:a.font_styles)||!1===a?a:a.h4)===l?a.apply(t):a)+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h5" tabindex="-1">'+h(typeof(a=null==(a=null==(a=t&&t.locale)||!1===a?a:a.font_styles)||!1===a?a:a.h5)===l?a.apply(t):a)+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h6" tabindex="-1">'+h(typeof(a=null==(a=null==(a=t&&t.locale)||!1===a?a:a.font_styles)||!1===a?a:a.h6)===l?a.apply(t):a)+"</a></li>\n  </ul>\n</li>\n"}),this.wysihtml5.tpl.html=Handlebars.template(function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var a,o,r="",l="function",h=this.escapeExpression;return r+='<li>\n  <div class="btn-group">\n    <a class="btn ',!(o=i.if.call(t,null==(a=t&&t.options)||!1===a?a:a.size,{hash:{},inverse:this.noop,fn:this.program(1,function(e){var t;return""+"btn-"+h(typeof(t=null==(t=e&&e.options)||!1===t?t:t.size)===l?t.apply(e):t)},s),data:s}))&&0!==o||(r+=o),r+' btn-default" data-wysihtml5-action="change_view" title="'+h(typeof(a=null==(a=null==(a=t&&t.locale)||!1===a?a:a.html)||!1===a?a:a.edit)===l?a.apply(t):a)+'" tabindex="-1">\n      <span class="fa fa-pencil"></span>\n    </a>\n  </div>\n</li>\n'}),this.wysihtml5.tpl.image=Handlebars.template(function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var a,o,r="",l="function",h=this.escapeExpression;return r+='<li>\n  <div class="bootstrap-wysihtml5-insert-image-modal modal fade">\n    <div class="modal-dialog">\n      <div class="modal-content">\n        <div class="modal-header">\n          <a class="close" data-dismiss="modal">&times;</a>\n          <h3>'+h(typeof(a=null==(a=null==(a=t&&t.locale)||!1===a?a:a.image)||!1===a?a:a.insert)===l?a.apply(t):a)+'</h3>\n        </div>\n        <div class="modal-body">\n          <input value="http://" class="bootstrap-wysihtml5-insert-image-url form-control">\n        </div>\n        <div class="modal-footer">\n          <a class="btn btn-default" data-dismiss="modal">'+h(typeof(a=null==(a=null==(a=t&&t.locale)||!1===a?a:a.image)||!1===a?a:a.cancel)===l?a.apply(t):a)+'</a>\n          <a class="btn btn-primary" data-dismiss="modal">'+h(typeof(a=null==(a=null==(a=t&&t.locale)||!1===a?a:a.image)||!1===a?a:a.insert)===l?a.apply(t):a)+'</a>\n        </div>\n      </div>\n    </div>\n  </div>\n  <a class="btn ',!(o=i.if.call(t,null==(a=t&&t.options)||!1===a?a:a.size,{hash:{},inverse:this.noop,fn:this.program(1,function(e){var t;return""+"btn-"+h(typeof(t=null==(t=e&&e.options)||!1===t?t:t.size)===l?t.apply(e):t)},s),data:s}))&&0!==o||(r+=o),r+' btn-default" data-wysihtml5-command="insertImage" title="'+h(typeof(a=null==(a=null==(a=t&&t.locale)||!1===a?a:a.image)||!1===a?a:a.insert)===l?a.apply(t):a)+'" tabindex="-1">\n    <span class="fa fa-picture-o"></span>\n  </a>\n</li>\n'}),this.wysihtml5.tpl.link=Handlebars.template(function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var a,o,r="",l="function",h=this.escapeExpression;return r+='<li>\n  <div class="bootstrap-wysihtml5-insert-link-modal modal fade">\n    <div class="modal-dialog">\n      <div class="modal-content">\n        <div class="modal-header">\n          <a class="close" data-dismiss="modal">&times;</a>\n          <h3>'+h(typeof(a=null==(a=null==(a=t&&t.locale)||!1===a?a:a.link)||!1===a?a:a.insert)===l?a.apply(t):a)+'</h3>\n        </div>\n        <div class="modal-body">\n          <input value="http://" class="bootstrap-wysihtml5-insert-link-url form-control">\n          <label class="checkbox"> <input type="checkbox" class="bootstrap-wysihtml5-insert-link-target" checked>'+h(typeof(a=null==(a=null==(a=t&&t.locale)||!1===a?a:a.link)||!1===a?a:a.target)===l?a.apply(t):a)+'</label>\n        </div>\n        <div class="modal-footer">\n          <a class="btn btn-default" data-dismiss="modal">'+h(typeof(a=null==(a=null==(a=t&&t.locale)||!1===a?a:a.link)||!1===a?a:a.cancel)===l?a.apply(t):a)+'</a>\n          <a href="#" class="btn btn-primary" data-dismiss="modal">'+h(typeof(a=null==(a=null==(a=t&&t.locale)||!1===a?a:a.link)||!1===a?a:a.insert)===l?a.apply(t):a)+'</a>\n        </div>\n      </div>\n    </div>\n  </div>\n  <a class="btn ',!(o=i.if.call(t,null==(a=t&&t.options)||!1===a?a:a.size,{hash:{},inverse:this.noop,fn:this.program(1,function(e){var t;return""+"btn-"+h(typeof(t=null==(t=e&&e.options)||!1===t?t:t.size)===l?t.apply(e):t)},s),data:s}))&&0!==o||(r+=o),r+' btn-default" data-wysihtml5-command="createLink" title="'+h(typeof(a=null==(a=null==(a=t&&t.locale)||!1===a?a:a.link)||!1===a?a:a.insert)===l?a.apply(t):a)+'" tabindex="-1">\n    <span class="fa fa-external-link"></span>\n  </a>\n</li>\n'}),this.wysihtml5.tpl.lists=Handlebars.template(function(e,t,i,n,s){function a(e){var t;return""+"btn-"+c(typeof(t=null==(t=e&&e.options)||!1===t?t:t.size)===h?t.apply(e):t)}this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,r,l="",h="function",c=this.escapeExpression;return l+='<li>\n  <div class="btn-group">\n    <a class="btn ',!(r=i.if.call(t,null==(o=t&&t.options)||!1===o?o:o.size,{hash:{},inverse:this.noop,fn:this.program(1,a,s),data:s}))&&0!==r||(l+=r),l+=' btn-default" data-wysihtml5-command="insertUnorderedList" title="'+c(typeof(o=null==(o=null==(o=t&&t.locale)||!1===o?o:o.lists)||!1===o?o:o.unordered)===h?o.apply(t):o)+'" tabindex="-1"><span class="fa fa-list"></span></a>\n    <a class="btn ',!(r=i.if.call(t,null==(o=t&&t.options)||!1===o?o:o.size,{hash:{},inverse:this.noop,fn:this.program(1,a,s),data:s}))&&0!==r||(l+=r),l+=' btn-default" data-wysihtml5-command="insertOrderedList" title="'+c(typeof(o=null==(o=null==(o=t&&t.locale)||!1===o?o:o.lists)||!1===o?o:o.ordered)===h?o.apply(t):o)+'" tabindex="-1"><span class="fa fa-th-list"></span></a>\n    <a class="btn ',!(r=i.if.call(t,null==(o=t&&t.options)||!1===o?o:o.size,{hash:{},inverse:this.noop,fn:this.program(1,a,s),data:s}))&&0!==r||(l+=r),l+=' btn-default" data-wysihtml5-command="Outdent" title="'+c(typeof(o=null==(o=null==(o=t&&t.locale)||!1===o?o:o.lists)||!1===o?o:o.outdent)===h?o.apply(t):o)+'" tabindex="-1"><span class="fa fa-indent"></span></a>\n    <a class="btn ',!(r=i.if.call(t,null==(o=t&&t.options)||!1===o?o:o.size,{hash:{},inverse:this.noop,fn:this.program(1,a,s),data:s}))&&0!==r||(l+=r),l+' btn-default" data-wysihtml5-command="Indent" title="'+c(typeof(o=null==(o=null==(o=t&&t.locale)||!1===o?o:o.lists)||!1===o?o:o.indent)===h?o.apply(t):o)+'" tabindex="-1"><span class="fa fa-outdent"></span></a>\n  </div>\n</li>\n'}),"object"==typeof exports&&exports&&(module.exports=this.wysihtml5.tpl),function(u,d){"use strict";function i(e,t){this.el=e;var i=u.extend(!0,{},p,t);for(var n in u.extend(i.shortcuts,p.shortcuts),i.customTemplates)d.tpl[n]=i.customTemplates[n];this.toolbar=this.createToolbar(e,i),this.editor=this.createEditor(i),window.editor=this.editor,u("iframe.wysihtml5-sandbox").each(function(e,t){u(t.contentWindow).off("focus.wysihtml5").on({"focus.wysihtml5":function(){u("li.dropdown").removeClass("open")}})})}i.prototype={constructor:i,createEditor:function(e){e=e||{},(e=u.extend(!0,{},e)).toolbar=this.toolbar[0];var t=new d.Editor(this.el[0],e);if(this.addMoreShortcuts(t,t.currentView.iframe.contentDocument.body||t.currentView.iframe.contentDocument,e.shortcuts),e&&e.events)for(var i in e.events)t.on(i,e.events[i]);return t},createToolbar:function(e,t){var a=this,i=u("<ul/>",{class:"wysihtml5-toolbar",style:"display:none"}),n=t.locale||p.locale||"en";f.hasOwnProperty(n)||(console.debug("Locale '"+n+"' not found. Available locales are: "+Object.keys(f)+". Falling back to 'en'."),n="en");var s,o,r,l=u.extend(!0,{},f.en,f[n]);for(var h in t){var c=!1;void 0!==t[h]?!0===t[h]&&(c=!0):c=p[h],!0===c&&(i.append((s=h,o=l,r=t,d.tpl[s]({locale:o,options:r}))),"html"===h&&this.initHtml(i),"link"===h&&this.initInsertLink(i),"image"===h&&this.initInsertImage(i))}if(t.toolbar)for(h in t.toolbar)i.append(t.toolbar[h]);return i.find('a[data-wysihtml5-command="formatBlock"]').click(function(e){var t=e.delegateTarget||e.target||e.srcElement,i=u(t),n=i.data("wysihtml5-display-format-name"),s=i.data("wysihtml5-format-name")||i.html();void 0!==n&&"true"!==n||a.toolbar.find(".current-font").text(s)}),i.find('a[data-wysihtml5-command="foreColor"]').click(function(e){var t=e.target||e.srcElement,i=u(t);a.toolbar.find(".current-color").text(i.html())}),this.el.before(i),i},initHtml:function(e){var t='a[data-wysihtml5-action="change_view"]';e.find(t).click(function(){e.find("a.btn").not(t).toggleClass("disabled")})},initInsertImage:function(e){function t(){var e=a.val();a.val(r),n.editor.currentView.element.focus(),i&&(n.editor.composer.selection.setBookmark(i),i=null),n.editor.composer.commands.exec("insertImage",e)}var i,n=this,s=e.find(".bootstrap-wysihtml5-insert-image-modal"),a=s.find(".bootstrap-wysihtml5-insert-image-url"),o=s.find("a.btn-primary"),r=a.val();a.keypress(function(e){13==e.which&&(t(),s.modal("hide"))}),o.click(t),s.on("shown",function(){a.focus()}),s.on("hide",function(){n.editor.currentView.element.focus()}),e.find("a[data-wysihtml5-command=insertImage]").click(function(){return!!u(this).hasClass("wysihtml5-command-active")||(n.editor.currentView.element.focus(!1),i=n.editor.composer.selection.getBookmark(),s.appendTo("body").modal("show"),s.on("click.dismiss.modal",'[data-dismiss="modal"]',function(e){e.stopPropagation()}),!1)})},initInsertLink:function(e){function t(){var e=a.val();a.val(l),n.editor.currentView.element.focus(),i&&(n.editor.composer.selection.setBookmark(i),i=null);var t=o.prop("checked");n.editor.composer.commands.exec("createLink",{href:e,target:t?"_blank":"_self",rel:t?"nofollow":""})}var i,n=this,s=e.find(".bootstrap-wysihtml5-insert-link-modal"),a=s.find(".bootstrap-wysihtml5-insert-link-url"),o=s.find(".bootstrap-wysihtml5-insert-link-target"),r=s.find("a.btn-primary"),l=a.val();a.keypress(function(e){13==e.which&&(t(),s.modal("hide"))}),r.click(t),s.on("shown",function(){a.focus()}),s.on("hide",function(){n.editor.currentView.element.focus()}),e.find("a[data-wysihtml5-command=createLink]").click(function(){return!!u(this).hasClass("wysihtml5-command-active")||(n.editor.currentView.element.focus(!1),i=n.editor.composer.selection.getBookmark(),s.appendTo("body").modal("show"),s.on("click.dismiss.modal",'[data-dismiss="modal"]',function(e){e.stopPropagation()}),!1)})},addMoreShortcuts:function(n,e,s){d.dom.observe(e,"keydown",function(e){var t=e.keyCode,i=s[t];(e.ctrlKey||e.metaKey)&&!e.altKey&&i&&d.commands[i]&&(d.commands[i].exec(n.composer,i),e.preventDefault())})}};var n={resetDefaults:function(){u.fn.wysihtml5.defaultOptions=u.extend(!0,{},u.fn.wysihtml5.defaultOptionsCache)},bypassDefaults:function(t){return this.each(function(){var e=u(this);e.data("wysihtml5",new i(e,t))})},shallowExtend:function(e){var t=u.extend({},u.fn.wysihtml5.defaultOptions,e||{},u(this).data());return n.bypassDefaults.apply(this,[t])},deepExtend:function(e){var t=u.extend(!0,{},u.fn.wysihtml5.defaultOptions,e||{});return n.bypassDefaults.apply(this,[t])},init:function(e){return n.shallowExtend.apply(this,[e])}};u.fn.wysihtml5=function(e){return n[e]?n[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void u.error("Method "+e+" does not exist on jQuery.wysihtml5"):n.init.apply(this,arguments)},u.fn.wysihtml5.Constructor=i;var p=u.fn.wysihtml5.defaultOptions={"font-styles":!0,color:!1,emphasis:!0,blockquote:!0,lists:!0,html:!1,link:!0,image:!0,events:{},parserRules:{classes:{"wysiwyg-color-silver":1,"wysiwyg-color-gray":1,"wysiwyg-color-white":1,"wysiwyg-color-maroon":1,"wysiwyg-color-red":1,"wysiwyg-color-purple":1,"wysiwyg-color-fuchsia":1,"wysiwyg-color-green":1,"wysiwyg-color-lime":1,"wysiwyg-color-olive":1,"wysiwyg-color-yellow":1,"wysiwyg-color-navy":1,"wysiwyg-color-blue":1,"wysiwyg-color-teal":1,"wysiwyg-color-aqua":1,"wysiwyg-color-orange":1},tags:{b:{},i:{},strong:{},em:{},p:{},br:{},ol:{},ul:{},li:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},blockquote:{},u:1,img:{check_attributes:{width:"numbers",alt:"alt",src:"url",height:"numbers"}},a:{check_attributes:{href:"url"},set_attributes:{target:"_blank",rel:"nofollow"}},span:1,div:1,small:1,code:1,pre:1}},emSmall:1,locale:"en",shortcuts:{83:"small"}};void 0===u.fn.wysihtml5.defaultOptionsCache&&(u.fn.wysihtml5.defaultOptionsCache=u.extend(!0,{},u.fn.wysihtml5.defaultOptions));var f=u.fn.wysihtml5.locale={}}(window.jQuery,window.wysihtml5),function(i){i.commands.small={exec:function(e,t){return i.commands.formatInline.exec(e,t,"small")},state:function(e,t){return i.commands.formatInline.state(e,t,"small")},value:function(){}}}(wysihtml5),function(e){e.fn.wysihtml5.locale.en=e.fn.wysihtml5.locale["en-US"]={font_styles:{normal:"Normal text",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6"},emphasis:{bold:"Bold",italic:"Italic",underline:"Underline",small:"Small"},lists:{unordered:"Unordered list",ordered:"Ordered list",outdent:"Outdent",indent:"Indent"},link:{insert:"Insert link",cancel:"Cancel",target:"Open link in new window"},image:{insert:"Insert image",cancel:"Cancel"},html:{edit:"Edit HTML"},colours:{black:"Black",silver:"Silver",gray:"Grey",maroon:"Maroon",red:"Red",purple:"Purple",green:"Green",olive:"Olive",navy:"Navy",blue:"Blue",orange:"Orange"}}}(jQuery),function(h){h.extend(h.fn,{validate:function(e){if(this.length){var i=h.data(this[0],"validator");return i||(this.attr("novalidate","novalidate"),i=new h.validator(e,this[0]),h.data(this[0],"validator",i),i.settings.onsubmit&&(this.validateDelegate(":submit","click",function(e){i.settings.submitHandler&&(i.submitButton=e.target),h(e.target).hasClass("cancel")&&(i.cancelSubmit=!0),void 0!==h(e.target).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.submit(function(t){function e(){var e;return!i.settings.submitHandler||(i.submitButton&&(e=h("<input type='hidden'/>").attr("name",i.submitButton.name).val(h(i.submitButton).val()).appendTo(i.currentForm)),i.settings.submitHandler.call(i,i.currentForm,t),i.submitButton&&e.remove(),!1)}return i.settings.debug&&t.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,e()):i.form()?i.pendingRequest?!(i.formSubmitted=!0):e():(i.focusInvalid(),!1)})),i)}e&&e.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.")},valid:function(){if(h(this[0]).is("form"))return this.validate().form();var e=!0,t=h(this[0].form).validate();return this.each(function(){e=e&&t.element(this)}),e},removeAttrs:function(e){var i={},n=this;return h.each(e.split(/\s/),function(e,t){i[t]=n.attr(t),n.removeAttr(t)}),i},rules:function(e,t){var i=this[0];if(e){var n=h.data(i.form,"validator").settings,s=n.rules,a=h.validator.staticRules(i);switch(e){case"add":h.extend(a,h.validator.normalizeRule(t)),delete a.messages,s[i.name]=a,t.messages&&(n.messages[i.name]=h.extend(n.messages[i.name],t.messages));break;case"remove":if(!t)return delete s[i.name],a;var o={};return h.each(t.split(/\s/),function(e,t){o[t]=a[t],delete a[t]}),o}}var r=h.validator.normalizeRules(h.extend({},h.validator.classRules(i),h.validator.attributeRules(i),h.validator.dataRules(i),h.validator.staticRules(i)),i);if(r.required){var l=r.required;delete r.required,r=h.extend({required:l},r)}return r}}),h.extend(h.expr[":"],{blank:function(e){return!h.trim(""+h(e).val())},filled:function(e){return!!h.trim(""+h(e).val())},unchecked:function(e){return!h(e).prop("checked")}}),h.validator=function(e,t){this.settings=h.extend(!0,{},h.validator.defaults,e),this.currentForm=t,this.init()},h.validator.format=function(i,e){return 1===arguments.length?function(){var e=h.makeArray(arguments);return e.unshift(i),h.validator.format.apply(this,e)}:(2<arguments.length&&e.constructor!==Array&&(e=h.makeArray(arguments).slice(1)),e.constructor!==Array&&(e=[e]),h.each(e,function(e,t){i=i.replace(RegExp("\\{"+e+"\\}","g"),function(){return t})}),i)},h.extend(h.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:h([]),errorLabelContainer:h([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(e)).hide())},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(e,t){9===t.which&&""===this.elementValue(e)||!(e.name in this.submitted||e===this.lastElement)||this.element(e)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(e,t,i){"radio"===e.type?this.findByName(e.name).addClass(t).removeClass(i):h(e).addClass(t).removeClass(i)},unhighlight:function(e,t,i){"radio"===e.type?this.findByName(e.name).removeClass(t).addClass(i):h(e).removeClass(t).addClass(i)}},setDefaults:function(e){h.extend(h.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:h.validator.format("Please enter no more than {0} characters."),minlength:h.validator.format("Please enter at least {0} characters."),rangelength:h.validator.format("Please enter a value between {0} and {1} characters long."),range:h.validator.format("Please enter a value between {0} and {1}."),max:h.validator.format("Please enter a value less than or equal to {0}."),min:h.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){var t=h.data(this[0].form,"validator"),i="on"+e.type.replace(/^validate/,"");t.settings[i]&&t.settings[i].call(t,this[0],e)}this.labelContainer=h(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||h(this.currentForm),this.containers=h(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var n=this.groups={};h.each(this.settings.groups,function(i,e){"string"==typeof e&&(e=e.split(/\s/)),h.each(e,function(e,t){n[t]=i})});var i=this.settings.rules;h.each(i,function(e,t){i[e]=h.validator.normalizeRule(t)}),h(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",e).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",e),this.settings.invalidHandler&&h(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),h.extend(this.submitted,this.errorMap),this.invalid=h.extend({},this.errorMap),this.valid()||h(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(e){e=this.validationTargetFor(this.clean(e)),this.lastElement=e,this.prepareElement(e),this.currentElements=h(e);var t=!1!==this.check(e);return t?delete this.invalid[e.name]:this.invalid[e.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),t},showErrors:function(t){if(t){for(var e in h.extend(this.errorMap,t),this.errorList=[],t)this.errorList.push({message:t[e],element:this.findByName(e)[0]});this.successList=h.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){h.fn.resetForm&&h(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t=0;for(var i in e)t++;return t},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{h(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var t=this.lastActive;return t&&1===h.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var e=this,t={};return h(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&e.settings.debug&&window.console&&console.error("%o has no name assigned",this),!(this.name in t||!e.objectLength(h(this).rules()))&&(t[this.name]=!0)})},clean:function(e){return h(e)[0]},errors:function(){var e=this.settings.errorClass.replace(" ",".");return h(this.settings.errorElement+"."+e,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=h([]),this.toHide=h([]),this.currentElements=h([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(e){var t=h(e).attr("type"),i=h(e).val();return"radio"===t||"checkbox"===t?h("input[name='"+h(e).attr("name")+"']:checked").val():"string"==typeof i?i.replace(/\r/g,""):i},check:function(t){t=this.validationTargetFor(this.clean(t));var e,i=h(t).rules(),n=!1,s=this.elementValue(t);for(var a in i){var o={method:a,parameters:i[a]};try{if("dependency-mismatch"===(e=h.validator.methods[a].call(this,s,t,o.parameters))){n=!0;continue}if(n=!1,"pending"===e)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!e)return this.formatAndAdd(t,o),!1}catch(e){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+o.method+"' method.",e),e}}return n?void 0:(this.objectLength(i)&&this.successList.push(t),!0)},customDataMessage:function(e,t){return h(e).data("msg-"+t.toLowerCase())||e.attributes&&h(e).attr("data-msg-"+t.toLowerCase())},customMessage:function(e,t){var i=this.settings.messages[e];return i&&(i.constructor===String?i:i[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]},defaultMessage:function(e,t){return this.findDefined(this.customMessage(e.name,t),this.customDataMessage(e,t),!this.settings.ignoreTitle&&e.title||void 0,h.validator.messages[t],"<strong>Warning: No message defined for "+e.name+"</strong>")},formatAndAdd:function(e,t){var i=this.defaultMessage(e,t.method),n=/\$?\{(\d+)\}/g;"function"==typeof i?i=i.call(this,t.parameters,e):n.test(i)&&(i=h.validator.format(i.replace(n,"{$1}"),t.parameters)),this.errorList.push({message:i,element:e}),this.errorMap[e.name]=i,this.submitted[e.name]=i},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t;for(e=0;this.errorList[e];e++){var i=this.errorList[e];this.settings.highlight&&this.settings.highlight.call(this,i.element,this.settings.errorClass,this.settings.validClass),this.showLabel(i.element,i.message)}if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return h(this.errorList).map(function(){return this.element})},showLabel:function(e,t){var i=this.errorsFor(e);i.length?(i.removeClass(this.settings.validClass).addClass(this.settings.errorClass),i.html(t)):(i=h("<"+this.settings.errorElement+">").attr("for",this.idOrName(e)).addClass(this.settings.errorClass).html(t||""),this.settings.wrapper&&(i=i.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(i).length||(this.settings.errorPlacement?this.settings.errorPlacement(i,h(e)):i.insertAfter(e))),!t&&this.settings.success&&(i.text(""),"string"==typeof this.settings.success?i.addClass(this.settings.success):this.settings.success(i,e)),this.toShow=this.toShow.add(i)},errorsFor:function(e){var t=this.idOrName(e);return this.errors().filter(function(){return h(this).attr("for")===t})},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name).not(this.settings.ignore)[0]),e},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(e){return h(this.currentForm).find("[name='"+e+"']")},getLength:function(e,t){switch(t.nodeName.toLowerCase()){case"select":return h("option:selected",t).length;case"input":if(this.checkable(t))return this.findByName(t.name).filter(":checked").length}return e.length},depend:function(e,t){return!this.dependTypes[typeof e]||this.dependTypes[typeof e](e,t)},dependTypes:{boolean:function(e){return e},string:function(e,t){return!!h(e,t.form).length},function:function(e,t){return e(t)}},optional:function(e){var t=this.elementValue(e);return!h.validator.methods.required.call(this,t,e)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,this.pending[e.name]=!0)},stopRequest:function(e,t){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],t&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(h(this.currentForm).submit(),this.formSubmitted=!1):!t&&0===this.pendingRequest&&this.formSubmitted&&(h(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e){return h.data(e,"previousValue")||h.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,t){e.constructor===String?this.classRuleSettings[e]=t:h.extend(this.classRuleSettings,e)},classRules:function(e){var t={},i=h(e).attr("class");return i&&h.each(i.split(" "),function(){this in h.validator.classRuleSettings&&h.extend(t,h.validator.classRuleSettings[this])}),t},attributeRules:function(e){var t={},i=h(e),n=i[0].getAttribute("type");for(var s in h.validator.methods){var a;a="required"===s?(""===(a=i.get(0).getAttribute(s))&&(a=!0),!!a):i.attr(s),/min|max/.test(s)&&(null===n||/number|range|text/.test(n))&&(a=Number(a)),a?t[s]=a:n===s&&"range"!==n&&(t[s]=!0)}return t.maxlength&&/-1|2147483647|524288/.test(t.maxlength)&&delete t.maxlength,t},dataRules:function(e){var t,i,n={},s=h(e);for(t in h.validator.methods)void 0!==(i=s.data("rule-"+t.toLowerCase()))&&(n[t]=i);return n},staticRules:function(e){var t={},i=h.data(e.form,"validator");return i.settings.rules&&(t=h.validator.normalizeRule(i.settings.rules[e.name])||{}),t},normalizeRules:function(n,s){return h.each(n,function(e,t){if(!1!==t){if(t.param||t.depends){var i=!0;switch(typeof t.depends){case"string":i=!!h(t.depends,s.form).length;break;case"function":i=t.depends.call(s,s)}i?n[e]=void 0===t.param||t.param:delete n[e]}}else delete n[e]}),h.each(n,function(e,t){n[e]=h.isFunction(t)?t(s):t}),h.each(["minlength","maxlength"],function(){n[this]&&(n[this]=Number(n[this]))}),h.each(["rangelength","range"],function(){var e;n[this]&&(h.isArray(n[this])?n[this]=[Number(n[this][0]),Number(n[this][1])]:"string"==typeof n[this]&&(e=n[this].split(/[\s,]+/),n[this]=[Number(e[0]),Number(e[1])]))}),h.validator.autoCreateRanges&&(n.min&&n.max&&(n.range=[n.min,n.max],delete n.min,delete n.max),n.minlength&&n.maxlength&&(n.rangelength=[n.minlength,n.maxlength],delete n.minlength,delete n.maxlength)),n},normalizeRule:function(e){if("string"==typeof e){var t={};h.each(e.split(/\s/),function(){t[this]=!0}),e=t}return e},addMethod:function(e,t,i){h.validator.methods[e]=t,h.validator.messages[e]=void 0!==i?i:h.validator.messages[e],t.length<3&&h.validator.addClassRules(e,h.validator.normalizeRule(e))},methods:{required:function(e,t,i){if(!this.depend(i,t))return"dependency-mismatch";if("select"!==t.nodeName.toLowerCase())return this.checkable(t)?0<this.getLength(e,t):0<h.trim(e).length;var n=h(t).val();return n&&0<n.length},email:function(e,t){return this.optional(t)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(e)},url:function(e,t){return this.optional(t)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(""+new Date(e))},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(e)},number:function(e,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},creditcard:function(e,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(e))return!1;for(var i=0,n=0,s=!1,a=(e=e.replace(/\D/g,"")).length-1;0<=a;a--){var o=e.charAt(a);n=parseInt(o,10),s&&9<(n*=2)&&(n-=9),i+=n,s=!s}return 0==i%10},minlength:function(e,t,i){var n=h.isArray(e)?e.length:this.getLength(h.trim(e),t);return this.optional(t)||i<=n},maxlength:function(e,t,i){var n=h.isArray(e)?e.length:this.getLength(h.trim(e),t);return this.optional(t)||n<=i},rangelength:function(e,t,i){var n=h.isArray(e)?e.length:this.getLength(h.trim(e),t);return this.optional(t)||n>=i[0]&&i[1]>=n},min:function(e,t,i){return this.optional(t)||i<=e},max:function(e,t,i){return this.optional(t)||e<=i},range:function(e,t,i){return this.optional(t)||e>=i[0]&&i[1]>=e},equalTo:function(e,t,i){var n=h(i);return this.settings.onfocusout&&n.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){h(t).valid()}),e===n.val()},remote:function(a,o,e){if(this.optional(o))return"dependency-mismatch";var r=this.previousValue(o);if(this.settings.messages[o.name]||(this.settings.messages[o.name]={}),r.originalMessage=this.settings.messages[o.name].remote,this.settings.messages[o.name].remote=r.message,e="string"==typeof e&&{url:e}||e,r.old===a)return r.valid;r.old=a;var l=this;this.startRequest(o);var t={};return t[o.name]=a,h.ajax(h.extend(!0,{url:e,mode:"abort",port:"validate"+o.name,dataType:"json",data:t,success:function(e){l.settings.messages[o.name].remote=r.originalMessage;var t=!0===e||"true"===e;if(t){var i=l.formSubmitted;l.prepareElement(o),l.formSubmitted=i,l.successList.push(o),delete l.invalid[o.name],l.showErrors()}else{var n={},s=e||l.defaultMessage(o,"remote");n[o.name]=r.message=h.isFunction(s)?s(a):s,l.invalid[o.name]=!0,l.showErrors(n)}r.valid=t,l.stopRequest(o,t)}},e)),"pending"}}}),h.format=h.validator.format}(jQuery),function(n){var s={};if(n.ajaxPrefilter)n.ajaxPrefilter(function(e,t,i){var n=e.port;"abort"===e.mode&&(s[n]&&s[n].abort(),s[n]=i)});else{var a=n.ajax;n.ajax=function(e){var t=("mode"in e?e:n.ajaxSettings).mode,i=("port"in e?e:n.ajaxSettings).port;return"abort"===t?(s[i]&&s[i].abort(),s[i]=a.apply(this,arguments),s[i]):a.apply(this,arguments)}}}(jQuery),function(s){s.extend(s.fn,{validateDelegate:function(i,e,n){return this.bind(e,function(e){var t=s(e.target);return t.is(i)?n.apply(t,arguments):void 0})}})}(jQuery),function(l){l.widget("ui.formwizard",{_init:function(){var s=this,n=this.options.formOptions.success,i=this.options.formOptions.complete,a=this.options.formOptions.beforeSend,o=this.options.formOptions.beforeSubmit,r=this.options.formOptions.beforeSerialize;return this.options.formOptions=l.extend(this.options.formOptions,{success:function(e,t,i){n&&n(e,t,i),(s.options.formOptions&&s.options.formOptions.resetForm||!s.options.formOptions)&&s._reset()},complete:function(e,t){i&&i(e,t),s._enableNavigation()},beforeSubmit:function(e,t,i){if(o){var n=o(e,t,i);return n||s._enableNavigation(),n}},beforeSend:function(e){if(a){var t=a(e);return t||s._enableNavigation(),t}},beforeSerialize:function(e,t){if(r){var i=r(e,t);return i||s._enableNavigation(),i}}}),this.options.historyEnabled&&l.bbq.removeState("_"+l(this.element).attr("id")),this.steps=this.element.find(".step").hide(),this.firstStep=this.steps.eq(0).attr("id"),this.activatedSteps=new Array,this.isLastStep=!1,this.previousStep=void 0,this.currentStep=this.steps.eq(0).attr("id"),this.nextButton=this.element.find(this.options.next).click(function(){return s._next()}),this.nextButtonInitinalValue=this.nextButton.val(),this.nextButton.val(this.options.textNext),this.backButton=this.element.find(this.options.back).click(function(){return s._back(),!1}),this.backButtonInitinalValue=this.backButton.val(),this.backButton.val(this.options.textBack),this.options.validationEnabled&&null==jQuery().validate?(this.options.validationEnabled=!1,void 0!==window.console&&console.log("%s","validationEnabled option set, but the validation plugin is not included")):this.options.validationEnabled&&this.element.validate(this.options.validationOptions),this.options.formPluginEnabled&&null==jQuery().ajaxSubmit&&(this.options.formPluginEnabled=!1,void 0!==window.console&&console.log("%s","formPluginEnabled option set but the form plugin is not included")),1==this.options.disableInputFields&&l(this.steps).find(":input:not('.wizard-ignore')").attr("disabled","disabled"),this.options.historyEnabled&&l(window).bind("hashchange",void 0,function(e){var t=e.getState("_"+l(s.element).attr("id"))||s.firstStep;if(t!==s.currentStep){if(s.options.validationEnabled&&t===s._navigate(s.currentStep)&&!s.element.valid())return s._updateHistory(s.currentStep),s.element.validate().focusInvalid(),!1;t!==s.currentStep&&s._show(t)}}),this.element.addClass("ui-formwizard"),this.element.find(":input").addClass("ui-wizard-content"),this.steps.addClass("ui-formwizard-content"),this.backButton.addClass("ui-formwizard-button ui-wizard-content"),this.nextButton.addClass("ui-formwizard-button ui-wizard-content"),this.options.disableUIStyles||(this.element.addClass("ui-helper-reset ui-widget ui-widget-content ui-helper-reset ui-corner-all"),this.element.find(":input").addClass("ui-helper-reset ui-state-default"),this.steps.addClass("ui-helper-reset ui-corner-all"),this.backButton.addClass("ui-helper-reset ui-state-default"),this.nextButton.addClass("ui-helper-reset ui-state-default")),this._show(void 0),l(this)},_next:function(){if(this.options.validationEnabled&&!this.element.valid())return this.element.validate().focusInvalid(),!1;if(null!=this.options.remoteAjax){var e=this.options.remoteAjax[this.currentStep],i=this;if(void 0!==e){var n=e.success,t=e.beforeSend,s=e.complete;return e=l.extend({},e,{success:function(e,t){(void 0!==n&&n(e,t)||null==n)&&i._continueToNextStep()},beforeSend:function(e){i._disableNavigation(),void 0!==t&&t(e),l(i.element).trigger("before_remote_ajax",{currentStep:i.currentStep})},complete:function(e,t){void 0!==s&&s(e,t),l(i.element).trigger("after_remote_ajax",{currentStep:i.currentStep}),i._enableNavigation()}}),this.element.ajaxSubmit(e),!1}}return this._continueToNextStep()},_back:function(){return 0<this.activatedSteps.length&&(this.options.historyEnabled?this._updateHistory(this.activatedSteps[this.activatedSteps.length-2]):this._show(this.activatedSteps[this.activatedSteps.length-2],!0)),!1},_continueToNextStep:function(){if(this.isLastStep){for(var e=0;e<this.activatedSteps.length;e++)this.steps.filter("#"+this.activatedSteps[e]).find(":input").not(".wizard-ignore").removeAttr("disabled");return!this.options.formPluginEnabled||(this._disableNavigation(),this.element.ajaxSubmit(this.options.formOptions),!1)}var t=this._navigate(this.currentStep);return t==this.currentStep||(this.options.historyEnabled?this._updateHistory(t):this._show(t,!0)),!1},_updateHistory:function(e){var t={};t["_"+l(this.element).attr("id")]=e,l.bbq.pushState(t)},_disableNavigation:function(){this.nextButton.attr("disabled","disabled"),this.backButton.attr("disabled","disabled"),this.options.disableUIStyles||(this.nextButton.removeClass("ui-state-active").addClass("ui-state-disabled"),this.backButton.removeClass("ui-state-active").addClass("ui-state-disabled"))},_enableNavigation:function(){this.isLastStep?this.nextButton.val(this.options.textSubmit):this.nextButton.val(this.options.textNext),l.trim(this.currentStep)!==this.steps.eq(0).attr("id")&&(this.backButton.removeAttr("disabled"),this.options.disableUIStyles||this.backButton.removeClass("ui-state-disabled").addClass("ui-state-active")),this.nextButton.removeAttr("disabled"),this.options.disableUIStyles||this.nextButton.removeClass("ui-state-disabled").addClass("ui-state-active")},_animate:function(e,t,i){this._disableNavigation();var n=this.steps.filter("#"+e),s=this.steps.filter("#"+t);n.find(":input").not(".wizard-ignore").attr("disabled","disabled"),s.find(":input").not(".wizard-ignore").removeAttr("disabled");var a=this;n.animate(a.options.outAnimation,a.options.outDuration,a.options.easing,function(){s.animate(a.options.inAnimation,a.options.inDuration,a.options.easing,function(){a.options.focusFirstInput&&s.find(":input:first").focus(),a._enableNavigation(),i.apply(a)})})},_checkIflastStep:function(e){this.isLastStep=!1,!l("#"+e).hasClass(this.options.submitStepClass)&&this.steps.filter(":last").attr("id")!=e||(this.isLastStep=!0)},_getLink:function(e){var t=void 0,i=this.steps.filter("#"+e).find(this.options.linkClass);return null!=i&&(t=0<i.filter(":radio,:checkbox").size()?i.filter(this.options.linkClass+":checked").val():l(i).val()),t},_navigate:function(e){var t=this._getLink(e);return null!=t?""!=t&&null!=t&&null!=t&&null!=this.steps.filter("#"+t).attr("id")?t:this.currentStep:null!=t||this.isLastStep?void 0:this.steps.filter("#"+e).next().attr("id")},_show:function(e){var t=!1,i=void 0!==e;if(null==e||""==e?(this.activatedSteps.pop(),e=this.firstStep,this.activatedSteps.push(e)):-1<l.inArray(e,this.activatedSteps)?(t=!0,this.activatedSteps.pop()):this.activatedSteps.push(e),this.currentStep!==e||e===this.firstStep){this.previousStep=this.currentStep,this._checkIflastStep(e),this.currentStep=e;i&&l(this.element).trigger("before_step_shown",l.extend({isBackNavigation:t},this._state())),this._animate(this.previousStep,e,function(){i&&l(this.element).trigger("step_shown",l.extend({isBackNavigation:t},this._state()))})}},_reset:function(){this.element.resetForm(),l("label,:input,textarea",this).removeClass("error");for(var e=0;e<this.activatedSteps.length;e++)this.steps.filter("#"+this.activatedSteps[e]).hide().find(":input").attr("disabled","disabled");this.activatedSteps=new Array,this.previousStep=void 0,this.isLastStep=!1,this.options.historyEnabled?this._updateHistory(this.firstStep):this._show(this.firstStep)},_state:function(e){var t={settings:this.options,activatedSteps:this.activatedSteps,isLastStep:this.isLastStep,isFirstStep:this.currentStep===this.firstStep,previousStep:this.previousStep,currentStep:this.currentStep,backButton:this.backButton,nextButton:this.nextButton,steps:this.steps,firstStep:this.firstStep};return void 0!==e?t[e]:t},show:function(e){this.options.historyEnabled?this._updateHistory(e):this._show(e)},state:function(e){return this._state(e)},reset:function(){this._reset()},next:function(){this._next()},back:function(){this._back()},destroy:function(){this.element.find("*").removeAttr("disabled").show(),this.nextButton.unbind("click").val(this.nextButtonInitinalValue).removeClass("ui-state-disabled").addClass("ui-state-active"),this.backButton.unbind("click").val(this.backButtonInitinalValue).removeClass("ui-state-disabled").addClass("ui-state-active"),this.backButtonInitinalValue=void 0,this.nextButtonInitinalValue=void 0,this.activatedSteps=void 0,this.previousStep=void 0,this.currentStep=void 0,this.isLastStep=void 0,this.options=void 0,this.nextButton=void 0,this.backButton=void 0,this.formwizard=void 0,this.element=void 0,this.steps=void 0,this.firstStep=void 0},update_steps:function(){this.steps=this.element.find(".step").addClass("ui-formwizard-content"),this.firstStep=this.steps.eq(0).attr("id"),this.steps.not("#"+this.currentStep).hide().find(":input").addClass("ui-wizard-content").attr("disabled","disabled"),this._checkIflastStep(this.currentStep),this._enableNavigation(),this.options.disableUIStyles||(this.steps.addClass("ui-helper-reset ui-corner-all"),this.steps.find(":input").addClass("ui-helper-reset ui-state-default"))},options:{historyEnabled:!1,validationEnabled:!1,validationOptions:void 0,formPluginEnabled:!1,linkClass:".link",submitStepClass:"submit_step",back:":reset",next:":submit",textSubmit:"Submit",textNext:"Next",textBack:"Back",remoteAjax:void 0,inAnimation:{opacity:"show"},outAnimation:{opacity:"hide"},inDuration:400,outDuration:400,easing:"swing",focusFirstInput:!1,disableInputFields:!0,formOptions:{reset:!0,success:function(e){void 0!==window.console&&console.log("%s","form submit successful")},disableUIStyles:!1}}})}(jQuery),function(h){var o=new Array,r=new Array;h.fn.doAutosize=function(e){var t=h(this).data("minwidth"),i=h(this).data("maxwidth"),n="",s=h(this),a=h("#"+h(this).data("tester_id"));if(n!==(n=s.val())){var o=n.replace(/&/g,"&").replace(/\s/g," ").replace(/</g,"<").replace(/>/g,">");a.html(o);var r=a.width(),l=r+e.comfortZone>=t?r+e.comfortZone:t;(l<s.width()&&t<=l||t<l&&l<i)&&s.width(l)}},h.fn.resetAutosize=function(e){var t=h(this).data("minwidth")||e.minInputWidth||h(this).width(),i=h(this).data("maxwidth")||e.maxInputWidth||h(this).closest(".tagsinput").width()-e.inputPadding,n=h(this),s=h("<tester/>").css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:n.css("fontSize"),fontFamily:n.css("fontFamily"),fontWeight:n.css("fontWeight"),letterSpacing:n.css("letterSpacing"),whiteSpace:"nowrap"}),a=h(this).attr("id")+"_autosize_tester";0<!h("#"+a).length&&(s.attr("id",a),s.appendTo("body")),n.data("minwidth",t),n.data("maxwidth",i),n.data("tester_id",a),n.css("width",t)},h.fn.addTag=function(s,a){return a=jQuery.extend({focus:!1,callback:!0},a),this.each(function(){var e=h(this).attr("id"),t=h(this).val().split(o[e]);if(""==t[0]&&(t=new Array),s=jQuery.trim(s),a.unique)1==(i=h(t).tagExist(s))&&h("#"+e+"_tag").addClass("not_valid");else var i=!1;if(""!=s&&1!=i){if(h("<span>").addClass("tag").append(h("<span>").text(s).append("  "),h("<a>",{href:"#",title:"Removing tag",text:"x"}).click(function(){return h("#"+e).removeTag(escape(s))})).insertBefore("#"+e+"_addTag"),t.push(s),h("#"+e+"_tag").val(""),a.focus?h("#"+e+"_tag").focus():h("#"+e+"_tag").blur(),h.fn.tagsInput.updateTagsField(this,t),a.callback&&r[e]&&r[e].onAddTag)r[e].onAddTag.call(this,s);if(r[e]&&r[e].onChange){var n=t.length;r[e].onChange.call(this,h(this),t[n-1])}}}),!1},h.fn.removeTag=function(n){return n=unescape(n),this.each(function(){var e=h(this).attr("id"),t=h(this).val().split(o[e]);for(h("#"+e+"_tagsinput .tag").remove(),str="",i=0;i<t.length;i++)t[i]!=n&&(str=str+o[e]+t[i]);h.fn.tagsInput.importTags(this,str),r[e]&&r[e].onRemoveTag&&r[e].onRemoveTag.call(this,n)}),!1},h.fn.tagExist=function(e){return 0<=jQuery.inArray(e,h(this))},h.fn.importTags=function(e){id=h(this).attr("id"),h("#"+id+"_tagsinput .tag").remove(),h.fn.tagsInput.importTags(this,e)},h.fn.tagsInput=function(e){var s=jQuery.extend({interactive:!0,defaultText:"add a tag",minChars:0,width:"300px",height:"100px",autocomplete:{selectFirst:!1},hide:!0,delimiter:",",unique:!0,removeWithBackspace:!0,placeholderColor:"#666666",autosize:!0,comfortZone:20,inputPadding:12},e);return this.each(function(){s.hide&&h(this).hide();var n=h(this).attr("id");n&&!o[h(this).attr("id")]||(n=h(this).attr("id","tags"+(new Date).getTime()).attr("id"));var e=jQuery.extend({pid:n,real_input:"#"+n,holder:"#"+n+"_tagsinput",input_wrapper:"#"+n+"_addTag",fake_input:"#"+n+"_tag"},s);o[n]=e.delimiter,(s.onAddTag||s.onRemoveTag||s.onChange)&&(r[n]=new Array,r[n].onAddTag=s.onAddTag,r[n].onRemoveTag=s.onRemoveTag,r[n].onChange=s.onChange);var t='<div id="'+n+'_tagsinput" class="tagsinput"><div id="'+n+'_addTag">';if(s.interactive&&(t=t+'<input id="'+n+'_tag" value="" data-default="'+s.defaultText+'" />'),h(t+='</div><div class="tags_clear"></div></div>').insertAfter(this),h(e.holder).css("width",s.width),h(e.holder).css("height",s.height),""!=h(e.real_input).val()&&h.fn.tagsInput.importTags(h(e.real_input),h(e.real_input).val()),s.interactive){if(h(e.fake_input).val(h(e.fake_input).attr("data-default")),h(e.fake_input).css("color",s.placeholderColor),h(e.fake_input).resetAutosize(s),h(e.holder).bind("click",e,function(e){h(e.data.fake_input).focus()}),h(e.fake_input).bind("focus",e,function(e){h(e.data.fake_input).val()==h(e.data.fake_input).attr("data-default")&&h(e.data.fake_input).val(""),h(e.data.fake_input).css("color","#000000")}),null!=s.autocomplete_url){for(attrname in autocomplete_options={source:s.autocomplete_url},s.autocomplete)autocomplete_options[attrname]=s.autocomplete[attrname];void 0!==jQuery.Autocompleter?(h(e.fake_input).autocomplete(s.autocomplete_url,s.autocomplete),h(e.fake_input).bind("result",e,function(e,t,i){t&&h("#"+n).addTag(t[0]+"",{focus:!0,unique:s.unique})})):void 0!==jQuery.ui.autocomplete&&(h(e.fake_input).autocomplete(autocomplete_options),h(e.fake_input).bind("autocompleteselect",e,function(e,t){return h(e.data.real_input).addTag(t.item.value,{focus:!0,unique:s.unique}),!1}))}else h(e.fake_input).bind("blur",e,function(e){var t=h(this).attr("data-default");return""!=h(e.data.fake_input).val()&&h(e.data.fake_input).val()!=t?e.data.minChars<=h(e.data.fake_input).val().length&&(!e.data.maxChars||e.data.maxChars>=h(e.data.fake_input).val().length)&&h(e.data.real_input).addTag(h(e.data.fake_input).val(),{focus:!0,unique:s.unique}):(h(e.data.fake_input).val(h(e.data.fake_input).attr("data-default")),h(e.data.fake_input).css("color",s.placeholderColor)),!1});h(e.fake_input).bind("keypress",e,function(e){if(e.which==e.data.delimiter.charCodeAt(0)||13==e.which)return e.preventDefault(),e.data.minChars<=h(e.data.fake_input).val().length&&(!e.data.maxChars||e.data.maxChars>=h(e.data.fake_input).val().length)&&h(e.data.real_input).addTag(h(e.data.fake_input).val(),{focus:!0,unique:s.unique}),h(e.data.fake_input).resetAutosize(s),!1;e.data.autosize&&h(e.data.fake_input).doAutosize(s)}),e.removeWithBackspace&&h(e.fake_input).bind("keydown",function(e){if(8==e.keyCode&&""==h(this).val()){e.preventDefault();var t=h(this).closest(".tagsinput").find(".tag:last").text(),i=h(this).attr("id").replace(/_tag$/,"");t=t.replace(/[\s]+x$/,""),h("#"+i).removeTag(escape(t)),h(this).trigger("focus")}}),h(e.fake_input).blur(),e.unique&&h(e.fake_input).keydown(function(e){8!=e.keyCode&&!String.fromCharCode(e.which).match(/\w+|[áéíóúÁÉÍÓÚñÑ,/]+/)||h(this).removeClass("not_valid")})}}),this},h.fn.tagsInput.updateTagsField=function(e,t){var i=h(e).attr("id");h(e).val(t.join(o[i]))},h.fn.tagsInput.importTags=function(e,t){h(e).val("");var n=h(e).attr("id"),s=t.split(o[n]);for(i=0;i<s.length;i++)h(e).addTag(s[i],{focus:!1,callback:!1});r[n]&&r[n].onChange&&r[n].onChange.call(e,e,s[i])}}(jQuery),function(S,B,U){var e;e=function(P){"use strict";var e,t,v,O,w,L,z,H,c,x,i,a,u,W,d,n,s,M,j,r,o,l,h,C,p,f,g,m,b,y={},_=0;e=function(){return{common:{type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",composite:!1,tagValuesAttribute:"values",tagOptionsPrefix:"spark",enableTagOptions:!1,enableHighlight:!0,highlightLighten:1.4,tooltipSkipNull:!0,tooltipPrefix:"",tooltipSuffix:"",disableHiddenCheck:!1,numberFormatter:!1,numberDigitGroupCount:3,numberDigitGroupSep:",",numberDecimalMark:".",disableTooltips:!1,disableInteraction:!1},line:{spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:U,normalRangeMax:U,normalRangeColor:"#ccc",drawNormalOnTop:!1,chartRangeMin:U,chartRangeMax:U,chartRangeMinX:U,chartRangeMaxX:U,tooltipFormat:new v('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{y}}{{suffix}}')},bar:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:U,nullColor:U,zeroAxis:!0,barWidth:4,barSpacing:1,chartRangeMax:U,chartRangeMin:U,chartRangeClip:!1,colorMap:U,tooltipFormat:new v('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{value}}{{suffix}}')},tristate:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{},tooltipFormat:new v('<span style="color: {{color}}">&#9679;</span> {{value:map}}'),tooltipValueLookups:{map:{"-1":"Loss",0:"Draw",1:"Win"}}},discrete:{lineHeight:"auto",thresholdColor:U,thresholdValue:0,chartRangeMax:U,chartRangeMin:U,chartRangeClip:!1,tooltipFormat:new v("{{prefix}}{{value}}{{suffix}}")},bullet:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:U,tooltipFormat:new v("{{fieldkey:fields}} - {{value}}"),tooltipValueLookups:{fields:{r:"Range",p:"Performance",t:"Target"}}},pie:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000",tooltipFormat:new v('<span style="color: {{color}}">&#9679;</span> {{value}} ({{percent.1}}%)')},box:{raw:!1,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:!0,outlierIQR:1.5,spotRadius:1.5,target:U,targetColor:"#4a2",chartRangeMax:U,chartRangeMin:U,tooltipFormat:new v("{{field:fields}}: {{value}}"),tooltipFormatFieldlistKey:"field",tooltipValueLookups:{fields:{lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",lw:"Left Whisker",rw:"Right Whisker"}}}}},t=function(){var e,t;return e=function(){this.init.apply(this,arguments)},1<arguments.length?(arguments[0]?(e.prototype=P.extend(new arguments[0],arguments[arguments.length-1]),e._super=arguments[0].prototype):e.prototype=arguments[arguments.length-1],2<arguments.length&&((t=Array.prototype.slice.call(arguments,1,-1)).unshift(e.prototype),P.extend.apply(P,t))):e.prototype=arguments[0],e.prototype.cls=e},P.SPFormatClass=v=t({fre:/\{\{([\w.]+?)(:(.+?))?\}\}/g,precre:/(\w+)\.(\d+)/,init:function(e,t){this.format=e,this.fclass=t},render:function(e,t,i){var n,s,a,o,r,l=this,h=e;return this.format.replace(this.fre,function(){return s=arguments[1],a=arguments[3],(n=l.precre.exec(s))?(r=n[2],s=n[1]):r=!1,(o=h[s])===U?"":a&&t&&t[a]?t[a].get?t[a].get(o)||o:t[a][o]||o:(c(o)&&(o=i.get("numberFormatter")?i.get("numberFormatter")(o):u(o,r,i.get("numberDigitGroupCount"),i.get("numberDigitGroupSep"),i.get("numberDecimalMark"))),o)})}}),P.spformat=function(e,t){return new v(e,t)},O=function(e,t,i){return e<t?t:i<e?i:e},w=function(e,t){var i;return 2===t?(i=B.floor(e.length/2),e.length%2?e[i]:(e[i-1]+e[i])/2):(i=e.length%2?(e.length*t+t)/4:(e.length*t+2)/4)%1?(e[B.floor(i)]+e[B.floor(i)-1])/2:e[i-1]},L=function(e){var t;switch(e){case"undefined":e=U;break;case"null":e=null;break;case"true":e=!0;break;case"false":e=!1;break;default:e==(t=parseFloat(e))&&(e=t)}return e},z=function(e){var t,i=[];for(t=e.length;t--;)i[t]=L(e[t]);return i},H=function(e,t){var i,n,s=[];for(i=0,n=e.length;i<n;i++)e[i]!==t&&s.push(e[i]);return s},c=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},u=function(e,t,i,n,s){var a,o;for(e=(!1===t?parseFloat(e).toString():e.toFixed(t)).split(""),(a=(a=P.inArray(".",e))<0?e.length:a)<e.length&&(e[a]=s),o=a-i;0<o;o-=i)e.splice(o,0,n);return e.join("")},x=function(e,t,i){var n;for(n=t.length;n--;)if((!i||null!==t[n])&&t[n]!==e)return!1;return!0},a=function(e){return P.isArray(e)?e:[e]},i=function(e){var t;S.createStyleSheet?S.createStyleSheet().cssText=e:((t=S.createElement("style")).type="text/css",S.getElementsByTagName("head")[0].appendChild(t),t["string"==typeof S.body.style.WebkitAppearance?"innerText":"innerHTML"]=e)},P.fn.simpledraw=function(e,t,i,n){var s,a;if(i&&(s=this.data("_jqs_vcanvas")))return s;if(!1===P.fn.sparkline.canvas)return!1;if(P.fn.sparkline.canvas===U){var o=S.createElement("canvas");if(o.getContext&&o.getContext("2d"))P.fn.sparkline.canvas=function(e,t,i,n){return new g(e,t,i,n)};else{if(!S.namespaces||S.namespaces.v)return P.fn.sparkline.canvas=!1;S.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML"),P.fn.sparkline.canvas=function(e,t,i,n){return new m(e,t,i)}}}return e===U&&(e=P(this).innerWidth()),t===U&&(t=P(this).innerHeight()),s=P.fn.sparkline.canvas(e,t,this,n),(a=P(this).data("_jqs_mhandler"))&&a.registerCanvas(s),s},P.fn.cleardraw=function(){var e=this.data("_jqs_vcanvas");e&&e.reset()},P.RangeMapClass=W=t({init:function(e){var t,i,n=[];for(t in e)e.hasOwnProperty(t)&&"string"==typeof t&&-1<t.indexOf(":")&&((i=t.split(":"))[0]=0===i[0].length?-1/0:parseFloat(i[0]),i[1]=0===i[1].length?1/0:parseFloat(i[1]),i[2]=e[t],n.push(i));this.map=e,this.rangelist=n||!1},get:function(e){var t,i,n,s=this.rangelist;if((n=this.map[e])!==U)return n;if(s)for(t=s.length;t--;)if((i=s[t])[0]<=e&&i[1]>=e)return i[2];return U}}),P.range_map=function(e){return new W(e)},d=t({init:function(e,t){var i=P(e);this.$el=i,this.options=t,this.currentPageX=0,this.currentPageY=0,this.el=e,this.splist=[],this.tooltip=null,this.over=!1,this.displayTooltips=!t.get("disableTooltips"),this.highlightEnabled=!t.get("disableHighlight")},registerSparkline:function(e){this.splist.push(e),this.over&&this.updateDisplay()},registerCanvas:function(e){var t=P(e.canvas);this.canvas=e,(this.$canvas=t).mouseenter(P.proxy(this.mouseenter,this)),t.mouseleave(P.proxy(this.mouseleave,this)),t.click(P.proxy(this.mouseclick,this))},reset:function(e){this.splist=[],this.tooltip&&e&&(this.tooltip.remove(),this.tooltip=U)},mouseclick:function(e){var t=P.Event("sparklineClick");t.originalEvent=e,t.sparklines=this.splist,this.$el.trigger(t)},mouseenter:function(e){P(S.body).unbind("mousemove.jqs"),P(S.body).bind("mousemove.jqs",P.proxy(this.mousemove,this)),this.over=!0,this.currentPageX=e.pageX,this.currentPageY=e.pageY,this.currentEl=e.target,!this.tooltip&&this.displayTooltips&&(this.tooltip=new n(this.options),this.tooltip.updatePosition(e.pageX,e.pageY)),this.updateDisplay()},mouseleave:function(){P(S.body).unbind("mousemove.jqs");var e,t=this.splist,i=t.length,n=!1;for(this.over=!1,this.currentEl=null,this.tooltip&&(this.tooltip.remove(),this.tooltip=null),e=0;e<i;e++)t[e].clearRegionHighlight()&&(n=!0);n&&this.canvas.render()},mousemove:function(e){this.currentPageX=e.pageX,this.currentPageY=e.pageY,this.currentEl=e.target,this.tooltip&&this.tooltip.updatePosition(e.pageX,e.pageY),this.updateDisplay()},updateDisplay:function(){var e,t,i,n,s=this.splist,a=s.length,o=!1,r=this.$canvas.offset(),l=this.currentPageX-r.left,h=this.currentPageY-r.top;if(this.over){for(t=0;t<a;t++)(i=s[t].setRegionHighlight(this.currentEl,l,h))&&(o=!0);if(o){if((n=P.Event("sparklineRegionChange")).sparklines=this.splist,this.$el.trigger(n),this.tooltip){for(e="",t=0;t<a;t++)e+=s[t].getCurrentRegionTooltip();this.tooltip.setContent(e)}this.disableHighlight||this.canvas.render()}null===i&&this.mouseleave()}}}),n=t({sizeStyle:"position: static !important;display: block !important;visibility: hidden !important;float: left !important;",init:function(e){var t,i=e.get("tooltipClassname","jqstooltip"),n=this.sizeStyle;this.container=e.get("tooltipContainer")||S.body,this.tooltipOffsetX=e.get("tooltipOffsetX",10),this.tooltipOffsetY=e.get("tooltipOffsetY",12),P("#jqssizetip").remove(),P("#jqstooltip").remove(),this.sizetip=P("<div/>",{id:"jqssizetip",style:n,class:i}),this.tooltip=P("<div/>",{id:"jqstooltip",class:i}).appendTo(this.container),t=this.tooltip.offset(),this.offsetLeft=t.left,this.offsetTop=t.top,this.hidden=!0,P(window).unbind("resize.jqs scroll.jqs"),P(window).bind("resize.jqs scroll.jqs",P.proxy(this.updateWindowDims,this)),this.updateWindowDims()},updateWindowDims:function(){this.scrollTop=P(window).scrollTop(),this.scrollLeft=P(window).scrollLeft(),this.scrollRight=this.scrollLeft+P(window).width(),this.updatePosition()},getSize:function(e){this.sizetip.html(e).appendTo(this.container),this.width=this.sizetip.width()+1,this.height=this.sizetip.height(),this.sizetip.remove()},setContent:function(e){if(!e)return this.tooltip.css("visibility","hidden"),void(this.hidden=!0);this.getSize(e),this.tooltip.html(e).css({width:this.width,height:this.height,visibility:"visible"}),this.hidden&&(this.hidden=!1,this.updatePosition())},updatePosition:function(e,t){if(e===U){if(this.mousex===U)return;e=this.mousex-this.offsetLeft,t=this.mousey-this.offsetTop}else this.mousex=e-=this.offsetLeft,this.mousey=t-=this.offsetTop;this.height&&this.width&&!this.hidden&&(t-=this.height+this.tooltipOffsetY,e+=this.tooltipOffsetX,t<this.scrollTop&&(t=this.scrollTop),e<this.scrollLeft?e=this.scrollLeft:e+this.width>this.scrollRight&&(e=this.scrollRight-this.width),this.tooltip.css({left:e,top:t}))},remove:function(){this.tooltip.remove(),this.sizetip.remove(),this.sizetip=this.tooltip=U,P(window).unbind("resize.jqs scroll.jqs")}}),P(function(){i(".jqstooltip { width: auto !important; height: auto !important; position: absolute;left: 0px;top: 0px;visibility: hidden;background: #000000;color: white;font-size: 11px;text-align: left;white-space: nowrap;padding: 5px;z-index: 10000;}.jqsfield { color: white;font: 10px arial, san serif;text-align: left;}")}),b=[],P.fn.sparkline=function(h,i){return this.each(function(){var e,t,r=new P.fn.sparkline.options(this,i),l=P(this);if(e=function(){var e,t,i,n,s,a,o;e="html"===h||h===U?((o=this.getAttribute(r.get("tagValuesAttribute")))!==U&&null!==o||(o=l.html()),o.replace(/(^\s*<!--)|(-->\s*$)|\s+/g,"").split(",")):h,t="auto"===r.get("width")?e.length*r.get("defaultPixelsPerValue"):r.get("width"),"auto"===r.get("height")?r.get("composite")&&P.data(this,"_jqs_vcanvas")||((n=S.createElement("span")).innerHTML="a",l.html(n),i=P(n).innerHeight()||P(n).height(),P(n).remove(),n=null):i=r.get("height"),r.get("disableInteraction")?s=!1:(s=P.data(this,"_jqs_mhandler"))?r.get("composite")||s.reset():(s=new d(this,r),P.data(this,"_jqs_mhandler",s)),!r.get("composite")||P.data(this,"_jqs_vcanvas")?((a=new(P.fn.sparkline[r.get("type")])(this,e,r,t,i)).render(),s&&s.registerSparkline(a)):P.data(this,"_jqs_errnotify")||(alert("Attempted to attach a composite sparkline to an element with no existing sparkline"),P.data(this,"_jqs_errnotify",!0))},P(this).html()&&!r.get("disableHiddenCheck")&&P(this).is(":hidden")||!P(this).parents("body").length){if(!r.get("composite")&&P.data(this,"_jqs_pending"))for(t=b.length;t;t--)b[t-1][0]==this&&b.splice(t-1,1);b.push([this,e]),P.data(this,"_jqs_pending",!0)}else e.call(this)})},P.fn.sparkline.defaults=e(),P.sparkline_display_visible=function(){var e,t,i,n=[];for(t=0,i=b.length;t<i;t++)e=b[t][0],P(e).is(":visible")&&!P(e).parents().is(":hidden")?(b[t][1].call(e),P.data(b[t][0],"_jqs_pending",!1),n.push(t)):P(e).closest("html").length||P.data(e,"_jqs_pending")||(P.data(b[t][0],"_jqs_pending",!1),n.push(t));for(t=n.length;t;t--)b.splice(n[t-1],1)},P.fn.sparkline.options=t({init:function(e,t){var i,n,s,a;this.userOptions=t=t||{},this.tag=e,this.tagValCache={},s=(n=P.fn.sparkline.defaults).common,this.tagOptionsPrefix=t.enableTagOptions&&(t.tagOptionsPrefix||s.tagOptionsPrefix),i=(a=this.getTagSetting("type"))===y?n[t.type||s.type]:n[a],this.mergedOptions=P.extend({},s,i,t)},getTagSetting:function(e){var t,i,n,s,a=this.tagOptionsPrefix;if(!1===a||a===U)return y;if(this.tagValCache.hasOwnProperty(e))t=this.tagValCache.key;else{if((t=this.tag.getAttribute(a+e))===U||null===t)t=y;else if("["===t.substr(0,1))for(i=(t=t.substr(1,t.length-2).split(",")).length;i--;)t[i]=L(t[i].replace(/(^\s*)|(\s*$)/g,""));else if("{"===t.substr(0,1))for(n=t.substr(1,t.length-2).split(","),t={},i=n.length;i--;)t[(s=n[i].split(":",2))[0].replace(/(^\s*)|(\s*$)/g,"")]=L(s[1].replace(/(^\s*)|(\s*$)/g,""));else t=L(t);this.tagValCache.key=t}return t},get:function(e,t){var i,n=this.getTagSetting(e);return n!==y?n:(i=this.mergedOptions[e])===U?t:i}}),P.fn.sparkline._base=t({disabled:!1,init:function(e,t,i,n,s){this.el=e,this.$el=P(e),this.values=t,this.options=i,this.width=n,this.height=s,this.currentRegion=U},initTarget:function(){var e=!this.options.get("disableInteraction");(this.target=this.$el.simpledraw(this.width,this.height,this.options.get("composite"),e))?(this.canvasWidth=this.target.pixelWidth,this.canvasHeight=this.target.pixelHeight):this.disabled=!0},render:function(){return!this.disabled||(this.el.innerHTML="",!1)},getRegion:function(e,t){},setRegionHighlight:function(e,t,i){var n,s=this.currentRegion,a=!this.options.get("disableHighlight");return t>this.canvasWidth||i>this.canvasHeight||t<0||i<0?null:s!==(n=this.getRegion(e,t,i))&&(s!==U&&a&&this.removeHighlight(),(this.currentRegion=n)!==U&&a&&this.renderHighlight(),!0)},clearRegionHighlight:function(){return this.currentRegion!==U&&(this.removeHighlight(),!(this.currentRegion=U))},renderHighlight:function(){this.changeHighlight(!0)},removeHighlight:function(){this.changeHighlight(!1)},changeHighlight:function(e){},getCurrentRegionTooltip:function(){var e,t,i,n,s,a,o,r,l,h,c,u,d,p,f=this.options,g="",m=[];if(this.currentRegion===U)return"";if(e=this.getCurrentRegionFields(),c=f.get("tooltipFormatter"))return c(this,f,e);if(f.get("tooltipChartTitle")&&(g+='<div class="jqs jqstitle">'+f.get("tooltipChartTitle")+"</div>\n"),!(t=this.options.get("tooltipFormat")))return"";if(P.isArray(t)||(t=[t]),P.isArray(e)||(e=[e]),o=this.options.get("tooltipFormatFieldlist"),r=this.options.get("tooltipFormatFieldlistKey"),o&&r){for(l=[],a=e.length;a--;)h=e[a][r],-1!=(p=P.inArray(h,o))&&(l[p]=e[a]);e=l}for(i=t.length,d=e.length,a=0;a<i;a++)for("string"==typeof(u=t[a])&&(u=new v(u)),n=u.fclass||"jqsfield",p=0;p<d;p++)e[p].isNull&&f.get("tooltipSkipNull")||(P.extend(e[p],{prefix:f.get("tooltipPrefix"),suffix:f.get("tooltipSuffix")}),s=u.render(e[p],f.get("tooltipValueLookups"),f),m.push('<div class="'+n+'">'+s+"</div>"));return m.length?g+m.join("\n"):""},getCurrentRegionFields:function(){},calcHighlightColor:function(e,t){var i,n,s,a,o=t.get("highlightColor"),r=t.get("highlightLighten");if(o)return o;if(r&&(i=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(e)||/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(e))){for(s=[],n=4===e.length?16:1,a=0;a<3;a++)s[a]=O(B.round(parseInt(i[a+1],16)*n*r),0,255);return"rgb("+s.join(",")+")"}return e}}),s={changeHighlight:function(e){var t,i=this.currentRegion,n=this.target,s=this.regionShapes[i];s&&(t=this.renderRegion(i,e),P.isArray(t)||P.isArray(s)?(n.replaceWithShapes(s,t),this.regionShapes[i]=P.map(t,function(e){return e.id})):(n.replaceWithShape(s,t),this.regionShapes[i]=t.id))},render:function(){var e,t,i,n,s=this.values,a=this.target,o=this.regionShapes;if(this.cls._super.render.call(this)){for(i=s.length;i--;)if(e=this.renderRegion(i))if(P.isArray(e)){for(t=[],n=e.length;n--;)e[n].append(),t.push(e[n].id);o[i]=t}else e.append(),o[i]=e.id;else o[i]=null;a.render()}}},P.fn.sparkline.line=M=t(P.fn.sparkline._base,{type:"line",init:function(e,t,i,n,s){M._super.init.call(this,e,t,i,n,s),this.vertices=[],this.regionMap=[],this.xvalues=[],this.yvalues=[],this.yminmax=[],this.hightlightSpotId=null,this.lastShapeId=null,this.initTarget()},getRegion:function(e,t,i){var n,s=this.regionMap;for(n=s.length;n--;)if(null!==s[n]&&t>=s[n][0]&&t<=s[n][1])return s[n][2];return U},getCurrentRegionFields:function(){var e=this.currentRegion;return{isNull:null===this.yvalues[e],x:this.xvalues[e],y:this.yvalues[e],color:this.options.get("lineColor"),fillColor:this.options.get("fillColor"),offset:e}},renderHighlight:function(){var e,t,i=this.currentRegion,n=this.target,s=this.vertices[i],a=this.options,o=a.get("spotRadius"),r=a.get("highlightSpotColor"),l=a.get("highlightLineColor");s&&(o&&r&&(e=n.drawCircle(s[0],s[1],o,U,r),this.highlightSpotId=e.id,n.insertAfterShape(this.lastShapeId,e)),l&&(t=n.drawLine(s[0],this.canvasTop,s[0],this.canvasTop+this.canvasHeight,l),this.highlightLineId=t.id,n.insertAfterShape(this.lastShapeId,t)))},removeHighlight:function(){var e=this.target;this.highlightSpotId&&(e.removeShapeId(this.highlightSpotId),this.highlightSpotId=null),this.highlightLineId&&(e.removeShapeId(this.highlightLineId),this.highlightLineId=null)},scanValues:function(){var e,t,i,n,s,a=this.values,o=a.length,r=this.xvalues,l=this.yvalues,h=this.yminmax;for(e=0;e<o;e++)t=a[e],i="string"==typeof a[e],n="object"==typeof a[e]&&a[e]instanceof Array,s=i&&a[e].split(":"),i&&2===s.length?(r.push(Number(s[0])),l.push(Number(s[1])),h.push(Number(s[1]))):n?(r.push(t[0]),l.push(t[1]),h.push(t[1])):(r.push(e),null===a[e]||"null"===a[e]?l.push(null):(l.push(Number(t)),h.push(Number(t))));this.options.get("xvalues")&&(r=this.options.get("xvalues")),this.maxy=this.maxyorg=B.max.apply(B,h),this.miny=this.minyorg=B.min.apply(B,h),this.maxx=B.max.apply(B,r),this.minx=B.min.apply(B,r),this.xvalues=r,this.yvalues=l,this.yminmax=h},processRangeOptions:function(){var e=this.options,t=e.get("normalRangeMin"),i=e.get("normalRangeMax");t!==U&&(t<this.miny&&(this.miny=t),i>this.maxy&&(this.maxy=i)),e.get("chartRangeMin")!==U&&(e.get("chartRangeClip")||e.get("chartRangeMin")<this.miny)&&(this.miny=e.get("chartRangeMin")),e.get("chartRangeMax")!==U&&(e.get("chartRangeClip")||e.get("chartRangeMax")>this.maxy)&&(this.maxy=e.get("chartRangeMax")),e.get("chartRangeMinX")!==U&&(e.get("chartRangeClipX")||e.get("chartRangeMinX")<this.minx)&&(this.minx=e.get("chartRangeMinX")),e.get("chartRangeMaxX")!==U&&(e.get("chartRangeClipX")||e.get("chartRangeMaxX")>this.maxx)&&(this.maxx=e.get("chartRangeMaxX"))},drawNormalRange:function(e,t,i,n,s){var a=this.options.get("normalRangeMin"),o=this.options.get("normalRangeMax"),r=t+B.round(i-i*((o-this.miny)/s)),l=B.round(i*(o-a)/s);this.target.drawRect(e,r,n,l,U,this.options.get("normalRangeColor")).append()},render:function(){var e,t,i,n,s,a,o,r,l,h,c,u,d,p,f,g,m,v,b,y,w,C,x,_,S=this.options,T=this.target,k=this.canvasWidth,D=this.canvasHeight,E=this.vertices,N=S.get("spotRadius"),R=this.regionMap;if(M._super.render.call(this)&&(this.scanValues(),this.processRangeOptions(),C=this.xvalues,x=this.yvalues,this.yminmax.length&&!(this.yvalues.length<2))){for(n=s=0,e=this.maxx-this.minx==0?1:this.maxx-this.minx,t=this.maxy-this.miny==0?1:this.maxy-this.miny,i=this.yvalues.length-1,N&&(k<4*N||D<4*N)&&(N=0),N&&(((y=S.get("highlightSpotColor")&&!S.get("disableInteraction"))||S.get("minSpotColor")||S.get("spotColor")&&x[i]===this.miny)&&(D-=B.ceil(N)),(y||S.get("maxSpotColor")||S.get("spotColor")&&x[i]===this.maxy)&&(D-=B.ceil(N),n+=B.ceil(N)),!y&&(!S.get("minSpotColor")&&!S.get("maxSpotColor")||x[0]!==this.miny&&x[0]!==this.maxy)||(s+=B.ceil(N),k-=B.ceil(N)),(y||S.get("spotColor")||S.get("minSpotColor")||S.get("maxSpotColor")&&(x[i]===this.miny||x[i]===this.maxy))&&(k-=B.ceil(N))),D--,S.get("normalRangeMin")===U||S.get("drawNormalOnTop")||this.drawNormalRange(s,n,D,k,t),r=[o=[]],d=p=null,f=x.length,_=0;_<f;_++)l=C[_],c=C[_+1],h=x[_],p=(u=s+B.round((l-this.minx)*(k/e)))+((_<f-1?s+B.round((c-this.minx)*(k/e)):k)-u)/2,R[_]=[d||0,p,_],d=p,null===h?_&&(null!==x[_-1]&&(o=[],r.push(o)),E.push(null)):(h<this.miny&&(h=this.miny),h>this.maxy&&(h=this.maxy),o.length||o.push([u,n+D]),a=[u,n+B.round(D-D*((h-this.miny)/t))],o.push(a),E.push(a));for(g=[],m=[],v=r.length,_=0;_<v;_++)(o=r[_]).length&&(S.get("fillColor")&&(o.push([o[o.length-1][0],n+D]),m.push(o.slice(0)),o.pop()),2<o.length&&(o[0]=[o[0][0],o[1][1]]),g.push(o));for(v=m.length,_=0;_<v;_++)T.drawShape(m[_],S.get("fillColor"),S.get("fillColor")).append();for(S.get("normalRangeMin")!==U&&S.get("drawNormalOnTop")&&this.drawNormalRange(s,n,D,k,t),v=g.length,_=0;_<v;_++)T.drawShape(g[_],S.get("lineColor"),U,S.get("lineWidth")).append();if(N&&S.get("valueSpots"))for((b=S.get("valueSpots")).get===U&&(b=new W(b)),_=0;_<f;_++)(w=b.get(x[_]))&&T.drawCircle(s+B.round((C[_]-this.minx)*(k/e)),n+B.round(D-D*((x[_]-this.miny)/t)),N,U,w).append();N&&S.get("spotColor")&&null!==x[i]&&T.drawCircle(s+B.round((C[C.length-1]-this.minx)*(k/e)),n+B.round(D-D*((x[i]-this.miny)/t)),N,U,S.get("spotColor")).append(),this.maxy!==this.minyorg&&(N&&S.get("minSpotColor")&&(l=C[P.inArray(this.minyorg,x)],T.drawCircle(s+B.round((l-this.minx)*(k/e)),n+B.round(D-D*((this.minyorg-this.miny)/t)),N,U,S.get("minSpotColor")).append()),N&&S.get("maxSpotColor")&&(l=C[P.inArray(this.maxyorg,x)],T.drawCircle(s+B.round((l-this.minx)*(k/e)),n+B.round(D-D*((this.maxyorg-this.miny)/t)),N,U,S.get("maxSpotColor")).append())),this.lastShapeId=T.getLastShapeId(),this.canvasTop=n,T.render()}}}),P.fn.sparkline.bar=j=t(P.fn.sparkline._base,s,{type:"bar",init:function(e,t,i,n,s){var a,o,r,l,h,c,u,d,p,f,g,m,v,b,y,w,C,x,_,S,T,k=parseInt(i.get("barWidth"),10),D=parseInt(i.get("barSpacing"),10),E=i.get("chartRangeMin"),N=i.get("chartRangeMax"),R=i.get("chartRangeClip"),M=1/0,I=-1/0;for(j._super.init.call(this,e,t,i,n,s),c=0,u=t.length;c<u;c++)((a="string"==typeof(S=t[c])&&-1<S.indexOf(":"))||P.isArray(S))&&(y=!0,a&&(S=t[c]=z(S.split(":"))),S=H(S,null),(o=B.min.apply(B,S))<M&&(M=o),I<(r=B.max.apply(B,S))&&(I=r));this.stacked=y,this.regionShapes={},this.barWidth=k,this.barSpacing=D,this.totalBarWidth=k+D,this.width=n=t.length*k+(t.length-1)*D,this.initTarget(),R&&(v=E===U?-1/0:E,b=N===U?1/0:N),h=[],l=y?[]:h;var A=[],F=[];for(c=0,u=t.length;c<u;c++)if(y)for(w=t[c],t[c]=_=[],A[c]=0,l[c]=F[c]=0,C=0,x=w.length;C<x;C++)null!==(S=_[C]=R?O(w[C],v,b):w[C])&&(0<S&&(A[c]+=S),M<0&&0<I?S<0?F[c]+=B.abs(S):l[c]+=S:l[c]+=B.abs(S-(S<0?I:M)),h.push(S));else S=R?O(t[c],v,b):t[c],null!==(S=t[c]=L(S))&&h.push(S);this.max=m=B.max.apply(B,h),this.min=g=B.min.apply(B,h),this.stackMax=I=y?B.max.apply(B,A):m,this.stackMin=M=y?B.min.apply(B,h):g,i.get("chartRangeMin")!==U&&(i.get("chartRangeClip")||i.get("chartRangeMin")<g)&&(g=i.get("chartRangeMin")),i.get("chartRangeMax")!==U&&(i.get("chartRangeClip")||i.get("chartRangeMax")>m)&&(m=i.get("chartRangeMax")),this.zeroAxis=p=i.get("zeroAxis",!0),f=g<=0&&0<=m&&p?0:0==p?g:0<g?g:m,this.xaxisOffset=f,d=y?B.max.apply(B,l)+B.max.apply(B,F):m-g,this.canvasHeightEf=p&&g<0?this.canvasHeight-2:this.canvasHeight-1,g<f?(T=((y&&0<=m?I:m)-f)/d*this.canvasHeight)!==B.ceil(T)&&(this.canvasHeightEf-=2,T=B.ceil(T)):T=this.canvasHeight,this.yoffset=T,P.isArray(i.get("colorMap"))?(this.colorMapByIndex=i.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=i.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===U&&(this.colorMapByValue=new W(this.colorMapByValue))),this.range=d},getRegion:function(e,t,i){var n=B.floor(t/this.totalBarWidth);return n<0||n>=this.values.length?U:n},getCurrentRegionFields:function(){var e,t,i=this.currentRegion,n=a(this.values[i]),s=[];for(t=n.length;t--;)e=n[t],s.push({isNull:null===e,value:e,color:this.calcColor(t,e,i),offset:i});return s},calcColor:function(e,t,i){var n,s,a=this.colorMapByIndex,o=this.colorMapByValue,r=this.options;return n=this.stacked?r.get("stackedBarColor"):t<0?r.get("negBarColor"):r.get("barColor"),0===t&&r.get("zeroColor")!==U&&(n=r.get("zeroColor")),o&&(s=o.get(t))?n=s:a&&a.length>i&&(n=a[i]),P.isArray(n)?n[e%n.length]:n},renderRegion:function(e,t){var i,n,s,a,o,r,l,h,c,u,d=this.values[e],p=this.options,f=this.xaxisOffset,g=[],m=this.range,v=this.stacked,b=this.target,y=e*this.totalBarWidth,w=this.canvasHeightEf,C=this.yoffset;if(l=(d=P.isArray(d)?d:[d]).length,h=d[0],a=x(null,d),u=x(f,d,!0),a)return p.get("nullColor")?(s=t?p.get("nullColor"):this.calcHighlightColor(p.get("nullColor"),p),i=0<C?C-1:C,b.drawRect(y,i,this.barWidth-1,0,s,s)):U;for(o=C,r=0;r<l;r++){if(h=d[r],v&&h===f){if(!u||c)continue;c=!0}n=0<m?B.floor(w*(B.abs(h-f)/m))+1:1,h<f||h===f&&0===C?(i=o,o+=n):(i=C-n,C-=n),s=this.calcColor(r,h,e),t&&(s=this.calcHighlightColor(s,p)),g.push(b.drawRect(y,i,this.barWidth-1,n-1,s,s))}return 1===g.length?g[0]:g}}),P.fn.sparkline.tristate=r=t(P.fn.sparkline._base,s,{type:"tristate",init:function(e,t,i,n,s){var a=parseInt(i.get("barWidth"),10),o=parseInt(i.get("barSpacing"),10);r._super.init.call(this,e,t,i,n,s),this.regionShapes={},this.barWidth=a,this.barSpacing=o,this.totalBarWidth=a+o,this.values=P.map(t,Number),this.width=n=t.length*a+(t.length-1)*o,P.isArray(i.get("colorMap"))?(this.colorMapByIndex=i.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=i.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===U&&(this.colorMapByValue=new W(this.colorMapByValue))),this.initTarget()},getRegion:function(e,t,i){return B.floor(t/this.totalBarWidth)},getCurrentRegionFields:function(){var e=this.currentRegion;return{isNull:this.values[e]===U,value:this.values[e],color:this.calcColor(this.values[e],e),offset:e}},calcColor:function(e,t){var i,n=this.values,s=this.options,a=this.colorMapByIndex,o=this.colorMapByValue;return o&&(i=o.get(e))?i:a&&a.length>t?a[t]:n[t]<0?s.get("negBarColor"):0<n[t]?s.get("posBarColor"):s.get("zeroBarColor")},renderRegion:function(e,t){var i,n,s,a,o,r,l=this.values,h=this.options,c=this.target;if(i=c.pixelHeight,s=B.round(i/2),a=e*this.totalBarWidth,n=l[e]<0?(o=s)-1:0<l[e]?(o=0,s-1):(o=s-1,2),null!==(r=this.calcColor(l[e],e)))return t&&(r=this.calcHighlightColor(r,h)),c.drawRect(a,o,this.barWidth-1,n-1,r,r)}}),P.fn.sparkline.discrete=o=t(P.fn.sparkline._base,s,{type:"discrete",init:function(e,t,i,n,s){o._super.init.call(this,e,t,i,n,s),this.regionShapes={},this.values=t=P.map(t,Number),this.min=B.min.apply(B,t),this.max=B.max.apply(B,t),this.range=this.max-this.min,this.width=n="auto"===i.get("width")?2*t.length:this.width,this.interval=B.floor(n/t.length),this.itemWidth=n/t.length,i.get("chartRangeMin")!==U&&(i.get("chartRangeClip")||i.get("chartRangeMin")<this.min)&&(this.min=i.get("chartRangeMin")),i.get("chartRangeMax")!==U&&(i.get("chartRangeClip")||i.get("chartRangeMax")>this.max)&&(this.max=i.get("chartRangeMax")),this.initTarget(),this.target&&(this.lineHeight="auto"===i.get("lineHeight")?B.round(.3*this.canvasHeight):i.get("lineHeight"))},getRegion:function(e,t,i){return B.floor(t/this.itemWidth)},getCurrentRegionFields:function(){var e=this.currentRegion;return{isNull:this.values[e]===U,value:this.values[e],offset:e}},renderRegion:function(e,t){var i,n,s,a,o=this.values,r=this.options,l=this.min,h=this.max,c=this.range,u=this.interval,d=this.target,p=this.canvasHeight,f=this.lineHeight,g=p-f;return n=O(o[e],l,h),a=e*u,i=B.round(g-(n-l)/c*g),s=r.get("thresholdColor")&&n<r.get("thresholdValue")?r.get("thresholdColor"):r.get("lineColor"),t&&(s=this.calcHighlightColor(s,r)),d.drawLine(a,i,a,i+f,s)}}),P.fn.sparkline.bullet=l=t(P.fn.sparkline._base,{type:"bullet",init:function(e,t,i,n,s){var a,o,r;l._super.init.call(this,e,t,i,n,s),this.values=t=z(t),(r=t.slice())[0]=null===r[0]?r[2]:r[0],r[1]=null===t[1]?r[2]:r[1],a=B.min.apply(B,t),o=B.max.apply(B,t),a=i.get("base")===U?a<0?a:0:i.get("base"),this.min=a,this.max=o,this.range=o-a,this.shapes={},this.valueShapes={},this.regiondata={},this.width=n="auto"===i.get("width")?"4.0em":n,this.target=this.$el.simpledraw(n,s,i.get("composite")),t.length||(this.disabled=!0),this.initTarget()},getRegion:function(e,t,i){var n=this.target.getShapeAt(e,t,i);return n!==U&&this.shapes[n]!==U?this.shapes[n]:U},getCurrentRegionFields:function(){var e=this.currentRegion;return{fieldkey:e.substr(0,1),value:this.values[e.substr(1)],region:e}},changeHighlight:function(e){var t,i=this.currentRegion,n=this.valueShapes[i];switch(delete this.shapes[n],i.substr(0,1)){case"r":t=this.renderRange(i.substr(1),e);break;case"p":t=this.renderPerformance(e);break;case"t":t=this.renderTarget(e)}this.valueShapes[i]=t.id,this.shapes[t.id]=i,this.target.replaceWithShape(n,t)},renderRange:function(e,t){var i=this.values[e],n=B.round(this.canvasWidth*((i-this.min)/this.range)),s=this.options.get("rangeColors")[e-2];return t&&(s=this.calcHighlightColor(s,this.options)),this.target.drawRect(0,0,n-1,this.canvasHeight-1,s,s)},renderPerformance:function(e){var t=this.values[1],i=B.round(this.canvasWidth*((t-this.min)/this.range)),n=this.options.get("performanceColor");return e&&(n=this.calcHighlightColor(n,this.options)),this.target.drawRect(0,B.round(.3*this.canvasHeight),i-1,B.round(.4*this.canvasHeight)-1,n,n)},renderTarget:function(e){var t=this.values[0],i=B.round(this.canvasWidth*((t-this.min)/this.range)-this.options.get("targetWidth")/2),n=B.round(.1*this.canvasHeight),s=this.canvasHeight-2*n,a=this.options.get("targetColor");return e&&(a=this.calcHighlightColor(a,this.options)),this.target.drawRect(i,n,this.options.get("targetWidth")-1,s-1,a,a)},render:function(){var e,t,i=this.values.length,n=this.target;if(l._super.render.call(this)){for(e=2;e<i;e++)t=this.renderRange(e).append(),this.shapes[t.id]="r"+e,this.valueShapes["r"+e]=t.id;null!==this.values[1]&&(t=this.renderPerformance().append(),this.shapes[t.id]="p1",this.valueShapes.p1=t.id),null!==this.values[0]&&(t=this.renderTarget().append(),this.shapes[t.id]="t0",this.valueShapes.t0=t.id),n.render()}}}),P.fn.sparkline.pie=h=t(P.fn.sparkline._base,{type:"pie",init:function(e,t,i,n,s){var a,o=0;if(h._super.init.call(this,e,t,i,n,s),this.shapes={},this.valueShapes={},this.values=t=P.map(t,Number),"auto"===i.get("width")&&(this.width=this.height),0<t.length)for(a=t.length;a--;)o+=t[a];this.total=o,this.initTarget(),this.radius=B.floor(B.min(this.canvasWidth,this.canvasHeight)/2)},getRegion:function(e,t,i){var n=this.target.getShapeAt(e,t,i);return n!==U&&this.shapes[n]!==U?this.shapes[n]:U},getCurrentRegionFields:function(){var e=this.currentRegion;return{isNull:this.values[e]===U,value:this.values[e],percent:this.values[e]/this.total*100,color:this.options.get("sliceColors")[e%this.options.get("sliceColors").length],offset:e}},changeHighlight:function(e){var t=this.currentRegion,i=this.renderSlice(t,e),n=this.valueShapes[t];delete this.shapes[n],this.target.replaceWithShape(n,i),this.valueShapes[t]=i.id,this.shapes[i.id]=t},renderSlice:function(e,t){var i,n,s,a,o,r=this.target,l=this.options,h=this.radius,c=l.get("borderWidth"),u=l.get("offset"),d=2*B.PI,p=this.values,f=this.total,g=u?2*B.PI*(u/360):0;for(a=p.length,s=0;s<a;s++){if(n=i=g,0<f&&(n=g+d*(p[s]/f)),e===s)return o=l.get("sliceColors")[s%l.get("sliceColors").length],t&&(o=this.calcHighlightColor(o,l)),r.drawPieSlice(h,h,h-c,i,n,U,o);g=n}},render:function(){var e,t,i=this.target,n=this.values,s=this.options,a=this.radius,o=s.get("borderWidth");if(h._super.render.call(this)){for(o&&i.drawCircle(a,a,B.floor(a-o/2),s.get("borderColor"),U,o).append(),t=n.length;t--;)n[t]&&(e=this.renderSlice(t).append(),this.valueShapes[t]=e.id,this.shapes[e.id]=t);i.render()}}}),P.fn.sparkline.box=C=t(P.fn.sparkline._base,{type:"box",init:function(e,t,i,n,s){C._super.init.call(this,e,t,i,n,s),this.values=P.map(t,Number),this.width="auto"===i.get("width")?"4.0em":n,this.initTarget(),this.values.length||(this.disabled=1)},getRegion:function(){return 1},getCurrentRegionFields:function(){var e=[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles[1]},{field:"uq",value:this.quartiles[2]}];return this.loutlier!==U&&e.push({field:"lo",value:this.loutlier}),this.routlier!==U&&e.push({field:"ro",value:this.routlier}),this.lwhisker!==U&&e.push({field:"lw",value:this.lwhisker}),this.rwhisker!==U&&e.push({field:"rw",value:this.rwhisker}),e},render:function(){var e,t,i,n,s,a,o,r,l,h,c,u=this.target,d=this.values,p=d.length,f=this.options,g=this.canvasWidth,m=this.canvasHeight,v=f.get("chartRangeMin")===U?B.min.apply(B,d):f.get("chartRangeMin"),b=f.get("chartRangeMax")===U?B.max.apply(B,d):f.get("chartRangeMax"),y=0;if(C._super.render.call(this)){if(f.get("raw"))f.get("showOutliers")&&5<d.length?(t=d[0],e=d[1],n=d[2],s=d[3],a=d[4],o=d[5],r=d[6]):(e=d[0],n=d[1],s=d[2],a=d[3],o=d[4]);else if(d.sort(function(e,t){return e-t}),n=w(d,1),s=w(d,2),i=(a=w(d,3))-n,f.get("showOutliers")){for(e=o=U,l=0;l<p;l++)e===U&&d[l]>n-i*f.get("outlierIQR")&&(e=d[l]),d[l]<a+i*f.get("outlierIQR")&&(o=d[l]);t=d[0],r=d[p-1]}else e=d[0],o=d[p-1];this.quartiles=[n,s,a],this.lwhisker=e,this.rwhisker=o,this.loutlier=t,this.routlier=r,c=g/(b-v+1),f.get("showOutliers")&&(y=B.ceil(f.get("spotRadius")),c=(g-=2*B.ceil(f.get("spotRadius")))/(b-v+1),t<e&&u.drawCircle((t-v)*c+y,m/2,f.get("spotRadius"),f.get("outlierLineColor"),f.get("outlierFillColor")).append(),o<r&&u.drawCircle((r-v)*c+y,m/2,f.get("spotRadius"),f.get("outlierLineColor"),f.get("outlierFillColor")).append()),u.drawRect(B.round((n-v)*c+y),B.round(.1*m),B.round((a-n)*c),B.round(.8*m),f.get("boxLineColor"),f.get("boxFillColor")).append(),u.drawLine(B.round((e-v)*c+y),B.round(m/2),B.round((n-v)*c+y),B.round(m/2),f.get("lineColor")).append(),u.drawLine(B.round((e-v)*c+y),B.round(m/4),B.round((e-v)*c+y),B.round(m-m/4),f.get("whiskerColor")).append(),u.drawLine(B.round((o-v)*c+y),B.round(m/2),B.round((a-v)*c+y),B.round(m/2),f.get("lineColor")).append(),u.drawLine(B.round((o-v)*c+y),B.round(m/4),B.round((o-v)*c+y),B.round(m-m/4),f.get("whiskerColor")).append(),u.drawLine(B.round((s-v)*c+y),B.round(.1*m),B.round((s-v)*c+y),B.round(.9*m),f.get("medianColor")).append(),f.get("target")&&(h=B.ceil(f.get("spotRadius")),u.drawLine(B.round((f.get("target")-v)*c+y),B.round(m/2-h),B.round((f.get("target")-v)*c+y),B.round(m/2+h),f.get("targetColor")).append(),u.drawLine(B.round((f.get("target")-v)*c+y-h),B.round(m/2),B.round((f.get("target")-v)*c+y+h),B.round(m/2),f.get("targetColor")).append()),u.render()}}}),p=t({init:function(e,t,i,n){this.target=e,this.id=t,this.type=i,this.args=n},append:function(){return this.target.appendShape(this),this}}),f=t({_pxregex:/(\d+)(px)?\s*$/i,init:function(e,t,i){e&&(this.width=e,this.height=t,this.target=i,this.lastShapeId=null,i[0]&&(i=i[0]),P.data(i,"_jqs_vcanvas",this))},drawLine:function(e,t,i,n,s,a){return this.drawShape([[e,t],[i,n]],s,a)},drawShape:function(e,t,i,n){return this._genShape("Shape",[e,t,i,n])},drawCircle:function(e,t,i,n,s,a){return this._genShape("Circle",[e,t,i,n,s,a])},drawPieSlice:function(e,t,i,n,s,a,o){return this._genShape("PieSlice",[e,t,i,n,s,a,o])},drawRect:function(e,t,i,n,s,a){return this._genShape("Rect",[e,t,i,n,s,a])},getElement:function(){return this.canvas},getLastShapeId:function(){return this.lastShapeId},reset:function(){alert("reset not implemented")},_insert:function(e,t){P(t).html(e)},_calculatePixelDims:function(e,t,i){var n;n=this._pxregex.exec(t),this.pixelHeight=n?n[1]:P(i).height(),n=this._pxregex.exec(e),this.pixelWidth=n?n[1]:P(i).width()},_genShape:function(e,t){var i=_++;return t.unshift(i),new p(this,i,e,t)},appendShape:function(e){alert("appendShape not implemented")},replaceWithShape:function(e,t){alert("replaceWithShape not implemented")},insertAfterShape:function(e,t){alert("insertAfterShape not implemented")},removeShapeId:function(e){alert("removeShapeId not implemented")},getShapeAt:function(e,t,i){alert("getShapeAt not implemented")},render:function(){alert("render not implemented")}}),g=t(f,{init:function(e,t,i,n){g._super.init.call(this,e,t,i),this.canvas=S.createElement("canvas"),i[0]&&(i=i[0]),P.data(i,"_jqs_vcanvas",this),P(this.canvas).css({display:"inline-block",width:e,height:t,verticalAlign:"top"}),this._insert(this.canvas,i),this._calculatePixelDims(e,t,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,this.interact=n,this.shapes={},this.shapeseq=[],this.currentTargetShapeId=U,P(this.canvas).css({width:this.pixelWidth,height:this.pixelHeight})},_getContext:function(e,t,i){var n=this.canvas.getContext("2d");return e!==U&&(n.strokeStyle=e),n.lineWidth=i===U?1:i,t!==U&&(n.fillStyle=t),n},reset:function(){this._getContext().clearRect(0,0,this.pixelWidth,this.pixelHeight),this.shapes={},this.shapeseq=[],this.currentTargetShapeId=U},_drawShape:function(e,t,i,n,s){var a,o,r=this._getContext(i,n,s);for(r.beginPath(),r.moveTo(t[0][0]+.5,t[0][1]+.5),a=1,o=t.length;a<o;a++)r.lineTo(t[a][0]+.5,t[a][1]+.5);i!==U&&r.stroke(),n!==U&&r.fill(),this.targetX!==U&&this.targetY!==U&&r.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=e)},_drawCircle:function(e,t,i,n,s,a,o){var r=this._getContext(s,a,o);r.beginPath(),r.arc(t,i,n,0,2*B.PI,!1),this.targetX!==U&&this.targetY!==U&&r.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=e),s!==U&&r.stroke(),a!==U&&r.fill()},_drawPieSlice:function(e,t,i,n,s,a,o,r){var l=this._getContext(o,r);l.beginPath(),l.moveTo(t,i),l.arc(t,i,n,s,a,!1),l.lineTo(t,i),l.closePath(),o!==U&&l.stroke(),r&&l.fill(),this.targetX!==U&&this.targetY!==U&&l.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=e)},_drawRect:function(e,t,i,n,s,a,o){return this._drawShape(e,[[t,i],[t+n,i],[t+n,i+s],[t,i+s],[t,i]],a,o)},appendShape:function(e){return this.shapes[e.id]=e,this.shapeseq.push(e.id),this.lastShapeId=e.id,e.id},replaceWithShape:function(e,t){var i,n=this.shapeseq;for(this.shapes[t.id]=t,i=n.length;i--;)n[i]==e&&(n[i]=t.id);delete this.shapes[e]},replaceWithShapes:function(e,t){var i,n,s,a=this.shapeseq,o={};for(n=e.length;n--;)o[e[n]]=!0;for(n=a.length;n--;)o[i=a[n]]&&(a.splice(n,1),delete this.shapes[i],s=n);for(n=t.length;n--;)a.splice(s,0,t[n].id),this.shapes[t[n].id]=t[n]},insertAfterShape:function(e,t){var i,n=this.shapeseq;for(i=n.length;i--;)if(n[i]===e)return n.splice(i+1,0,t.id),void(this.shapes[t.id]=t)},removeShapeId:function(e){var t,i=this.shapeseq;for(t=i.length;t--;)if(i[t]===e){i.splice(t,1);break}delete this.shapes[e]},getShapeAt:function(e,t,i){return this.targetX=t,this.targetY=i,this.render(),this.currentTargetShapeId},render:function(){var e,t,i=this.shapeseq,n=this.shapes,s=i.length;for(this._getContext().clearRect(0,0,this.pixelWidth,this.pixelHeight),t=0;t<s;t++)this["_draw"+(e=n[i[t]]).type].apply(this,e.args);this.interact||(this.shapes={},this.shapeseq=[])}}),m=t(f,{init:function(e,t,i){var n;m._super.init.call(this,e,t,i),i[0]&&(i=i[0]),P.data(i,"_jqs_vcanvas",this),this.canvas=S.createElement("span"),P(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:e,height:t,margin:"0px",padding:"0px",verticalAlign:"top"}),this._insert(this.canvas,i),this._calculatePixelDims(e,t,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,n='<v:group coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'" style="position:absolute;top:0;left:0;width:'+this.pixelWidth+"px;height="+this.pixelHeight+'px;"></v:group>',this.canvas.insertAdjacentHTML("beforeEnd",n),this.group=P(this.canvas).children()[0],this.rendered=!1,this.prerender=""},_drawShape:function(e,t,i,n,s){var a,o,r,l,h,c,u=[];for(c=0,h=t.length;c<h;c++)u[c]=t[c][0]+","+t[c][1];return a=u.splice(0,1),s=s===U?1:s,o=i===U?' stroked="false" ':' strokeWeight="'+s+'px" strokeColor="'+i+'" ',r=n===U?' filled="false"':' fillColor="'+n+'" filled="true" ',l=u[0]===u[u.length-1]?"x ":"",'<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+e+'" '+o+r+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+a+" l "+u.join(", ")+" "+l+'e"> </v:shape>'},_drawCircle:function(e,t,i,n,s,a,o){return'<v:oval  id="jqsshape'+e+'" '+(s===U?' stroked="false" ':' strokeWeight="'+o+'px" strokeColor="'+s+'" ')+(a===U?' filled="false"':' fillColor="'+a+'" filled="true" ')+' style="position:absolute;top:'+(i-=n)+"px; left:"+(t-=n)+"px; width:"+2*n+"px; height:"+2*n+'px"></v:oval>'},_drawPieSlice:function(e,t,i,n,s,a,o,r){var l,h,c,u,d,p,f;if(s===a)return"";if(a-s==2*B.PI&&(s=0,a=2*B.PI),h=t+B.round(B.cos(s)*n),c=i+B.round(B.sin(s)*n),u=t+B.round(B.cos(a)*n),d=i+B.round(B.sin(a)*n),h===u&&c===d){if(a-s<B.PI)return"";h=u=t+n,c=d=i}return h===u&&c===d&&a-s<B.PI?"":(l=[t-n,i-n,t+n,i+n,h,c,u,d],p=o===U?' stroked="false" ':' strokeWeight="1px" strokeColor="'+o+'" ',f=r===U?' filled="false"':' fillColor="'+r+'" filled="true" ','<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+e+'" '+p+f+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+t+","+i+" wa "+l.join(", ")+' x e"> </v:shape>')},_drawRect:function(e,t,i,n,s,a,o){return this._drawShape(e,[[t,i],[t,i+s],[t+n,i+s],[t+n,i],[t,i]],a,o)},reset:function(){this.group.innerHTML=""},appendShape:function(e){var t=this["_draw"+e.type].apply(this,e.args);return this.rendered?this.group.insertAdjacentHTML("beforeEnd",t):this.prerender+=t,this.lastShapeId=e.id,e.id},replaceWithShape:function(e,t){var i=P("#jqsshape"+e),n=this["_draw"+t.type].apply(this,t.args);i[0].outerHTML=n},replaceWithShapes:function(e,t){var i,n=P("#jqsshape"+e[0]),s="",a=t.length;for(i=0;i<a;i++)s+=this["_draw"+t[i].type].apply(this,t[i].args);for(n[0].outerHTML=s,i=1;i<e.length;i++)P("#jqsshape"+e[i]).remove()},insertAfterShape:function(e,t){var i=P("#jqsshape"+e),n=this["_draw"+t.type].apply(this,t.args);i[0].insertAdjacentHTML("afterEnd",n)},removeShapeId:function(e){var t=P("#jqsshape"+e);this.group.removeChild(t[0])},getShapeAt:function(e,t,i){return e.id.substr(8)},render:function(){this.rendered||(this.group.innerHTML=this.prerender,this.rendered=!0)}})},"function"==typeof define&&define.amd?define(["jquery"],e):jQuery&&!jQuery.fn.sparkline&&e(jQuery)}(document,Math),function(c){function e(){}function u(e,t){g.ev.on("mfp"+e+i,t)}function d(e,t,i,n){var s=document.createElement("div");return s.className="mfp-"+e,i&&(s.innerHTML=i),n?t&&t.appendChild(s):(s=c(s),t&&s.appendTo(t)),s}function p(e,t){g.ev.triggerHandler("mfp"+e,t),g.st.callbacks&&(e=e.charAt(0).toLowerCase()+e.slice(1),g.st.callbacks[e]&&g.st.callbacks[e].apply(g,c.isArray(t)?t:[t]))}function f(e){return e===t&&g.currTemplate.closeBtn||(g.currTemplate.closeBtn=c(g.st.closeMarkup.replace("%title%",g.st.tClose)),t=e),g.currTemplate.closeBtn}function a(){c.magnificPopup.instance||((g=new e).init(),c.magnificPopup.instance=g)}var g,n,m,v,s,b,t,r="Close",l="BeforeClose",y="MarkupParse",i=".mfp",w="mfp-ready",o="mfp-removing",h="mfp-prevent-close",C=!!window.jQuery,x=c(window);e.prototype={constructor:e,init:function(){var e=navigator.appVersion;g.isIE7=-1!==e.indexOf("MSIE 7."),g.isIE8=-1!==e.indexOf("MSIE 8."),g.isLowIE=g.isIE7||g.isIE8,g.isAndroid=/android/gi.test(e),g.isIOS=/iphone|ipad|ipod/gi.test(e),g.supportsTransition=function(){var e=document.createElement("p").style,t=["ms","O","Moz","Webkit"];if(void 0!==e.transition)return!0;for(;t.length;)if(t.pop()+"Transition"in e)return!0;return!1}(),g.probablyMobile=g.isAndroid||g.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),v=c(document),g.popupsCache={}},open:function(e){var t;if(m=m||c(document.body),!1===e.isObj){g.items=e.items.toArray(),g.index=0;var i,n=e.items;for(t=0;t<n.length;t++)if((i=n[t]).parsed&&(i=i.el[0]),i===e.el[0]){g.index=t;break}}else g.items=c.isArray(e.items)?e.items:[e.items],g.index=e.index||0;if(!g.isOpen){g.types=[],b="",e.mainEl&&e.mainEl.length?g.ev=e.mainEl.eq(0):g.ev=v,e.key?(g.popupsCache[e.key]||(g.popupsCache[e.key]={}),g.currTemplate=g.popupsCache[e.key]):g.currTemplate={},g.st=c.extend(!0,{},c.magnificPopup.defaults,e),g.fixedContentPos="auto"===g.st.fixedContentPos?!g.probablyMobile:g.st.fixedContentPos,g.st.modal&&(g.st.closeOnContentClick=!1,g.st.closeOnBgClick=!1,g.st.showCloseBtn=!1,g.st.enableEscapeKey=!1),g.bgOverlay||(g.bgOverlay=d("bg").on("click.mfp",function(){g.close()}),g.wrap=d("wrap").attr("tabindex",-1).on("click.mfp",function(e){g._checkIfClose(e.target)&&g.close()}),g.container=d("container",g.wrap)),g.contentContainer=d("content"),g.st.preloader&&(g.preloader=d("preloader",g.container,g.st.tLoading));var s=c.magnificPopup.modules;for(t=0;t<s.length;t++){var a=s[t];a=a.charAt(0).toUpperCase()+a.slice(1),g["init"+a].call(g)}p("BeforeOpen"),g.st.showCloseBtn&&(g.st.closeBtnInside?(u(y,function(e,t,i,n){i.close_replaceWith=f(n.type)}),b+=" mfp-close-btn-in"):g.wrap.append(f())),g.st.alignTop&&(b+=" mfp-align-top"),g.fixedContentPos?g.wrap.css({overflow:g.st.overflowY,overflowX:"hidden",overflowY:g.st.overflowY}):g.wrap.css({top:x.scrollTop(),position:"absolute"}),!1!==g.st.fixedBgPos&&("auto"!==g.st.fixedBgPos||g.fixedContentPos)||g.bgOverlay.css({height:v.height(),position:"absolute"}),g.st.enableEscapeKey&&v.on("keyup.mfp",function(e){27===e.keyCode&&g.close()}),x.on("resize.mfp",function(){g.updateSize()}),g.st.closeOnContentClick||(b+=" mfp-auto-cursor"),b&&g.wrap.addClass(b);var o=g.wH=x.height(),r={};if(g.fixedContentPos&&g._hasScrollBar(o)){var l=g._getScrollbarSize();l&&(r.marginRight=l)}g.fixedContentPos&&(g.isIE7?c("body, html").css("overflow","hidden"):r.overflow="hidden");var h=g.st.mainClass;return g.isIE7&&(h+=" mfp-ie7"),h&&g._addClassToMFP(h),g.updateItemHTML(),p("BuildControls"),c("html").css(r),g.bgOverlay.add(g.wrap).prependTo(g.st.prependTo||m),g._lastFocusedEl=document.activeElement,setTimeout(function(){g.content?(g._addClassToMFP(w),g._setFocus()):g.bgOverlay.addClass(w),v.on("focusin.mfp",g._onFocusIn)},16),g.isOpen=!0,g.updateSize(o),p("Open"),e}g.updateItemHTML()},close:function(){g.isOpen&&(p(l),g.isOpen=!1,g.st.removalDelay&&!g.isLowIE&&g.supportsTransition?(g._addClassToMFP(o),setTimeout(function(){g._close()},g.st.removalDelay)):g._close())},_close:function(){p(r);var e=o+" "+w+" ";if(g.bgOverlay.detach(),g.wrap.detach(),g.container.empty(),g.st.mainClass&&(e+=g.st.mainClass+" "),g._removeClassFromMFP(e),g.fixedContentPos){var t={marginRight:""};g.isIE7?c("body, html").css("overflow",""):t.overflow="",c("html").css(t)}v.off("keyup.mfp focusin.mfp"),g.ev.off(i),g.wrap.attr("class","mfp-wrap").removeAttr("style"),g.bgOverlay.attr("class","mfp-bg"),g.container.attr("class","mfp-container"),!g.st.showCloseBtn||g.st.closeBtnInside&&!0!==g.currTemplate[g.currItem.type]||!g.currTemplate.closeBtn||g.currTemplate.closeBtn.detach(),g._lastFocusedEl&&c(g._lastFocusedEl).focus(),g.currItem=null,g.content=null,g.currTemplate=null,g.prevHeight=0,p("AfterClose")},updateSize:function(e){if(g.isIOS){var t=document.documentElement.clientWidth/window.innerWidth,i=window.innerHeight*t;g.wrap.css("height",i),g.wH=i}else g.wH=e||x.height();g.fixedContentPos||g.wrap.css("height",g.wH),p("Resize")},updateItemHTML:function(){var e=g.items[g.index];g.contentContainer.detach(),g.content&&g.content.detach(),e.parsed||(e=g.parseEl(g.index));var t=e.type;if(p("BeforeChange",[g.currItem?g.currItem.type:"",t]),g.currItem=e,!g.currTemplate[t]){var i=!!g.st[t]&&g.st[t].markup;p("FirstMarkupParse",i),g.currTemplate[t]=!i||c(i)}s&&s!==e.type&&g.container.removeClass("mfp-"+s+"-holder");var n=g["get"+t.charAt(0).toUpperCase()+t.slice(1)](e,g.currTemplate[t]);g.appendContent(n,t),e.preloaded=!0,p("Change",e),s=e.type,g.container.prepend(g.contentContainer),p("AfterChange")},appendContent:function(e,t){(g.content=e)?g.st.showCloseBtn&&g.st.closeBtnInside&&!0===g.currTemplate[t]?g.content.find(".mfp-close").length||g.content.append(f()):g.content=e:g.content="",p("BeforeAppend"),g.container.addClass("mfp-"+t+"-holder"),g.contentContainer.append(g.content)},parseEl:function(e){var t,i=g.items[e];if((i=i.tagName?{el:c(i)}:(t=i.type,{data:i,src:i.src})).el){for(var n=g.types,s=0;s<n.length;s++)if(i.el.hasClass("mfp-"+n[s])){t=n[s];break}i.src=i.el.attr("data-mfp-src"),i.src||(i.src=i.el.attr("href"))}return i.type=t||g.st.type||"inline",i.index=e,i.parsed=!0,g.items[e]=i,p("ElementParse",i),g.items[e]},addGroup:function(t,i){function e(e){e.mfpEl=this,g._openClick(e,t,i)}var n="click.magnificPopup";(i=i||{}).mainEl=t,i.items?(i.isObj=!0,t.off(n).on(n,e)):(i.isObj=!1,i.delegate?t.off(n).on(n,i.delegate,e):(i.items=t).off(n).on(n,e))},_openClick:function(e,t,i){if((void 0!==i.midClick?i.midClick:c.magnificPopup.defaults.midClick)||2!==e.which&&!e.ctrlKey&&!e.metaKey){var n=void 0!==i.disableOn?i.disableOn:c.magnificPopup.defaults.disableOn;if(n)if(c.isFunction(n)){if(!n.call(g))return!0}else if(x.width()<n)return!0;e.type&&(e.preventDefault(),g.isOpen&&e.stopPropagation()),i.el=c(e.mfpEl),i.delegate&&(i.items=t.find(i.delegate)),g.open(i)}},updateStatus:function(e,t){if(g.preloader){n!==e&&g.container.removeClass("mfp-s-"+n),t||"loading"!==e||(t=g.st.tLoading);var i={status:e,text:t};p("UpdateStatus",i),e=i.status,t=i.text,g.preloader.html(t),g.preloader.find("a").on("click",function(e){e.stopImmediatePropagation()}),g.container.addClass("mfp-s-"+e),n=e}},_checkIfClose:function(e){if(!c(e).hasClass(h)){var t=g.st.closeOnContentClick,i=g.st.closeOnBgClick;if(t&&i)return!0;if(!g.content||c(e).hasClass("mfp-close")||g.preloader&&e===g.preloader[0])return!0;if(e===g.content[0]||c.contains(g.content[0],e)){if(t)return!0}else if(i&&c.contains(document,e))return!0;return!1}},_addClassToMFP:function(e){g.bgOverlay.addClass(e),g.wrap.addClass(e)},_removeClassFromMFP:function(e){this.bgOverlay.removeClass(e),g.wrap.removeClass(e)},_hasScrollBar:function(e){return(g.isIE7?v.height():document.body.scrollHeight)>(e||x.height())},_setFocus:function(){(g.st.focus?g.content.find(g.st.focus).eq(0):g.wrap).focus()},_onFocusIn:function(e){if(e.target!==g.wrap[0]&&!c.contains(g.wrap[0],e.target))return g._setFocus(),!1},_parseMarkup:function(s,e,t){var a;t.data&&(e=c.extend(t.data,e)),p(y,[s,e,t]),c.each(e,function(e,t){if(void 0===t||!1===t)return!0;if(1<(a=e.split("_")).length){var i=s.find(".mfp-"+a[0]);if(0<i.length){var n=a[1];"replaceWith"===n?i[0]!==t[0]&&i.replaceWith(t):"img"===n?i.is("img")?i.attr("src",t):i.replaceWith('<img src="'+t+'" class="'+i.attr("class")+'" />'):i.attr(a[1],t)}}else s.find(".mfp-"+e).html(t)})},_getScrollbarSize:function(){if(void 0===g.scrollbarSize){var e=document.createElement("div");e.id="mfp-sbm",e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e),g.scrollbarSize=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return g.scrollbarSize}},c.magnificPopup={instance:null,proto:e.prototype,modules:[],open:function(e,t){return a(),(e=e?c.extend(!0,{},e):{}).isObj=!0,e.index=t||0,this.instance.open(e)},close:function(){return c.magnificPopup.instance&&c.magnificPopup.instance.close()},registerModule:function(e,t){t.options&&(c.magnificPopup.defaults[e]=t.options),c.extend(this.proto,t.proto),this.modules.push(e)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}},c.fn.magnificPopup=function(e){a();var t=c(this);if("string"==typeof e)if("open"===e){var i,n=C?t.data("magnificPopup"):t[0].magnificPopup,s=parseInt(arguments[1],10)||0;i=n.items?n.items[s]:(i=t,n.delegate&&(i=i.find(n.delegate)),i.eq(s)),g._openClick({mfpEl:i},t,n)}else g.isOpen&&g[e].apply(g,Array.prototype.slice.call(arguments,1));else e=c.extend(!0,{},e),C?t.data("magnificPopup",e):t[0].magnificPopup=e,g.addGroup(t,e);return t};function _(){k&&(T.after(k.addClass(S)).detach(),k=null)}var S,T,k,D="inline";c.magnificPopup.registerModule(D,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){g.types.push(D),u(r+"."+D,function(){_()})},getInline:function(e,t){if(_(),e.src){var i=g.st.inline,n=c(e.src);if(n.length){var s=n[0].parentNode;s&&s.tagName&&(T||(S=i.hiddenClass,T=d(S),S="mfp-"+S),k=n.after(T).detach().removeClass(S)),g.updateStatus("ready")}else g.updateStatus("error",i.tNotFound),n=c("<div>");return e.inlineElement=n}return g.updateStatus("ready"),g._parseMarkup(t,{},e),t}}});function E(){R&&m.removeClass(R)}function N(){E(),g.req&&g.req.abort()}var R,M="ajax";c.magnificPopup.registerModule(M,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){g.types.push(M),R=g.st.ajax.cursor,u(r+"."+M,N),u("BeforeChange.ajax",N)},getAjax:function(s){R&&m.addClass(R),g.updateStatus("loading");var e=c.extend({url:s.src,success:function(e,t,i){var n={data:e,xhr:i};p("ParseAjax",n),g.appendContent(c(n.data),M),s.finished=!0,E(),g._setFocus(),setTimeout(function(){g.wrap.addClass(w)},16),g.updateStatus("ready"),p("AjaxContentAdded")},error:function(){E(),s.finished=s.loadError=!0,g.updateStatus("error",g.st.ajax.tError.replace("%url%",s.src))}},g.st.ajax.settings);return g.req=c.ajax(e),""}}});var I;c.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var e=g.st.image,t=".image";g.types.push("image"),u("Open"+t,function(){"image"===g.currItem.type&&e.cursor&&m.addClass(e.cursor)}),u(r+t,function(){e.cursor&&m.removeClass(e.cursor),x.off("resize.mfp")}),u("Resize"+t,g.resizeImage),g.isLowIE&&u("AfterChange",g.resizeImage)},resizeImage:function(){var e=g.currItem;if(e&&e.img&&g.st.image.verticalFit){var t=0;g.isLowIE&&(t=parseInt(e.img.css("padding-top"),10)+parseInt(e.img.css("padding-bottom"),10)),e.img.css("max-height",g.wH-t)}},_onImageHasSize:function(e){e.img&&(e.hasSize=!0,I&&clearInterval(I),e.isCheckingImgSize=!1,p("ImageHasSize",e),e.imgHidden&&(g.content&&g.content.removeClass("mfp-loading"),e.imgHidden=!1))},findImageSize:function(t){var i=0,n=t.img[0],s=function(e){I&&clearInterval(I),I=setInterval(function(){0<n.naturalWidth?g._onImageHasSize(t):(200<i&&clearInterval(I),3===++i?s(10):40===i?s(50):100===i&&s(500))},e)};s(1)},getImage:function(e,t){var i=0,n=function(){e&&(e.img[0].complete?(e.img.off(".mfploader"),e===g.currItem&&(g._onImageHasSize(e),g.updateStatus("ready")),e.hasSize=!0,e.loaded=!0,p("ImageLoadComplete")):++i<200?setTimeout(n,100):s())},s=function(){e&&(e.img.off(".mfploader"),e===g.currItem&&(g._onImageHasSize(e),g.updateStatus("error",a.tError.replace("%url%",e.src))),e.hasSize=!0,e.loaded=!0,e.loadError=!0)},a=g.st.image,o=t.find(".mfp-img");if(o.length){var r=document.createElement("img");r.className="mfp-img",e.img=c(r).on("load.mfploader",n).on("error.mfploader",s),r.src=e.src,o.is("img")&&(e.img=e.img.clone()),0<(r=e.img[0]).naturalWidth?e.hasSize=!0:r.width||(e.hasSize=!1)}return g._parseMarkup(t,{title:function(e){if(e.data&&void 0!==e.data.title)return e.data.title;var t=g.st.image.titleSrc;if(t){if(c.isFunction(t))return t.call(g,e);if(e.el)return e.el.attr(t)||""}return""}(e),img_replaceWith:e.img},e),g.resizeImage(),e.hasSize?(I&&clearInterval(I),e.loadError?(t.addClass("mfp-loading"),g.updateStatus("error",a.tError.replace("%url%",e.src))):(t.removeClass("mfp-loading"),g.updateStatus("ready"))):(g.updateStatus("loading"),e.loading=!0,e.hasSize||(e.imgHidden=!0,t.addClass("mfp-loading"),g.findImageSize(e))),t}}});var A;c.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(e){return e.is("img")?e:e.find("img")}},proto:{initZoom:function(){var e,a=g.st.zoom;if(a.enabled&&g.supportsTransition){function t(e){var t=e.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),i="all "+a.duration/1e3+"s "+a.easing,n={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},s="transition";return n["-webkit-"+s]=n["-moz-"+s]=n["-o-"+s]=n[s]=i,t.css(n),t}function i(){g.content.css("visibility","visible")}var n,s,o=a.duration;u("BuildControls.zoom",function(){if(g._allowZoom()){if(clearTimeout(n),g.content.css("visibility","hidden"),!(e=g._getItemToZoom()))return void i();(s=t(e)).css(g._getOffset()),g.wrap.append(s),n=setTimeout(function(){s.css(g._getOffset(!0)),n=setTimeout(function(){i(),setTimeout(function(){s.remove(),e=s=null,p("ZoomAnimationEnded")},16)},o)},16)}}),u(l+".zoom",function(){if(g._allowZoom()){if(clearTimeout(n),g.st.removalDelay=o,!e){if(!(e=g._getItemToZoom()))return;s=t(e)}s.css(g._getOffset(!0)),g.wrap.append(s),g.content.css("visibility","hidden"),setTimeout(function(){s.css(g._getOffset())},16)}}),u(r+".zoom",function(){g._allowZoom()&&(i(),s&&s.remove(),e=null)})}},_allowZoom:function(){return"image"===g.currItem.type},_getItemToZoom:function(){return!!g.currItem.hasSize&&g.currItem.img},_getOffset:function(e){var t,i=(t=e?g.currItem.img:g.st.zoom.opener(g.currItem.el||g.currItem)).offset(),n=parseInt(t.css("padding-top"),10),s=parseInt(t.css("padding-bottom"),10);i.top-=c(window).scrollTop()-n;var a={width:t.width(),height:(C?t.innerHeight():t[0].offsetHeight)-s-n};return void 0===A&&(A=void 0!==document.createElement("p").style.MozTransform),A?a["-moz-transform"]=a.transform="translate("+i.left+"px,"+i.top+"px)":(a.left=i.left,a.top=i.top),a}}});function F(e){if(g.currTemplate[P]){var t=g.currTemplate[P].find("iframe");t.length&&(e||(t[0].src="//about:blank"),g.isIE8&&t.css("display",e?"block":"none"))}}var P="iframe";c.magnificPopup.registerModule(P,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){g.types.push(P),u("BeforeChange",function(e,t,i){t!==i&&(t===P?F():i===P&&F(!0))}),u(r+"."+P,function(){F()})},getIframe:function(e,t){var i=e.src,n=g.st.iframe;c.each(n.patterns,function(){if(-1<i.indexOf(this.index))return this.id&&(i="string"==typeof this.id?i.substr(i.lastIndexOf(this.id)+this.id.length,i.length):this.id.call(this,i)),i=this.src.replace("%id%",i),!1});var s={};return n.srcAction&&(s[n.srcAction]=i),g._parseMarkup(t,s,e),g.updateStatus("ready"),t}}});function O(e){var t=g.items.length;return t-1<e?e-t:e<0?t+e:e}function L(e,t,i){return e.replace(/%curr%/gi,t+1).replace(/%total%/gi,i)}c.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var a=g.st.gallery,e=".mfp-gallery",s=Boolean(c.fn.mfpFastClick);if(g.direction=!0,!a||!a.enabled)return!1;b+=" mfp-gallery",u("Open"+e,function(){a.navigateByImgClick&&g.wrap.on("click"+e,".mfp-img",function(){if(1<g.items.length)return g.next(),!1}),v.on("keydown"+e,function(e){37===e.keyCode?g.prev():39===e.keyCode&&g.next()})}),u("UpdateStatus"+e,function(e,t){t.text&&(t.text=L(t.text,g.currItem.index,g.items.length))}),u(y+e,function(e,t,i,n){var s=g.items.length;i.counter=1<s?L(a.tCounter,n.index,s):""}),u("BuildControls"+e,function(){if(1<g.items.length&&a.arrows&&!g.arrowLeft){var e=a.arrowMarkup,t=g.arrowLeft=c(e.replace(/%title%/gi,a.tPrev).replace(/%dir%/gi,"left")).addClass(h),i=g.arrowRight=c(e.replace(/%title%/gi,a.tNext).replace(/%dir%/gi,"right")).addClass(h),n=s?"mfpFastClick":"click";t[n](function(){g.prev()}),i[n](function(){g.next()}),g.isIE7&&(d("b",t[0],!1,!0),d("a",t[0],!1,!0),d("b",i[0],!1,!0),d("a",i[0],!1,!0)),g.container.append(t.add(i))}}),u("Change"+e,function(){g._preloadTimeout&&clearTimeout(g._preloadTimeout),g._preloadTimeout=setTimeout(function(){g.preloadNearbyImages(),g._preloadTimeout=null},16)}),u(r+e,function(){v.off(e),g.wrap.off("click"+e),g.arrowLeft&&s&&g.arrowLeft.add(g.arrowRight).destroyMfpFastClick(),g.arrowRight=g.arrowLeft=null})},next:function(){g.direction=!0,g.index=O(g.index+1),g.updateItemHTML()},prev:function(){g.direction=!1,g.index=O(g.index-1),g.updateItemHTML()},goTo:function(e){g.direction=e>=g.index,g.index=e,g.updateItemHTML()},preloadNearbyImages:function(){var e,t=g.st.gallery.preload,i=Math.min(t[0],g.items.length),n=Math.min(t[1],g.items.length);for(e=1;e<=(g.direction?n:i);e++)g._preloadItem(g.index+e);for(e=1;e<=(g.direction?i:n);e++)g._preloadItem(g.index-e)},_preloadItem:function(e){if(e=O(e),!g.items[e].preloaded){var t=g.items[e];t.parsed||(t=g.parseEl(e)),p("LazyLoad",t),"image"===t.type&&(t.img=c('<img class="mfp-img" />').on("load.mfploader",function(){t.hasSize=!0}).on("error.mfploader",function(){t.hasSize=!0,t.loadError=!0,p("LazyLoadError",t)}).attr("src",t.src)),t.preloaded=!0}}}});var z,H,W="retina";function j(){x.off("touchmove"+H+" touchend"+H)}c.magnificPopup.registerModule(W,{options:{replaceSrc:function(e){return e.src.replace(/\.\w+$/,function(e){return"@2x"+e})},ratio:1},proto:{initRetina:function(){if(1<window.devicePixelRatio){var i=g.st.retina,n=i.ratio;1<(n=isNaN(n)?n():n)&&(u("ImageHasSize."+W,function(e,t){t.img.css({"max-width":t.img[0].naturalWidth/n,width:"100%"})}),u("ElementParse."+W,function(e,t){t.src=i.replaceSrc(t,n)}))}}}}),z="ontouchstart"in window,H=".mfpFastClick",c.fn.mfpFastClick=function(l){return c(this).each(function(){var t,i,n,s,a,o,r,e=c(this);z&&e.on("touchstart"+H,function(e){a=!1,r=1,o=e.originalEvent?e.originalEvent.touches[0]:e.touches[0],n=o.clientX,s=o.clientY,x.on("touchmove"+H,function(e){o=e.originalEvent?e.originalEvent.touches:e.touches,r=o.length,o=o[0],(10<Math.abs(o.clientX-n)||10<Math.abs(o.clientY-s))&&(a=!0,j())}).on("touchend"+H,function(e){j(),a||1<r||(t=!0,e.preventDefault(),clearTimeout(i),i=setTimeout(function(){t=!1},1e3),l())})});e.on("click"+H,function(){t||l()})})},c.fn.destroyMfpFastClick=function(){c(this).off("touchstart"+H+" click"+H),z&&x.off("touchmove"+H+" touchend"+H)},a()}(window.jQuery||window.Zepto),function(_){jQuery.fn.extend({slimScroll:function(C){var x=_.extend({width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},C);return this.each(function(){function e(e){if(s){var t=0;(e=e||window.event).wheelDelta&&(t=-e.wheelDelta/120),e.detail&&(t=e.detail/3),_(e.target||e.srcTarget||e.srcElement).closest("."+x.wrapperClass).is(m.parent())&&n(t,!0),e.preventDefault&&!g&&e.preventDefault(),g||(e.returnValue=!1)}}function n(e,t,i){g=!1;var n=e,s=m.outerHeight()-b.outerHeight();t&&(n=parseInt(b.css("top"))+e*parseInt(x.wheelStep)/100*b.outerHeight(),n=Math.min(Math.max(n,0),s),n=0<e?Math.ceil(n):Math.floor(n),b.css({top:n+"px"})),n=(d=parseInt(b.css("top"))/(m.outerHeight()-b.outerHeight()))*(m[0].scrollHeight-m.outerHeight()),i&&(e=(n=e)/m[0].scrollHeight*m.outerHeight(),e=Math.min(Math.max(e,0),s),b.css({top:e+"px"})),m.scrollTop(n),m.trigger("slimscrolling",~~n),a(),o()}function i(){u=Math.max(m.outerHeight()/m[0].scrollHeight*m.outerHeight(),f),b.css({height:u+"px"});var e=u==m.outerHeight()?"none":"block";b.css({display:e})}function a(){i(),clearTimeout(h),d==~~d?(g=x.allowPageScroll,p!=d&&m.trigger("slimscroll",0==~~d?"top":"bottom")):g=!1,p=d,u>=m.outerHeight()?g=!0:(b.stop(!0,!0).fadeIn("fast"),x.railVisible&&y.stop(!0,!0).fadeIn("fast"))}function o(){x.alwaysVisible||(h=setTimeout(function(){x.disableFadeOut&&s||r||l||(b.fadeOut("slow"),y.fadeOut("slow"))},1e3))}var s,r,l,h,c,u,d,p,f=30,g=!1,m=_(this);if(m.parent().hasClass(x.wrapperClass)){var v=m.scrollTop(),b=m.parent().find("."+x.barClass),y=m.parent().find("."+x.railClass);if(i(),_.isPlainObject(C)){if("height"in C&&"auto"==C.height){m.parent().css("height","auto"),m.css("height","auto");var w=m.parent().parent().height();m.parent().css("height",w),m.css("height",w)}if("scrollTo"in C)v=parseInt(x.scrollTo);else if("scrollBy"in C)v+=parseInt(x.scrollBy);else if("destroy"in C)return b.remove(),y.remove(),void m.unwrap();n(v,!1,!0)}}else{x.height="auto"==C.height?m.parent().height():C.height,v=_("<div></div>").addClass(x.wrapperClass).css({position:"relative",overflow:"hidden",width:x.width,height:x.height}),m.css({overflow:"hidden",width:x.width,height:x.height});y=_("<div></div>").addClass(x.railClass).css({width:x.size,height:"100%",position:"absolute",top:0,display:x.alwaysVisible&&x.railVisible?"block":"none","border-radius":x.railBorderRadius,background:x.railColor,opacity:x.railOpacity,zIndex:90}),b=_("<div></div>").addClass(x.barClass).css({background:x.color,width:x.size,position:"absolute",top:0,opacity:x.opacity,display:x.alwaysVisible?"block":"none","border-radius":x.borderRadius,BorderRadius:x.borderRadius,MozBorderRadius:x.borderRadius,WebkitBorderRadius:x.borderRadius,zIndex:99}),w="right"==x.position?{right:x.distance}:{left:x.distance};y.css(w),b.css(w),m.wrap(v),m.parent().append(b),m.parent().append(y),x.railDraggable&&b.bind("mousedown",function(e){var i=_(document);return l=!0,t=parseFloat(b.css("top")),pageY=e.pageY,i.bind("mousemove.slimscroll",function(e){currTop=t+e.pageY-pageY,b.css("top",currTop),n(0,b.position().top,!1)}),i.bind("mouseup.slimscroll",function(e){l=!1,o(),i.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(e){return e.stopPropagation(),e.preventDefault(),!1}),y.hover(function(){a()},function(){o()}),b.hover(function(){r=!0},function(){r=!1}),m.hover(function(){s=!0,a(),o()},function(){s=!1,o()}),m.bind("touchstart",function(e,t){e.originalEvent.touches.length&&(c=e.originalEvent.touches[0].pageY)}),m.bind("touchmove",function(e){g||e.originalEvent.preventDefault(),e.originalEvent.touches.length&&(n((c-e.originalEvent.touches[0].pageY)/x.touchScrollStep,!0),c=e.originalEvent.touches[0].pageY)}),i(),"bottom"===x.start?(b.css({top:m.outerHeight()-b.outerHeight()}),n(0,!0)):"top"!==x.start&&(n(_(x.start).position().top,null,!0),x.alwaysVisible||b.hide()),function(){window.addEventListener?(this.addEventListener("DOMMouseScroll",e,!1),this.addEventListener("mousewheel",e,!1)):document.attachEvent("onmousewheel",e)}()}}),this}}),jQuery.fn.extend({slimscroll:jQuery.fn.slimScroll})}(jQuery),function(e,t,s){function a(e,t){var i=s(this);if(this.value==i.attr("placeholder")&&i.hasClass("placeholder"))if(i.data("placeholder-password")){if(i=i.hide().next().show().attr("id",i.removeAttr("id").data("placeholder-id")),!0===e)return i[0].value=t;i.focus()}else this.value="",i.removeClass("placeholder"),this==r()&&this.select()}function o(){var t,e=s(this),i=this.id;if(""==this.value){if("password"==this.type){if(!e.data("placeholder-textinput")){try{t=e.clone().attr({type:"text"})}catch(e){t=s("<input>").attr(s.extend(function(e){var i={},n=/^jQuery\d+$/;return s.each(e.attributes,function(e,t){t.specified&&!n.test(t.name)&&(i[t.name]=t.value)}),i}(this),{type:"text"}))}t.removeAttr("name").data({"placeholder-password":e,"placeholder-id":i}).bind("focus.placeholder",a),e.data({"placeholder-textinput":t,"placeholder-id":i}).before(t)}e=e.removeAttr("id").hide().prev().attr("id",i).show()}e.addClass("placeholder"),e[0].value=e.attr("placeholder")}else e.removeClass("placeholder")}function r(){try{return t.activeElement}catch(e){}}var i,n,l="placeholder"in t.createElement("input"),h="placeholder"in t.createElement("textarea"),c=s.fn,u=s.valHooks,d=s.propHooks;l&&h?(n=c.placeholder=function(){return this}).input=n.textarea=!0:((n=c.placeholder=function(){return this.filter((l?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":a,"blur.placeholder":o}).data("placeholder-enabled",!0).trigger("blur.placeholder"),this}).input=l,n.textarea=h,i={get:function(e){var t=s(e),i=t.data("placeholder-password");return i?i[0].value:t.data("placeholder-enabled")&&t.hasClass("placeholder")?"":e.value},set:function(e,t){var i=s(e),n=i.data("placeholder-password");return n?n[0].value=t:i.data("placeholder-enabled")?(""==t?(e.value=t,e!=r()&&o.call(e)):i.hasClass("placeholder")&&a.call(e,!0,t)||(e.value=t),i):e.value=t}},l||(u.input=i,d.value=i),h||(u.textarea=i,d.value=i),s(function(){s(t).delegate("form","submit.placeholder",function(){var e=s(".placeholder",this).each(a);setTimeout(function(){e.each(o)},10)})}),s(e).bind("beforeunload.placeholder",function(){s(".placeholder").each(function(){this.value=""})}))}(this,document,jQuery),function(b){var n,e,s=((e=document.createElement("input")).setAttribute("onpaste",""),("function"==typeof e.onpaste?"paste":"input")+".mask"),t=navigator.userAgent,y=/iphone/i.test(t),w=/android/i.test(t);b.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},dataName:"rawMaskFn",placeholder:"_"},b.fn.extend({caret:function(e,t){var i;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof e?(t="number"==typeof t?t:e,this.each(function(){this.setSelectionRange?this.setSelectionRange(e,t):this.createTextRange&&((i=this.createTextRange()).collapse(!0),i.moveEnd("character",t),i.moveStart("character",e),i.select())})):(this[0].setSelectionRange?(e=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(i=document.selection.createRange(),e=0-i.duplicate().moveStart("character",-1e5),t=e+i.text.length),{begin:e,end:t})},unmask:function(){return this.trigger("unmask")},mask:function(t,p){var i,f,g,m,v;return!t&&0<this.length?b(this[0]).data(b.mask.dataName)():(p=b.extend({placeholder:b.mask.placeholder,completed:null},p),i=b.mask.definitions,f=[],g=v=t.length,m=null,b.each(t.split(""),function(e,t){"?"==t?(v--,g=e):i[t]?(f.push(RegExp(i[t])),null===m&&(m=f.length-1)):f.push(null)}),this.trigger("unmask").each(function(){function o(e){for(;v>++e&&!f[e];);return e}function r(e,t){var i,n;if(!(e<0)){for(i=e,n=o(t);i<v;i++)if(f[i]){if(!(n<v&&f[i].test(u[n])))break;u[i]=u[n],u[n]=p.placeholder,n=o(n)}h(),c.caret(Math.max(m,e))}}function l(e,t){var i;for(i=e;i<t&&i<v;i++)f[i]&&(u[i]=p.placeholder)}function h(){c.val(u.join(""))}function a(e){var t,i,n=c.val(),s=-1;for(pos=t=0;t<v;t++)if(f[t]){for(u[t]=p.placeholder;pos++<n.length;)if(i=n.charAt(pos-1),f[t].test(i)){u[t]=i,s=t;break}if(pos>n.length)break}else u[t]===n.charAt(pos)&&t!==g&&(pos++,s=t);return e?h():s+1<g?(c.val(""),l(0,v)):(h(),c.val(c.val().substring(0,s+1))),g?t:m}var c=b(this),u=b.map(t.split(""),function(e){return"?"!=e?i[e]?p.placeholder:e:void 0}),d=c.val();c.data(b.mask.dataName,function(){return b.map(u,function(e,t){return f[t]&&e!=p.placeholder?e:null}).join("")}),c.attr("readonly")||c.one("unmask",function(){c.unbind(".mask").removeData(b.mask.dataName)}).bind("focus.mask",function(){var e;clearTimeout(n),d=c.val(),e=a(),n=setTimeout(function(){h(),e==t.length?c.caret(0,e):c.caret(e)},10)}).bind("blur.mask",function(){a(),c.val()!=d&&c.change()}).bind("keydown.mask",function(e){var t,i,n,s=e.which;8===s||46===s||y&&127===s?(i=(t=c.caret()).begin,0==(n=t.end)-i&&(i=46!==s?function(e){for(;0<=--e&&!f[e];);return e}(i):n=o(i-1),n=46===s?o(n):n),l(i,n),r(i,n-1),e.preventDefault()):27==s&&(c.val(d),c.caret(0,a()),e.preventDefault())}).bind("keypress.mask",function(e){var t,i,n,s=e.which,a=c.caret();e.ctrlKey||e.altKey||e.metaKey||s<32||s&&(0!=a.end-a.begin&&(l(a.begin,a.end),r(a.begin,a.end-1)),(t=o(a.begin-1))<v&&(i=String.fromCharCode(s),f[t].test(i)&&(function(e){var t,i,n,s;for(t=e,i=p.placeholder;t<v;t++)if(f[t]){if(n=o(t),s=u[t],u[t]=i,!(n<v&&f[n].test(s)))break;i=s}}(t),u[t]=i,h(),n=o(t),w?setTimeout(b.proxy(b.fn.caret,c,n),0):c.caret(n),p.completed&&v<=n&&p.completed.call(c))),e.preventDefault())}).bind(s,function(){setTimeout(function(){var e=a(!0);c.caret(e),p.completed&&e==c.val().length&&p.completed.call(c)},0)}),a()}))}})}(jQuery),function(l){function i(e,t){if(o[e]){var i=function(e){var t=l(e).data("slider");if(t&&t instanceof a)return t;throw new Error(s.callingContextNotSliderInstance)}(this),n=o[e].apply(i,t);return void 0===n?l(this):n}throw new Error("method '"+e+"()' does not exist for slider.")}var s={formatInvalidInputErrorMsg:function(e){return"Invalid input value '"+e+"' passed in"},callingContextNotSliderInstance:"Calling context element does not have instance of Slider bound to it. Check your code to make sure the JQuery object returned from the call to the slider() initializer is calling the method"},a=function(e,i){var n=this.element=l(e).hide(),t=l(e)[0].style.width,s=!1,a=this.element.parent();!0===a.hasClass("slider")?(s=!0,this.picker=a):this.picker=l('<div class="slider"><div class="slider-track"><div class="slider-selection"></div><div class="slider-handle"></div><div class="slider-handle"></div></div><div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div></div>').insertBefore(this.element).append(this.element),this.id=this.element.data("slider-id")||i.id,this.id&&(this.picker[0].id=this.id),"undefined"!=typeof Modernizr&&Modernizr.touch&&(this.touchCapable=!0);var o=this.element.data("slider-tooltip")||i.tooltip;switch(this.tooltip=this.picker.find(".tooltip"),this.tooltipInner=this.tooltip.find("div.tooltip-inner"),!0===s&&(this.picker.removeClass("slider-horizontal"),this.picker.removeClass("slider-vertical"),this.tooltip.removeClass("hide")),this.orientation=this.element.data("slider-orientation")||i.orientation,this.orientation){case"vertical":this.picker.addClass("slider-vertical"),this.stylePos="top",this.mousePos="pageY",this.sizePos="offsetHeight",this.tooltip.addClass("right")[0].style.left="100%";break;default:this.picker.addClass("slider-horizontal").css("width",t),this.orientation="horizontal",this.stylePos="left",this.mousePos="pageX",this.sizePos="offsetWidth",this.tooltip.addClass("top")[0].style.top=-this.tooltip.outerHeight()-14+"px"}var r=this;switch(l.each(["min","max","step","value"],function(e,t){r[t]=void 0!==n.data("slider-"+t)?n.data("slider-"+t):void 0!==i[t]?i[t]:void 0!==n.prop(t)?n.prop(t):0}),this.value instanceof Array?s&&!this.range?this.value=this.value[0]:this.range=!0:this.range&&(this.value=[this.value,this.max]),this.selection=this.element.data("slider-selection")||i.selection,this.selectionEl=this.picker.find(".slider-selection"),"none"===this.selection&&this.selectionEl.addClass("hide"),this.selectionElStyle=this.selectionEl[0].style,this.handle1=this.picker.find(".slider-handle:first"),this.handle1Stype=this.handle1[0].style,this.handle2=this.picker.find(".slider-handle:last"),this.handle2Stype=this.handle2[0].style,!0===s&&(this.handle1.removeClass("round triangle"),this.handle2.removeClass("round triangle hide")),this.element.data("slider-handle")||i.handle){case"round":this.handle1.addClass("round"),this.handle2.addClass("round");break;case"triangle":this.handle1.addClass("triangle"),this.handle2.addClass("triangle")}this.range?(this.value[0]=Math.max(this.min,Math.min(this.max,this.value[0])),this.value[1]=Math.max(this.min,Math.min(this.max,this.value[1]))):(this.value=[Math.max(this.min,Math.min(this.max,this.value))],this.handle2.addClass("hide"),this.value[1]="after"===this.selection?this.max:this.min),this.diff=this.max-this.min,this.percentage=[100*(this.value[0]-this.min)/this.diff,100*(this.value[1]-this.min)/this.diff,100*this.step/this.diff],this.offset=this.picker.offset(),this.size=this.picker[0][this.sizePos],this.formater=i.formater,this.reversed=this.element.data("slider-reversed")||i.reversed,this.layout(),this.handle1.on({keydown:l.proxy(this.keydown,this,0)}),this.handle2.on({keydown:l.proxy(this.keydown,this,1)}),this.picker.on(this.touchCapable?{touchstart:l.proxy(this.mousedown,this)}:{mousedown:l.proxy(this.mousedown,this)}),"hide"===o?this.tooltip.addClass("hide"):"always"===o?(this.showTooltip(),this.alwaysShowTooltip=!0):(this.picker.on({mouseenter:l.proxy(this.showTooltip,this),mouseleave:l.proxy(this.hideTooltip,this)}),this.handle1.on({focus:l.proxy(this.showTooltip,this),blur:l.proxy(this.hideTooltip,this)}),this.handle2.on({focus:l.proxy(this.showTooltip,this),blur:l.proxy(this.hideTooltip,this)})),this.enabled=i.enabled&&(void 0===this.element.data("slider-enabled")||!0===this.element.data("slider-enabled")),this.enabled?this.enable():this.disable()};a.prototype={constructor:a,over:!1,inDrag:!1,showTooltip:function(){this.tooltip.addClass("in"),this.over=!0},hideTooltip:function(){!1===this.inDrag&&!0!==this.alwaysShowTooltip&&this.tooltip.removeClass("in"),this.over=!1},layout:function(){var e;e=this.reversed?[100-this.percentage[0],this.percentage[1]]:[this.percentage[0],this.percentage[1]],this.handle1Stype[this.stylePos]=e[0]+"%",this.handle2Stype[this.stylePos]=e[1]+"%","vertical"===this.orientation?(this.selectionElStyle.top=Math.min(e[0],e[1])+"%",this.selectionElStyle.height=Math.abs(e[0]-e[1])+"%"):(this.selectionElStyle.left=Math.min(e[0],e[1])+"%",this.selectionElStyle.width=Math.abs(e[0]-e[1])+"%"),this.range?(this.tooltipInner.text(this.formater(this.value[0])+" : "+this.formater(this.value[1])),this.tooltip[0].style[this.stylePos]=this.size*(e[0]+(e[1]-e[0])/2)/100-("vertical"===this.orientation?this.tooltip.outerHeight()/2:this.tooltip.outerWidth()/2)+"px"):(this.tooltipInner.text(this.formater(this.value[0])),this.tooltip[0].style[this.stylePos]=this.size*e[0]/100-("vertical"===this.orientation?this.tooltip.outerHeight()/2:this.tooltip.outerWidth()/2)+"px")},mousedown:function(e){if(!this.isEnabled())return!1;this.touchCapable&&"touchstart"===e.type&&(e=e.originalEvent),this.triggerFocusOnHandle(),this.offset=this.picker.offset(),this.size=this.picker[0][this.sizePos];var t=this.getPercentage(e);if(this.range){var i=Math.abs(this.percentage[0]-t),n=Math.abs(this.percentage[1]-t);this.dragged=i<n?0:1}else this.dragged=0;this.percentage[this.dragged]=this.reversed?100-t:t,this.layout(),l(document).on(this.touchCapable?{touchmove:l.proxy(this.mousemove,this),touchend:l.proxy(this.mouseup,this)}:{mousemove:l.proxy(this.mousemove,this),mouseup:l.proxy(this.mouseup,this)}),this.inDrag=!0;var s=this.calculateValue();return this.setValue(s),this.element.trigger({type:"slideStart",value:s}).trigger({type:"slide",value:s}),!0},triggerFocusOnHandle:function(e){0===e&&this.handle1.focus(),1===e&&this.handle2.focus()},keydown:function(e,t){if(!this.isEnabled())return!1;var i;switch(t.which){case 37:case 40:i="vertical"===this.orientation&&"after"===this.selection?1:-1;break;case 39:case 38:i="vertical"===this.orientation&&"after"===this.selection?-1:1}if(i){var n=i*this.percentage[2],s=this.percentage[e]+n;100<s?s=100:s<0&&(s=0),this.dragged=e,this.adjustPercentageForRangeSliders(s),this.percentage[this.dragged]=s,this.layout();var a=this.calculateValue();return this.setValue(a),this.element.trigger({type:"slide",value:a}).trigger({type:"slideStop",value:a}).data("value",a).prop("value",a),!1}},mousemove:function(e){if(!this.isEnabled())return!1;this.touchCapable&&"touchmove"===e.type&&(e=e.originalEvent);var t=this.getPercentage(e);this.adjustPercentageForRangeSliders(t),this.percentage[this.dragged]=this.reversed?100-t:t,this.layout();var i=this.calculateValue();return this.setValue(i),this.element.trigger({type:"slide",value:i}).data("value",i).prop("value",i),!1},adjustPercentageForRangeSliders:function(e){this.range&&(0===this.dragged&&this.percentage[1]<e?(this.percentage[0]=this.percentage[1],this.dragged=1):1===this.dragged&&this.percentage[0]>e&&(this.percentage[1]=this.percentage[0],this.dragged=0))},mouseup:function(){if(!this.isEnabled())return!1;l(document).off(this.touchCapable?{touchmove:this.mousemove,touchend:this.mouseup}:{mousemove:this.mousemove,mouseup:this.mouseup}),(this.inDrag=!1)===this.over&&this.hideTooltip();var e=this.calculateValue();return this.layout(),this.element.data("value",e).prop("value",e).trigger({type:"slideStop",value:e}),!1},calculateValue:function(){var e;return this.range?(e=[this.min,this.max],0!==this.percentage[0]&&(e[0]=Math.max(this.min,this.min+Math.round(this.diff*this.percentage[0]/100/this.step)*this.step)),100!==this.percentage[1]&&(e[1]=Math.min(this.max,this.min+Math.round(this.diff*this.percentage[1]/100/this.step)*this.step)),this.value=e):((e=this.min+Math.round(this.diff*this.percentage[0]/100/this.step)*this.step)<this.min?e=this.min:e>this.max&&(e=this.max),e=parseFloat(e),this.value=[e,this.value[1]]),e},getPercentage:function(e){this.touchCapable&&(e=e.touches[0]);var t=100*(e[this.mousePos]-this.offset[this.stylePos])/this.size;return t=Math.round(t/this.percentage[2])*this.percentage[2],Math.max(0,Math.min(100,t))},getValue:function(){return this.range?this.value:this.value[0]},setValue:function(e){this.value=this.validateInputValue(e),this.range?(this.value[0]=Math.max(this.min,Math.min(this.max,this.value[0])),this.value[1]=Math.max(this.min,Math.min(this.max,this.value[1]))):(this.value=[Math.max(this.min,Math.min(this.max,this.value))],this.handle2.addClass("hide"),this.value[1]="after"===this.selection?this.max:this.min),this.diff=this.max-this.min,this.percentage=[100*(this.value[0]-this.min)/this.diff,100*(this.value[1]-this.min)/this.diff,100*this.step/this.diff],this.layout(),this.element.trigger({type:"slide",value:this.value}).data("value",this.value).prop("value",this.value)},validateInputValue:function(e){if("number"==typeof e)return e;if(e instanceof Array)return l.each(e,function(e,t){if("number"!=typeof t)throw new Error(s.formatInvalidInputErrorMsg(t))}),e;throw new Error(s.formatInvalidInputErrorMsg(e))},destroy:function(){this.handle1.off(),this.handle2.off(),this.element.off().show().insertBefore(this.picker),this.picker.off().remove(),l(this.element).removeData("slider")},disable:function(){this.enabled=!1,this.handle1.removeAttr("tabindex"),this.handle2.removeAttr("tabindex"),this.picker.addClass("slider-disabled"),this.element.trigger("slideDisabled")},enable:function(){this.enabled=!0,this.handle1.attr("tabindex",0),this.handle2.attr("tabindex",0),this.picker.removeClass("slider-disabled"),this.element.trigger("slideEnabled")},toggle:function(){this.enabled?this.disable():this.enable()},isEnabled:function(){return this.enabled},setAttribute:function(e,t){this[e]=t}};var o={getValue:a.prototype.getValue,setValue:a.prototype.setValue,setAttribute:a.prototype.setAttribute,destroy:a.prototype.destroy,disable:a.prototype.disable,enable:a.prototype.enable,toggle:a.prototype.toggle,isEnabled:a.prototype.isEnabled};l.fn.slider=function(e){if("string"!=typeof e||"refresh"===e)return function(n){var e=l(this);return e.each(function(){var e=l(this),t=e.data("slider"),i="object"==typeof n&&n;t&&!i&&(i={},l.each(l.fn.slider.defaults,function(e){i[e]=t[e]})),e.data("slider",new a(this,l.extend({},l.fn.slider.defaults,i)))}),e}.call(this,e);var t=Array.prototype.slice.call(arguments,1);return i.call(this,e,t)},l.fn.slider.defaults={min:0,max:10,step:1,orientation:"horizontal",value:5,range:!1,selection:"before",tooltip:"show",handle:"round",reversed:!1,enabled:!0,formater:function(e){return e}},l.fn.slider.Constructor=a}(window.jQuery),function(){var h=/\blang(?:uage)?-(?!\*)(\w+)\b/i,w=self.Prism={util:{type:function(e){return Object.prototype.toString.call(e).match(/\[object (\w+)\]/)[1]},clone:function(e){switch(w.util.type(e)){case"Object":var t={};for(var i in e)e.hasOwnProperty(i)&&(t[i]=w.util.clone(e[i]));return t;case"Array":return e.slice()}return e}},languages:{extend:function(e,t){var i=w.util.clone(w.languages[e]);for(var n in t)i[n]=t[n];return i},insertBefore:function(e,t,i,n){var s=(n=n||w.languages)[e],a={};for(var o in s)if(s.hasOwnProperty(o)){if(o==t)for(var r in i)i.hasOwnProperty(r)&&(a[r]=i[r]);a[o]=s[o]}return n[e]=a},DFS:function(e,t){for(var i in e)t.call(e,i,e[i]),"Object"===w.util.type(e)&&w.languages.DFS(e[i],t)}},highlightAll:function(e,t){for(var i,n=document.querySelectorAll('code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'),s=0;i=n[s++];)w.highlightElement(i,!0===e,t)},highlightElement:function(e,t,i){for(var n,s,a=e;a&&!h.test(a.className);)a=a.parentNode;if(a&&(n=(a.className.match(h)||[,""])[1],s=w.languages[n]),s){e.className=e.className.replace(h,"").replace(/\s+/g," ")+" language-"+n,a=e.parentNode,/pre/i.test(a.nodeName)&&(a.className=a.className.replace(h,"").replace(/\s+/g," ")+" language-"+n);var o=e.textContent;if(o){o=o.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ");var r={element:e,language:n,grammar:s,code:o};if(w.hooks.run("before-highlight",r),t&&self.Worker){var l=new Worker(w.filename);l.onmessage=function(e){r.highlightedCode=c.stringify(JSON.parse(e.data),n),w.hooks.run("before-insert",r),r.element.innerHTML=r.highlightedCode,i&&i.call(r.element),w.hooks.run("after-highlight",r)},l.postMessage(JSON.stringify({language:r.language,code:r.code}))}else r.highlightedCode=w.highlight(r.code,r.grammar,r.language),w.hooks.run("before-insert",r),r.element.innerHTML=r.highlightedCode,i&&i.call(e),w.hooks.run("after-highlight",r)}}},highlight:function(e,t,i){return c.stringify(w.tokenize(e,t),i)},tokenize:function(e,t,i){var n=w.Token,s=[e],a=t.rest;if(a){for(var o in a)t[o]=a[o];delete t.rest}e:for(var o in t)if(t.hasOwnProperty(o)&&t[o]){var r=t[o],l=r.inside,h=!!r.lookbehind,c=0;r=r.pattern||r;for(var u=0;u<s.length;u++){var d=s[u];if(s.length>e.length)break e;if(!(d instanceof n))if(r.lastIndex=0,p=r.exec(d)){h&&(c=p[1].length);var p,f=p.index-1+c,g=f+(p=p[0].slice(c)).length,m=d.slice(0,f+1),v=d.slice(g+1),b=[u,1];m&&b.push(m);var y=new n(o,l?w.tokenize(p,l):p);b.push(y),v&&b.push(v),Array.prototype.splice.apply(s,b)}}}return s},hooks:{all:{},add:function(e,t){var i=w.hooks.all;i[e]=i[e]||[],i[e].push(t)},run:function(e,t){var i=w.hooks.all[e];if(i&&i.length)for(var n,s=0;n=i[s++];)n(t)}}},c=w.Token=function(e,t){this.type=e,this.content=t};if(c.stringify=function(t,i,e){if("string"==typeof t)return t;if("[object Array]"==Object.prototype.toString.call(t))return t.map(function(e){return c.stringify(e,i,t)}).join("");var n={type:t.type,content:c.stringify(t.content,i,e),tag:"span",classes:["token",t.type],attributes:{},language:i,parent:e};"comment"==n.type&&(n.attributes.spellcheck="true"),w.hooks.run("wrap",n);var s="";for(var a in n.attributes)s+=a+'="'+(n.attributes[a]||"")+'"';return"<"+n.tag+' class="'+n.classes.join(" ")+'" '+s+">"+n.content+"</"+n.tag+">"},self.document){var e=document.getElementsByTagName("script");(e=e[e.length-1])&&(w.filename=e.src,document.addEventListener&&!e.hasAttribute("data-manual")&&document.addEventListener("DOMContentLoaded",w.highlightAll))}else self.addEventListener("message",function(e){var t=JSON.parse(e.data),i=t.language,n=t.code;self.postMessage(JSON.stringify(w.tokenize(n,w.languages[i]))),self.close()},!1)}(),Prism.hooks.add("after-highlight",function(e){var t=e.element.parentNode;if(t&&/pre/i.test(t.nodeName)&&-1!==t.className.indexOf("line-numbers")){var i,n=1+e.code.split("\n").length;lines=new Array(n),lines=lines.join("<span></span>"),(i=document.createElement("span")).className="line-numbers-rows",i.innerHTML=lines,t.hasAttribute("data-start")&&(t.style.counterReset="linenumber "+(parseInt(t.getAttribute("data-start"),10)-1)),e.element.appendChild(i)}}),Prism.languages.markup={comment:/&lt;!--[\w\W]*?-->/g,prolog:/&lt;\?.+?\?>/,doctype:/&lt;!DOCTYPE.+?>/,cdata:/&lt;!\[CDATA\[[\w\W]*?]]>/i,tag:{pattern:/&lt;\/?[\w:-]+\s*(?:\s+[\w:-]+(?:=(?:("|')(\\?[\w\W])*?\1|\w+))?\s*)*\/?>/gi,inside:{tag:{pattern:/^&lt;\/?[\w:-]+/i,inside:{punctuation:/^&lt;\/?/,namespace:/^[\w-]+?:/}},"attr-value":{pattern:/=(?:('|")[\w\W]*?(\1)|[^\s>]+)/gi,inside:{punctuation:/=|>|"/g}},punctuation:/\/?>/g,"attr-name":{pattern:/[\w:-]+/g,inside:{namespace:/^[\w-]+?:/}}}},entity:/&amp;#?[\da-z]{1,8};/gi},Prism.hooks.add("wrap",function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))}),Prism.languages.css={comment:/\/\*[\w\W]*?\*\//g,atrule:{pattern:/@[\w-]+?.*?(;|(?=\s*{))/gi,inside:{punctuation:/[;:]/g}},url:/url\((["']?).*?\1\)/gi,selector:/[^\{\}\s][^\{\};]*(?=\s*\{)/g,property:/(\b|\B)[\w-]+(?=\s*:)/gi,string:/("|')(\\?.)*?\1/g,important:/\B!important\b/gi,ignore:/&(lt|gt|amp);/gi,punctuation:/[\{\};:]/g},Prism.languages.markup&&Prism.languages.insertBefore("markup","tag",{style:{pattern:/(&lt;|<)style[\w\W]*?(>|&gt;)[\w\W]*?(&lt;|<)\/style(>|&gt;)/gi,inside:{tag:{pattern:/(&lt;|<)style[\w\W]*?(>|&gt;)|(&lt;|<)\/style(>|&gt;)/gi,inside:Prism.languages.markup.tag.inside},rest:Prism.languages.css}}}),Prism.languages.css.selector={pattern:/[^\{\}\s][^\{\}]*(?=\s*\{)/g,inside:{"pseudo-element":/:(?:after|before|first-letter|first-line|selection)|::[-\w]+/g,"pseudo-class":/:[-\w]+(?:\(.*\))?/g,class:/\.[-:\.\w]+/g,id:/#[-:\.\w]+/g}},Prism.languages.insertBefore("css","ignore",{hexcode:/#[\da-f]{3,6}/gi,entity:/\\[\da-f]{1,8}/gi,number:/[\d%\.]+/g,function:/(attr|calc|cross-fade|cycle|element|hsla?|image|lang|linear-gradient|matrix3d|matrix|perspective|radial-gradient|repeating-linear-gradient|repeating-radial-gradient|rgba?|rotatex|rotatey|rotatez|rotate3d|rotate|scalex|scaley|scalez|scale3d|scale|skewx|skewy|skew|steps|translatex|translatey|translatez|translate3d|translate|url|var)/gi}),Prism.languages.clike={comment:{pattern:/(^|[^\\])(\/\*[\w\W]*?\*\/|(^|[^:])\/\/.*?(\r?\n|$))/g,lookbehind:!0},string:/("|')(\\?.)*?\1/g,"class-name":{pattern:/((?:(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[a-z0-9_\.\\]+/gi,lookbehind:!0,inside:{punctuation:/(\.|\\)/}},keyword:/\b(if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/g,boolean:/\b(true|false)\b/g,function:{pattern:/[a-z0-9_]+\(/gi,inside:{punctuation:/\(/}},number:/\b-?(0x[\dA-Fa-f]+|\d*\.?\d+([Ee]-?\d+)?)\b/g,operator:/[-+]{1,2}|!|&lt;=?|>=?|={1,3}|(&amp;){1,2}|\|?\||\?|\*|\/|\~|\^|\%/g,ignore:/&(lt|gt|amp);/gi,punctuation:/[{}[\];(),.:]/g},Prism.languages.javascript=Prism.languages.extend("clike",{keyword:/\b(var|let|if|else|while|do|for|return|in|instanceof|function|new|with|typeof|try|throw|catch|finally|null|break|continue)\b/g,number:/\b-?(0x[\dA-Fa-f]+|\d*\.?\d+([Ee]-?\d+)?|NaN|-?Infinity)\b/g}),Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:/(^|[^/])\/(?!\/)(\[.+?]|\\.|[^/\r\n])+\/[gim]{0,3}(?=\s*($|[\r\n,.;})]))/g,lookbehind:!0}}),Prism.languages.markup&&Prism.languages.insertBefore("markup","tag",{script:{pattern:/(&lt;|<)script[\w\W]*?(>|&gt;)[\w\W]*?(&lt;|<)\/script(>|&gt;)/gi,inside:{tag:{pattern:/(&lt;|<)script[\w\W]*?(>|&gt;)|(&lt;|<)\/script(>|&gt;)/gi,inside:Prism.languages.markup.tag.inside},rest:Prism.languages.javascript}}}),Prism.languages.php=Prism.languages.extend("clike",{keyword:/\b(and|or|xor|array|as|break|case|cfunction|class|const|continue|declare|default|die|do|else|elseif|enddeclare|endfor|endforeach|endif|endswitch|endwhile|extends|for|foreach|function|include|include_once|global|if|new|return|static|switch|use|require|require_once|var|while|abstract|interface|public|implements|extends|private|protected|parent|static|throw|null|echo|print|trait|namespace|use|final|yield|goto)\b/gi,constant:/[A-Z0-9_]{2,}/g}),Prism.languages.insertBefore("php","keyword",{deliminator:/(\?>|\?&gt;|&lt;\?php|<\?php)/gi,this:/\$this/,variable:/(\$\w+)\b/gi,scope:{pattern:/\b[a-z0-9_\\]+::/gi,inside:{keyword:/(static|self|parent)/,punctuation:/(::|\\)/}},package:{pattern:/(\\|namespace\s+|use\s+)[a-z0-9_\\]+/gi,lookbehind:!0,inside:{punctuation:/\\/}}}),Prism.languages.insertBefore("php","operator",{property:{pattern:/(-&gt;)[a-z0-9_]+/gi,lookbehind:!0}}),Prism.languages.markup&&Prism.languages.insertBefore("php","comment",{markup:{pattern:/(\?>|\?&gt;)[\w\W]*?(?=(&lt;\?php|<\?php))/gi,lookbehind:!0,inside:{markup:{pattern:/&lt;\/?[\w:-]+\s*[\w\W]*?&gt;/gi,inside:Prism.languages.markup.tag.inside},rest:Prism.languages.php}}}),function(){function e(){}function s(e,t){this.path=e,null!=t?(this.at_2x_path=t,this.perform_check=!1):(this.at_2x_path=e.replace(/\.\w+$/,function(e){return"@2x"+e}),this.perform_check=!0)}function a(e){this.el=e,this.path=new s(this.el.getAttribute("src"),this.el.getAttribute("data-at2x"));var t=this;this.path.check_2x_variant(function(e){e&&t.swap()})}var t="undefined"==typeof exports?window:exports,o={check_mime_type:!0};(t.Retina=e).configure=function(e){for(var t in null==e&&(e={}),e)o[t]=e[t]},e.init=function(e){null==e&&(e=t);var s=e.onload||new Function;e.onload=function(){var e,t,i=document.getElementsByTagName("img"),n=[];for(e=0;e<i.length;e++)t=i[e],n.push(new a(t));s()}},e.isRetina=function(){return 1<t.devicePixelRatio||!(!t.matchMedia||!t.matchMedia("(-webkit-min-device-pixel-ratio: 1.5),                      (min--moz-device-pixel-ratio: 1.5),                      (-o-min-device-pixel-ratio: 3/2),                      (min-resolution: 1.5dppx)").matches)},(t.RetinaImagePath=s).confirmed_paths=[],s.prototype.is_external=function(){return!(!this.path.match(/^https?\:/i)||this.path.match("//"+document.domain))},s.prototype.check_2x_variant=function(t){var i,n=this;return this.is_external()?t(!1):this.perform_check||void 0===this.at_2x_path||null===this.at_2x_path?this.at_2x_path in s.confirmed_paths?t(!0):((i=new XMLHttpRequest).open("HEAD",this.at_2x_path),i.onreadystatechange=function(){if(4!=i.readyState)return t(!1);if(200<=i.status&&i.status<=399){if(o.check_mime_type){var e=i.getResponseHeader("Content-Type");if(null==e||!e.match(/^image/i))return t(!1)}return s.confirmed_paths.push(n.at_2x_path),t(!0)}return t(!1)},void i.send()):t(!0)},(t.RetinaImage=a).prototype.swap=function(t){void 0===t&&(t=this.path.at_2x_path);var i=this;!function e(){i.el.complete?$(i.el).is(":visible")&&(i.el.setAttribute("width",i.el.offsetWidth),i.el.setAttribute("height",i.el.offsetHeight),i.el.setAttribute("src",t)):setTimeout(e,5)}()},e.isRetina()&&e.init(t)}(),function(e){"function"==typeof module?module.exports=e(this.jQuery||require("jquery")):this.NProgress=e(this.jQuery)}(function(n){function i(e,t,i){return e<t?t:i<e?i:e}function c(e){return 100*(-1+e)}var u={version:"0.1.2"},d=u.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};return u.configure=function(e){return n.extend(d,e),this},u.status=null,u.set=function(a){var e=u.isStarted();a=i(a,d.minimum,1),u.status=1===a?null:a;var o=u.render(!e),r=o.find('[role="bar"]'),l=d.speed,h=d.easing;return o[0].offsetWidth,o.queue(function(e){var t,i,n,s;""===d.positionUsing&&(d.positionUsing=u.getPositioningCSS()),r.css((t=a,i=l,n=h,(s="translate3d"===d.positionUsing?{transform:"translate3d("+c(t)+"%,0,0)"}:"translate"===d.positionUsing?{transform:"translate("+c(t)+"%,0)"}:{"margin-left":c(t)+"%"}).transition="all "+i+"ms "+n,s)),1===a?(o.css({transition:"none",opacity:1}),o[0].offsetWidth,setTimeout(function(){o.css({transition:"all "+l+"ms linear",opacity:0}),setTimeout(function(){u.remove(),e()},l)},l)):setTimeout(e,l)}),this},u.isStarted=function(){return"number"==typeof u.status},u.start=function(){u.status||u.set(0);var e=function(){setTimeout(function(){u.status&&(u.trickle(),e())},d.trickleSpeed)};return d.trickle&&e(),this},u.done=function(e){return e||u.status?u.inc(.3+.5*Math.random()).set(1):this},u.inc=function(e){var t=u.status;return t?("number"!=typeof e&&(e=(1-t)*i(Math.random()*t,.1,.95)),t=i(t+e,0,.994),u.set(t)):u.start()},u.trickle=function(){return u.inc(Math.random()*d.trickleRate)},u.render=function(e){if(u.isRendered())return n("#nprogress");n("html").addClass("nprogress-busy");var t=n("<div id='nprogress'>").html(d.template),i=e?"-100":c(u.status||0);return t.find('[role="bar"]').css({transition:"all 0 linear",transform:"translate3d("+i+"%,0,0)"}),d.showSpinner||t.find('[role="spinner"]').remove(),t.appendTo(document.body),t},u.remove=function(){n("html").removeClass("nprogress-busy"),n("#nprogress").remove()},u.isRendered=function(){return 0<n("#nprogress").length},u.getPositioningCSS=function(){var e=document.body.style,t="WebkitTransform"in e?"Webkit":"MozTransform"in e?"Moz":"msTransform"in e?"ms":"OTransform"in e?"O":"";return t+"Perspective"in e?"translate3d":t+"Transform"in e?"translate":"margin"},u}),function(s){void 0===s.fn.each2&&s.extend(s.fn,{each2:function(e){for(var t=s([0]),i=-1,n=this.length;++i<n&&(t.context=t[0]=this[i])&&!1!==e.call(t[0],i,t););return this}})}(jQuery),function(C,y){"use strict";function o(e){var t=C(document.createTextNode(""));e.before(t),t.before(e),t.remove()}function r(e){var t,i,n,s;if(!e||e.length<1)return e;for(t="",i=0,n=e.length;i<n;i++)s=e.charAt(i),t+=N[s]||s;return t}function d(e,t){for(var i=0,n=t.length;i<n;i+=1)if(p(e,t[i]))return i;return-1}function p(e,t){return e===t||e!==y&&t!==y&&(null!==e&&null!==t&&(e.constructor===String?e+""==t+"":t.constructor===String&&t+""==e+""))}function s(e,t){var i,n,s;if(null===e||e.length<1)return[];for(n=0,s=(i=e.split(t)).length;n<s;n+=1)i[n]=C.trim(i[n]);return i}function a(e){return e.outerWidth(!1)-e.width()}function f(t){var i="keyup-change-value";t.on("keydown",function(){C.data(t,i)===y&&C.data(t,i,t.val())}),t.on("keyup",function(){var e=C.data(t,i);e!==y&&t.val()!==e&&(C.removeData(t,i),t.trigger("keyup-change"))})}function g(t,i,n){var s;return n=n||y,function(){var e=arguments;window.clearTimeout(s),s=window.setTimeout(function(){i.apply(n,e)},t)}}function m(e){e.preventDefault(),e.stopPropagation()}function v(e,t,i){var n,s,a=[];(n=e.attr("class"))&&C((n=""+n).split(" ")).each2(function(){0===this.indexOf("select2-")&&a.push(this)}),(n=t.attr("class"))&&C((n=""+n).split(" ")).each2(function(){0!==this.indexOf("select2-")&&((s=i(this))&&a.push(s))}),e.attr("class",a.join(" "))}function l(e,t,i,n){var s=r(e.toUpperCase()).indexOf(r(t.toUpperCase())),a=t.length;return s<0?void i.push(n(e)):(i.push(n(e.substring(0,s))),i.push("<span class='select2-match'>"),i.push(n(e.substring(s,s+a))),i.push("</span>"),void i.push(n(e.substring(s+a,e.length))))}function e(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})}function n(o){var e,r=null,t=o.quietMillis||100,l=o.url,h=this;return function(a){window.clearTimeout(e),e=window.setTimeout(function(){var e=o.data,t=l,i=o.transport||C.fn.select2.ajaxDefaults.transport,n={type:o.type||"GET",cache:o.cache||!1,jsonpCallback:o.jsonpCallback||y,dataType:o.dataType||"json"},s=C.extend({},C.fn.select2.ajaxDefaults.params,n);e=e?e.call(h,a.term,a.page,a.context):null,t="function"==typeof t?t.call(h,a.term,a.page,a.context):t,r&&"function"==typeof r.abort&&r.abort(),o.params&&(C.isFunction(o.params)?C.extend(s,o.params.call(h)):C.extend(s,o.params)),C.extend(s,{url:t,dataType:o.dataType,data:e,success:function(e){var t=o.results(e,a.page);a.callback(t)}}),r=i.call(h,s)},t)}}function h(e){var t,i,n=e,r=function(e){return""+e.text};C.isArray(n)&&(n={results:i=n}),!1===C.isFunction(n)&&(i=n,n=function(){return i});var s=n();return s.text&&(r=s.text,C.isFunction(r)||(t=s.text,r=function(e){return e[t]})),function(s){var a,o=s.term,i={results:[]};return""===o?void s.callback(n()):(a=function(e,t){var i,n;if((e=e[0]).children){for(n in i={},e)e.hasOwnProperty(n)&&(i[n]=e[n]);i.children=[],C(e.children).each2(function(e,t){a(t,i.children)}),(i.children.length||s.matcher(o,r(i),e))&&t.push(i)}else s.matcher(o,r(e),e)&&t.push(e)},C(n().results).each2(function(e,t){a(t,i.results)}),void s.callback(i))}}function c(e){var t=C.isFunction(e);return function(i){var n=i.term,s={results:[]};C(t?e():e).each(function(){var e=this.text!==y,t=e?this.text:this;""!==n&&!i.matcher(n,t)||s.results.push(e?this:{id:this,text:this})}),i.callback(s)}}function b(e,t){if(C.isFunction(e))return!0;if(!e)return!1;if("string"==typeof e)return!0;throw new Error(t+" must be a string, function, or falsy value")}function x(e){if(C.isFunction(e)){var t=Array.prototype.slice.call(arguments,1);return e.apply(null,t)}return e}function t(e,t){function i(){}return((i.prototype=new e).constructor=i).prototype.parent=e.prototype,i.prototype=C.extend(i.prototype,t),i}if(window.Select2===y){var i,u,w,_,S,T,k,D={x:0,y:0},E={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){switch(e=e.which?e.which:e){case E.LEFT:case E.RIGHT:case E.UP:case E.DOWN:return!0}return!1},isControl:function(e){switch(e.which){case E.SHIFT:case E.CTRL:case E.ALT:return!0}return!!e.metaKey},isFunctionKey:function(e){return 112<=(e=e.which?e.which:e)&&e<=123}},N={"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z"};T=C(document),R=1,_=function(){return R++},T.on("mousemove",function(e){D.x=e.pageX,D.y=e.pageY}),i=t(Object,{bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(e){var a,t,i,n,s,o,r,l,h=".select2-results";this.opts=e=this.prepareOpts(e),this.id=e.id,e.element.data("select2")!==y&&null!==e.element.data("select2")&&e.element.data("select2").destroy(),this.container=this.createContainer(),this.liveRegion=C("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body),this.containerId="s2id_"+(e.element.attr("id")||"autogen"+_()).replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.containerSelector="#"+this.containerId,this.container.attr("id",this.containerId),this.body=(l=!(o=function(){return e.element.closest("body")}),function(){return!1===l&&(r=o(),l=!0),r}),v(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",e.element.attr("style")),this.container.css(x(e.containerCss)),this.container.addClass(x(e.containerCssClass)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",m),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),v(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(x(e.dropdownCssClass)),this.dropdown.data("select2",this),this.dropdown.on("click",m),this.results=a=this.container.find(h),this.search=t=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",m),this.results.on("mousemove",function(e){D!==y&&D.x===e.pageX&&D.y===e.pageY||C(e.target).trigger("mousemove-filtered",e)}),this.dropdown.on("mousemove-filtered touchstart touchmove touchend",h,this.bind(this.highlightUnderEvent)),this.dropdown.on("touchend",h,this.bind(this.selectHighlighted)),this.dropdown.on("touchmove",h,this.bind(this.touchMoved)),this.dropdown.on("touchstart touchend",h,this.bind(this.clearTouchMoved)),i=80,n=this.results,s=g(i,function(e){n.trigger("scroll-debounced",e)}),n.on("scroll",function(e){0<=d(e.target,n.get())&&s(e)}),this.dropdown.on("scroll-debounced",h,this.bind(this.loadMoreIfNeeded)),C(this.container).on("change",".select2-input",function(e){e.stopPropagation()}),C(this.dropdown).on("change",".select2-input",function(e){e.stopPropagation()}),C.fn.mousewheel&&a.mousewheel(function(e,t,i,n){var s=a.scrollTop();0<n&&s-n<=0?(a.scrollTop(0),m(e)):n<0&&a.get(0).scrollHeight-a.scrollTop()+n<=a.height()&&(a.scrollTop(a.get(0).scrollHeight-a.height()),m(e))}),f(t),t.on("keyup-change input paste",this.bind(this.updateResults)),t.on("focus",function(){t.addClass("select2-focused")}),t.on("blur",function(){t.removeClass("select2-focused")}),this.dropdown.on("mouseup",h,this.bind(function(e){0<C(e.target).closest(".select2-result-selectable").length&&(this.highlightUnderEvent(e),this.selectHighlighted(e))})),this.dropdown.on("click mouseup mousedown focusin",function(e){e.stopPropagation()}),this.nextSearchTerm=y,C.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==e.maximumInputLength&&this.search.attr("maxlength",e.maximumInputLength);var c=e.element.prop("disabled");c===y&&(c=!1),this.enable(!c);var u=e.element.prop("readonly");u===y&&(u=!1),this.readonly(u),k=k||function(){var e=C("<div class='select2-measure-scrollbar'></div>");e.appendTo("body");var t={width:e.width()-e[0].clientWidth,height:e.height()-e[0].clientHeight};return e.remove(),t}(),this.autofocus=e.element.prop("autofocus"),e.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.search.attr("placeholder",e.searchInputPlaceholder)},destroy:function(){var e=this.opts.element,t=e.data("select2");this.close(),this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),t!==y&&(t.container.remove(),t.liveRegion.remove(),t.dropdown.remove(),e.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?e.attr({tabindex:this.elementTabIndex}):e.removeAttr("tabindex"),e.show())},optionToData:function(e){return e.is("option")?{id:e.prop("value"),text:e.text(),element:e.get(),css:e.attr("class"),disabled:e.prop("disabled"),locked:p(e.attr("locked"),"locked")||p(e.data("locked"),!0)}:e.is("optgroup")?{text:e.attr("label"),children:[],element:e.get(),css:e.attr("class")}:void 0},prepareOpts:function(v){var o,e,t,i,b=this;if("select"===(o=v.element).get(0).tagName.toLowerCase()&&(this.select=e=v.element),e&&C.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in v)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),"function"!=typeof(v=C.extend({},{populateResults:function(e,t,p){var f,g=this.opts.id,m=this.liveRegion;(f=function(e,t,i){var n,s,a,o,r,l,h,c,u,d;for(n=0,s=(e=v.sortResults(e,t,p)).length;n<s;n+=1)o=!(r=!0===(a=e[n]).disabled)&&g(a)!==y,l=a.children&&0<a.children.length,(h=C("<li></li>")).addClass("select2-results-dept-"+i),h.addClass("select2-result"),h.addClass(o?"select2-result-selectable":"select2-result-unselectable"),r&&h.addClass("select2-disabled"),l&&h.addClass("select2-result-with-children"),h.addClass(b.opts.formatResultCssClass(a)),h.attr("role","presentation"),(c=C(document.createElement("div"))).addClass("select2-result-label"),c.attr("id","select2-result-label-"+_()),c.attr("role","option"),(d=v.formatResult(a,c,p,b.opts.escapeMarkup))!==y&&(c.html(d),h.append(c)),l&&((u=C("<ul></ul>")).addClass("select2-result-sub"),f(a.children,u,i+1),h.append(u)),h.data("select2-data",a),t.append(h);m.text(v.formatMatches(e.length))})(t,e,0)}},C.fn.select2.defaults,v)).id&&(t=v.id,v.id=function(e){return e[t]}),C.isArray(v.element.data("select2Tags"))){if("tags"in v)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+v.element.attr("id");v.tags=v.element.data("select2Tags")}if(e?(v.query=this.bind(function(n){var e,t,s,i={results:[],more:!1},a=n.term;s=function(e,t){var i;e.is("option")?n.matcher(a,e.text(),e)&&t.push(b.optionToData(e)):e.is("optgroup")&&(i=b.optionToData(e),e.children().each2(function(e,t){s(t,i.children)}),0<i.children.length&&t.push(i))},e=o.children(),this.getPlaceholder()!==y&&0<e.length&&((t=this.getPlaceholderOption())&&(e=e.not(t))),e.each2(function(e,t){s(t,i.results)}),n.callback(i)}),v.id=function(e){return e.id}):"query"in v||("ajax"in v?((i=v.element.data("ajax-url"))&&0<i.length&&(v.ajax.url=i),v.query=n.call(v.element,v.ajax)):"data"in v?v.query=h(v.data):"tags"in v&&(v.query=c(v.tags),v.createSearchChoice===y&&(v.createSearchChoice=function(e){return{id:C.trim(e),text:C.trim(e)}}),v.initSelection===y&&(v.initSelection=function(e,t){var i=[];C(s(e.val(),v.separator)).each(function(){var e={id:this,text:this},t=v.tags;C.isFunction(t)&&(t=t()),C(t).each(function(){return p(this.id,e.id)?(e=this,!1):void 0}),i.push(e)}),t(i)}))),"function"!=typeof v.query)throw"query function not defined for Select2 "+v.element.attr("id");if("top"===v.createSearchChoicePosition)v.createSearchChoicePosition=function(e,t){e.unshift(t)};else if("bottom"===v.createSearchChoicePosition)v.createSearchChoicePosition=function(e,t){e.push(t)};else if("function"!=typeof v.createSearchChoicePosition)throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";return v},monitorSource:function(){var t,e,i=this.opts.element;i.on("change.select2",this.bind(function(){!0!==this.opts.element.data("select2-change-triggered")&&this.initSelection()})),t=this.bind(function(){var e=i.prop("disabled");e===y&&(e=!1),this.enable(!e);var t=i.prop("readonly");t===y&&(t=!1),this.readonly(t),v(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(x(this.opts.containerCssClass)),v(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(x(this.opts.dropdownCssClass))}),i.on("propertychange.select2",t),this.mutationCallback===y&&(this.mutationCallback=function(e){e.forEach(t)}),(e=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver)!==y&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new e(this.mutationCallback),this.propertyObserver.observe(i.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(e){var t=C.Event("select2-selecting",{val:this.id(e),object:e});return this.opts.element.trigger(t),!t.isDefaultPrevented()},triggerChange:function(e){e=e||{},e=C.extend({},e,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(e),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return!0===this.enabledInterface},enableInterface:function(){var e=this._enabled&&!this._readonly,t=!e;return e!==this.enabledInterface&&(this.container.toggleClass("select2-container-disabled",t),this.close(),this.enabledInterface=e,!0)},enable:function(e){e===y&&(e=!0),this._enabled!==e&&(this._enabled=e,this.opts.element.prop("disabled",!e),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(e){e===y&&(e=!1),this._readonly!==e&&(this._readonly=e,this.opts.element.prop("readonly",e),this.enableInterface())},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var e,t,i,n,s,a=this.dropdown,o=this.container.offset(),r=this.container.outerHeight(!1),l=this.container.outerWidth(!1),h=a.outerHeight(!1),c=C(window),u=c.width(),d=c.height(),p=c.scrollLeft()+u,f=c.scrollTop()+d,g=o.top+r,m=o.left,v=g+h<=f,b=o.top-h>=c.scrollTop(),y=a.outerWidth(!1),w=m+y<=p;a.hasClass("select2-drop-above")?(t=!0,!b&&v&&(t=!(i=!0))):(t=!1,!v&&b&&(t=i=!0)),i&&(a.hide(),o=this.container.offset(),r=this.container.outerHeight(!1),l=this.container.outerWidth(!1),h=a.outerHeight(!1),p=c.scrollLeft()+u,f=c.scrollTop()+d,g=o.top+r,w=(m=o.left)+(y=a.outerWidth(!1))<=p,a.show()),this.opts.dropdownAutoWidth?(s=C(".select2-results",a)[0],a.addClass("select2-drop-auto-width"),a.css("width",""),l<(y=a.outerWidth(!1)+(s.scrollHeight===s.clientHeight?0:k.width))?l=y:y=l,w=m+y<=p):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body().css("position")&&(g-=(e=this.body().offset()).top,m-=e.left),w||(m=o.left+this.container.outerWidth(!1)-y),n={left:m,width:l},t?(n.top=o.top-h,n.bottom="auto",this.container.addClass("select2-drop-above"),a.addClass("select2-drop-above")):(n.top=g,n.bottom="auto",this.container.removeClass("select2-drop-above"),a.removeClass("select2-drop-above")),n=C.extend(n,x(this.opts.dropdownCss)),a.css(n)},shouldOpen:function(){var e;return!this.opened()&&(!1!==this._enabled&&!0!==this._readonly&&(e=C.Event("select2-opening"),this.opts.element.trigger(e),!e.isDefaultPrevented()))},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return!!this.shouldOpen()&&(this.opening(),!0)},opening:function(){var n,e=this.containerId,t="scroll."+e,i="resize."+e,s="orientationchange."+e;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),0==(n=C("#select2-drop-mask")).length&&((n=C(document.createElement("div"))).attr("id","select2-drop-mask").attr("class","select2-drop-mask"),n.hide(),n.appendTo(this.body()),n.on("mousedown touchstart click",function(e){o(n);var t,i=C("#select2-drop");0<i.length&&((t=i.data("select2")).opts.selectOnBlur&&t.selectHighlighted({noFocus:!0}),t.close(),e.preventDefault(),e.stopPropagation())})),this.dropdown.prev()[0]!==n[0]&&this.dropdown.before(n),C("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),n.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var a=this;this.container.parents().add(window).each(function(){C(this).on(i+" "+t+" "+s,function(){a.positionDropdown()})})},close:function(){if(this.opened()){var e=this.containerId,t="scroll."+e,i="resize."+e,n="orientationchange."+e;this.container.parents().add(window).each(function(){C(this).off(t).off(i).off(n)}),this.clearDropdownAlignmentPreference(),C("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(C.Event("select2-close"))}},externalSearch:function(e){this.open(),this.search.val(e),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return x(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var e,t,i,n,s,a,o,r=this.results;if(!((t=this.highlight())<0)){if(0==t)return void r.scrollTop(0);e=this.findHighlightableChoices().find(".select2-result-label"),n=(i=C(e[t])).offset().top+i.outerHeight(!0),t===e.length-1&&(0<(o=r.find("li.select2-more-results")).length&&(n=o.offset().top+o.outerHeight(!0))),(s=r.offset().top+r.outerHeight(!0))<n&&r.scrollTop(r.scrollTop()+(n-s)),(a=i.offset().top-r.offset().top)<0&&"none"!=i.css("display")&&r.scrollTop(r.scrollTop()+a)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(e){for(var t=this.findHighlightableChoices(),i=this.highlight();-1<i&&i<t.length;){var n=C(t[i+=e]);if(n.hasClass("select2-result-selectable")&&!n.hasClass("select2-disabled")&&!n.hasClass("select2-selected")){this.highlight(i);break}}},highlight:function(e){var t,i,n=this.findHighlightableChoices();return 0===arguments.length?d(n.filter(".select2-highlighted")[0],n.get()):(e>=n.length&&(e=n.length-1),e<0&&(e=0),this.removeHighlight(),(t=C(n[e])).addClass("select2-highlighted"),this.search.attr("aria-activedescendant",t.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),this.liveRegion.text(t.text()),void((i=t.data("select2-data"))&&this.opts.element.trigger({type:"select2-highlight",val:this.id(i),choice:i})))},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(e){var t=C(e.target).closest(".select2-result-selectable");if(0<t.length&&!t.is(".select2-highlighted")){var i=this.findHighlightableChoices();this.highlight(i.index(t))}else 0==t.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var t=this.results,i=t.find("li.select2-more-results"),n=this.resultsPage+1,s=this,a=this.search.val(),o=this.context;0===i.length||i.offset().top-t.offset().top-t.height()<=this.opts.loadMorePadding&&(i.addClass("select2-active"),this.opts.query({element:this.opts.element,term:a,page:n,context:o,matcher:this.opts.matcher,callback:this.bind(function(e){s.opened()&&(s.opts.populateResults.call(this,t,e.results,{term:a,page:n,context:o}),s.postprocessResults(e,!1,!1),!0===e.more?(i.detach().appendTo(t).text(x(s.opts.formatLoadMore,n+1)),window.setTimeout(function(){s.loadMoreIfNeeded()},10)):i.remove(),s.positionDropdown(),s.resultsPage=n,s.context=e.context,this.opts.element.trigger({type:"select2-loaded",items:e}))})}))},tokenize:function(){},updateResults:function(i){function n(){o.removeClass("select2-active"),h.positionDropdown(),r.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?h.liveRegion.text(r.text()):h.liveRegion.text(h.opts.formatMatches(r.find(".select2-result-selectable").length))}function s(e){r.html(e),n()}var e,t,a,o=this.search,r=this.results,l=this.opts,h=this,c=o.val(),u=C.data(this.container,"select2-last-term");if((!0===i||!u||!p(c,u))&&(C.data(this.container,"select2-last-term",c),!0===i||!1!==this.showSearchInput&&this.opened())){a=++this.queryCount;var d=this.getMaximumSelectionSize();if(1<=d&&(e=this.data(),C.isArray(e)&&e.length>=d&&b(l.formatSelectionTooBig,"formatSelectionTooBig")))return void s("<li class='select2-selection-limit'>"+x(l.formatSelectionTooBig,d)+"</li>");if(o.val().length<l.minimumInputLength)return b(l.formatInputTooShort,"formatInputTooShort")?s("<li class='select2-no-results'>"+x(l.formatInputTooShort,o.val(),l.minimumInputLength)+"</li>"):s(""),void(i&&this.showSearch&&this.showSearch(!0));if(l.maximumInputLength&&o.val().length>l.maximumInputLength)return void(b(l.formatInputTooLong,"formatInputTooLong")?s("<li class='select2-no-results'>"+x(l.formatInputTooLong,o.val(),l.maximumInputLength)+"</li>"):s(""));l.formatSearching&&0===this.findHighlightableChoices().length&&s("<li class='select2-searching'>"+x(l.formatSearching)+"</li>"),o.addClass("select2-active"),this.removeHighlight(),(t=this.tokenize())!=y&&null!=t&&o.val(t),this.resultsPage=1,l.query({element:l.element,term:o.val(),page:this.resultsPage,context:null,matcher:l.matcher,callback:this.bind(function(e){var t;if(a==this.queryCount){if(!this.opened())return void this.search.removeClass("select2-active");if(this.context=e.context===y?null:e.context,this.opts.createSearchChoice&&""!==o.val()&&((t=this.opts.createSearchChoice.call(h,o.val(),e.results))!==y&&null!==t&&h.id(t)!==y&&null!==h.id(t)&&0===C(e.results).filter(function(){return p(h.id(this),h.id(t))}).length&&this.opts.createSearchChoicePosition(e.results,t)),0===e.results.length&&b(l.formatNoMatches,"formatNoMatches"))return void s("<li class='select2-no-results'>"+x(l.formatNoMatches,o.val())+"</li>");r.empty(),h.opts.populateResults.call(this,r,e.results,{term:o.val(),page:this.resultsPage,context:null}),!0===e.more&&b(l.formatLoadMore,"formatLoadMore")&&(r.append("<li class='select2-more-results'>"+h.opts.escapeMarkup(x(l.formatLoadMore,this.resultsPage))+"</li>"),window.setTimeout(function(){h.loadMoreIfNeeded()},10)),this.postprocessResults(e,i),n(),this.opts.element.trigger({type:"select2-loaded",items:e})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){var n;(n=this.search)[0]!==document.activeElement&&window.setTimeout(function(){var e,t=n[0],i=n.val().length;n.focus(),(0<t.offsetWidth||0<t.offsetHeight)&&t===document.activeElement&&(t.setSelectionRange?t.setSelectionRange(i,i):t.createTextRange&&((e=t.createTextRange()).collapse(!1),e.select()))},0)},selectHighlighted:function(e){if(this._touchMoved)this.clearTouchMoved();else{var t=this.highlight(),i=this.results.find(".select2-highlighted").closest(".select2-result").data("select2-data");i?(this.highlight(t),this.onSelect(i,e)):e&&e.noFocus&&this.close()}},getPlaceholder:function(){var e;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((e=this.getPlaceholderOption())!==y?e.text():y)},getPlaceholderOption:function(){if(this.select){var e=this.select.children("option").first();if(this.opts.placeholderOption!==y)return"first"===this.opts.placeholderOption&&e||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===e.text()&&""===e.val())return e}},initContainerWidth:function(){var e=function(){var e,t,i,n,s;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"!==this.opts.width&&"resolve"!==this.opts.width)return C.isFunction(this.opts.width)?this.opts.width():this.opts.width;if((e=this.opts.element.attr("style"))!==y)for(n=0,s=(t=e.split(";")).length;n<s;n+=1)if(null!==(i=t[n].replace(/\s/g,"").match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i))&&1<=i.length)return i[1];return"resolve"===this.opts.width?0<(e=this.opts.element.css("width")).indexOf("%")?e:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px":null}.call(this);null!==e&&this.container.css("width",e)}}),u=t(i,{createContainer:function(){return C(document.createElement("div")).attr({class:"select2-container"}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&nbsp;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<label for='' class='select2-offscreen'></label>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <label for='' class='select2-offscreen'></label>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""))},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var e,t,i;0<=this.opts.minimumResultsForSearch&&this.showSearch(!0),this.parent.opening.apply(this,arguments),!1!==this.showSearchInput&&this.search.val(this.focusser.val()),this.search.focus(),(e=this.search.get(0)).createTextRange?((t=e.createTextRange()).collapse(!1),t.select()):e.setSelectionRange&&(i=this.search.val().length,e.setSelectionRange(i,i)),""===this.search.val()&&this.nextSearchTerm!=y&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(C.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus()},destroy:function(){C("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments)},initContainer:function(){var t,e,i=this.container,n=this.dropdown,s=_();this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=t=i.find(".select2-choice"),this.focusser=i.find(".select2-focusser"),t.find(".select2-chosen").attr("id","select2-chosen-"+s),this.focusser.attr("aria-labelledby","select2-chosen-"+s),this.results.attr("id","select2-results-"+s),this.search.attr("aria-owns","select2-results-"+s),this.focusser.attr("id","s2id_autogen"+s),e=C("label[for='"+this.opts.element.attr("id")+"']"),this.focusser.prev().text(e.text()).attr("for",this.focusser.attr("id"));var a=this.opts.element.attr("title");this.opts.element.attr("title",a||e.text()),this.focusser.attr("tabindex",this.elementTabIndex),this.search.attr("id",this.focusser.attr("id")+"_search"),this.search.prev().text(C("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){if(e.which===E.PAGE_UP||e.which===E.PAGE_DOWN)return void m(e);switch(e.which){case E.UP:case E.DOWN:return this.moveHighlight(e.which===E.UP?-1:1),void m(e);case E.ENTER:return this.selectHighlighted(),void m(e);case E.TAB:return void this.selectHighlighted({noFocus:!0});case E.ESC:return this.cancel(e),void m(e)}}})),this.search.on("blur",this.bind(function(){document.activeElement===this.body().get(0)&&window.setTimeout(this.bind(function(){this.opened()&&this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()&&e.which!==E.TAB&&!E.isControl(e)&&!E.isFunctionKey(e)&&e.which!==E.ESC){if(!1===this.opts.openOnEnter&&e.which===E.ENTER)return void m(e);if(e.which==E.DOWN||e.which==E.UP||e.which==E.ENTER&&this.opts.openOnEnter){if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return;return this.open(),void m(e)}return e.which==E.DELETE||e.which==E.BACKSPACE?(this.opts.allowClear&&this.clear(),void m(e)):void 0}})),f(this.focusser),this.focusser.on("keyup-change input",this.bind(function(e){if(0<=this.opts.minimumResultsForSearch){if(e.stopPropagation(),this.opened())return;this.open()}})),t.on("mousedown touchstart","abbr",this.bind(function(e){var t;this.isInterfaceEnabled()&&(this.clear(),(t=e).preventDefault(),t.stopImmediatePropagation(),this.close(),this.selection.focus())})),t.on("mousedown touchstart",this.bind(function(e){o(t),this.container.hasClass("select2-container-active")||this.opts.element.trigger(C.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),m(e)})),n.on("mousedown touchstart",this.bind(function(){this.search.focus()})),t.on("focus",this.bind(function(e){m(e)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(C.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(C.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(C.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(e){var t=this.selection.data("select2-data");if(t){var i=C.Event("select2-clearing");if(this.opts.element.trigger(i),i.isDefaultPrevented())return;var n=this.getPlaceholderOption();this.opts.element.val(n?n.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),!1!==e&&(this.opts.element.trigger({type:"select2-removed",val:this.id(t),choice:t}),this.triggerChange({removed:t}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var t=this;this.opts.initSelection.call(null,this.opts.element,function(e){e!==y&&null!==e&&(t.updateSelection(e),t.close(),t.setPlaceholder(),t.nextSearchTerm=t.opts.nextSearchTerm(e,t.search.val()))})}},isPlaceholderOptionSelected:function(){var e;return!!this.getPlaceholder()&&((e=this.getPlaceholderOption())!==y&&e.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===y||null===this.opts.element.val())},prepareOpts:function(){var o=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===o.element.get(0).tagName.toLowerCase()?o.initSelection=function(e,t){var i=e.find("option").filter(function(){return this.selected&&!this.disabled});t(n.optionToData(i))}:"data"in o&&(o.initSelection=o.initSelection||function(e,t){var s=e.val(),a=null;o.query({matcher:function(e,t,i){var n=p(s,o.id(i));return n&&(a=i),n},callback:C.isFunction(t)?function(){t(a)}:C.noop})}),o},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===y?y:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var e=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&e!==y){if(this.select&&this.getPlaceholderOption()===y)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(e)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(e,t,i){var n=0,s=this;if(this.findHighlightableChoices().each2(function(e,t){return p(s.id(t.data("select2-data")),s.opts.element.val())?(n=e,!1):void 0}),!1!==i&&(!0===t&&0<=n?this.highlight(n):this.highlight(0)),!0===t){var a=this.opts.minimumResultsForSearch;0<=a&&this.showSearch(function i(e){var n=0;return C.each(e,function(e,t){t.children?n+=i(t.children):n++}),n}(e.results)>=a)}},showSearch:function(e){this.showSearchInput!==e&&(this.showSearchInput=e,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!e),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!e),C(this.dropdown,this.container).toggleClass("select2-with-searchbox",e))},onSelect:function(e,t){if(this.triggerSelect(e)){var i=this.opts.element.val(),n=this.data();this.opts.element.val(this.id(e)),this.updateSelection(e),this.opts.element.trigger({type:"select2-selected",val:this.id(e),choice:e}),this.nextSearchTerm=this.opts.nextSearchTerm(e,this.search.val()),this.close(),t&&t.noFocus||!this.opts.shouldFocusInput(this)||this.focusser.focus(),p(i,this.id(e))||this.triggerChange({added:e,removed:n})}},updateSelection:function(e){var t,i,n=this.selection.find(".select2-chosen");this.selection.data("select2-data",e),n.empty(),null!==e&&(t=this.opts.formatSelection(e,n,this.opts.escapeMarkup)),t!==y&&n.append(t),(i=this.opts.formatSelectionCssClass(e,n))!==y&&n.addClass(i),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==y&&this.container.addClass("select2-allowclear")},val:function(){var e,t=!1,i=null,n=this,s=this.data();if(0===arguments.length)return this.opts.element.val();if(e=arguments[0],1<arguments.length&&(t=arguments[1]),this.select)this.select.val(e).find("option").filter(function(){return this.selected}).each2(function(e,t){return i=n.optionToData(t),!1}),this.updateSelection(i),this.setPlaceholder(),t&&this.triggerChange({added:i,removed:s});else{if(!e&&0!==e)return void this.clear(t);if(this.opts.initSelection===y)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(e),this.opts.initSelection(this.opts.element,function(e){n.opts.element.val(e?n.id(e):""),n.updateSelection(e),n.setPlaceholder(),t&&n.triggerChange({added:e,removed:s})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(e){var t,i=!1;return 0===arguments.length?((t=this.selection.data("select2-data"))==y&&(t=null),t):(1<arguments.length&&(i=arguments[1]),void(e?(t=this.data(),this.opts.element.val(e?this.id(e):""),this.updateSelection(e),i&&this.triggerChange({added:e,removed:t})):this.clear(i)))}}),w=t(i,{createContainer:function(){return C(document.createElement("div")).attr({class:"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""))},prepareOpts:function(){var l=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===l.element.get(0).tagName.toLowerCase()?l.initSelection=function(e,t){var i=[];e.find("option").filter(function(){return this.selected&&!this.disabled}).each2(function(e,t){i.push(n.optionToData(t))}),t(i)}:"data"in l&&(l.initSelection=l.initSelection||function(e,a){var o=s(e.val(),l.separator),r=[];l.query({matcher:function(e,t,i){var n=C.grep(o,function(e){return p(e,l.id(i))}).length;return n&&r.push(i),n},callback:C.isFunction(a)?function(){for(var e=[],t=0;t<o.length;t++)for(var i=o[t],n=0;n<r.length;n++){var s=r[n];if(p(i,l.id(s))){e.push(s),r.splice(n,1);break}}a(e)}:C.noop})}),l},selectChoice:function(e){var t=this.container.find(".select2-search-choice-focus");t.length&&e&&e[0]==t[0]||(t.length&&this.opts.element.trigger("choice-deselected",t),t.removeClass("select2-search-choice-focus"),e&&e.length&&(this.close(),e.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",e)))},destroy:function(){C("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments)},initContainer:function(){var o,e=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=o=this.container.find(e);var t=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(){t.search[0].focus(),t.selectChoice(C(this))}),this.search.attr("id","s2id_autogen"+_()),this.search.prev().text(C("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("input paste",this.bind(function(){this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){++this.keydowns;var t=o.find(".select2-search-choice-focus"),i=t.prev(".select2-search-choice:not(.select2-locked)"),n=t.next(".select2-search-choice:not(.select2-locked)"),s=function(e){var t=0,i=0;if("selectionStart"in(e=C(e)[0]))t=e.selectionStart,i=e.selectionEnd-t;else if("selection"in document){e.focus();var n=document.selection.createRange();i=document.selection.createRange().text.length,n.moveStart("character",-e.value.length),t=n.text.length-i}return{offset:t,length:i}}(this.search);if(t.length&&(e.which==E.LEFT||e.which==E.RIGHT||e.which==E.BACKSPACE||e.which==E.DELETE||e.which==E.ENTER)){var a=t;return e.which==E.LEFT&&i.length?a=i:e.which==E.RIGHT?a=n.length?n:null:e.which===E.BACKSPACE?this.unselect(t.first())&&(this.search.width(10),a=i.length?i:n):e.which==E.DELETE?this.unselect(t.first())&&(this.search.width(10),a=n.length?n:null):e.which==E.ENTER&&(a=null),this.selectChoice(a),m(e),void(a&&a.length||this.open())}if((e.which===E.BACKSPACE&&1==this.keydowns||e.which==E.LEFT)&&0==s.offset&&!s.length)return this.selectChoice(o.find(".select2-search-choice:not(.select2-locked)").last()),void m(e);if(this.selectChoice(null),this.opened())switch(e.which){case E.UP:case E.DOWN:return this.moveHighlight(e.which===E.UP?-1:1),void m(e);case E.ENTER:return this.selectHighlighted(),void m(e);case E.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case E.ESC:return this.cancel(e),void m(e)}if(e.which!==E.TAB&&!E.isControl(e)&&!E.isFunctionKey(e)&&e.which!==E.BACKSPACE&&e.which!==E.ESC){if(e.which===E.ENTER){if(!1===this.opts.openOnEnter)return;if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return}this.open(),e.which!==E.PAGE_UP&&e.which!==E.PAGE_DOWN||m(e),e.which===E.ENTER&&m(e)}}})),this.search.on("keyup",this.bind(function(){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(e){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),e.stopImmediatePropagation(),this.opts.element.trigger(C.Event("select2-blur"))})),this.container.on("click",e,this.bind(function(e){this.isInterfaceEnabled()&&(0<C(e.target).closest(".select2-search-choice").length||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(C.Event("select2-focus")),this.open(),this.focusSearch(),e.preventDefault()))})),this.container.on("focus",e,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(C.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var t=this;this.opts.initSelection.call(null,this.opts.element,function(e){e!==y&&null!==e&&(t.updateSelection(e),t.close(),t.clearSearch())})}},clearSearch:function(){var e=this.getPlaceholder(),t=this.getMaxSearchWidth();e!==y&&0===this.getVal().length&&!1===this.search.hasClass("select2-focused")?(this.search.val(e).addClass("select2-default"),this.search.width(0<t?t:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),""===this.search.val()&&this.nextSearchTerm!=y&&(this.search.val(this.nextSearchTerm),this.search.select()),this.updateResults(!0),this.search.focus(),this.opts.element.trigger(C.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(e){var t=[],i=[],n=this;C(e).each(function(){d(n.id(this),t)<0&&(t.push(n.id(this)),i.push(this))}),e=i,this.selection.find(".select2-search-choice").remove(),C(e).each(function(){n.addSelectedChoice(this)}),n.postprocessResults()},tokenize:function(){var e=this.search.val();null!=(e=this.opts.tokenizer.call(this,e,this.data(),this.bind(this.onSelect),this.opts))&&e!=y&&(this.search.val(e),0<e.length&&this.open())},onSelect:function(e,t){this.triggerSelect(e)&&(this.addSelectedChoice(e),this.opts.element.trigger({type:"selected",val:this.id(e),choice:e}),this.nextSearchTerm=this.opts.nextSearchTerm(e,this.search.val()),this.clearSearch(),this.updateResults(),!this.select&&this.opts.closeOnSelect||this.postprocessResults(e,!1,!0===this.opts.closeOnSelect),this.opts.closeOnSelect?(this.close(),this.search.width(10)):0<this.countSelectableResults()?(this.search.width(10),this.resizeSearch(),0<this.getMaximumSelectionSize()&&this.val().length>=this.getMaximumSelectionSize()?this.updateResults(!0):this.nextSearchTerm!=y&&(this.search.val(this.nextSearchTerm),this.updateResults(),this.search.select()),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:e}),t&&t.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(e){var t,i,n=!e.locked,s=C("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),a=C("<li class='select2-search-choice select2-locked'><div></div></li>"),o=n?s:a,r=this.id(e),l=this.getVal();(t=this.opts.formatSelection(e,o.find("div"),this.opts.escapeMarkup))!=y&&o.find("div").replaceWith("<div>"+t+"</div>"),(i=this.opts.formatSelectionCssClass(e,o.find("div")))!=y&&o.addClass(i),n&&o.find(".select2-search-choice-close").on("mousedown",m).on("click dblclick",this.bind(function(e){this.isInterfaceEnabled()&&(this.unselect(C(e.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),m(e),this.close(),this.focusSearch())})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),o.data("select2-data",e),o.insertBefore(this.searchContainer),l.push(r),this.setVal(l)},unselect:function(e){var t,i,n=this.getVal();if(0===(e=e.closest(".select2-search-choice")).length)throw"Invalid argument: "+e+". Must be .select2-search-choice";if(t=e.data("select2-data")){var s=C.Event("select2-removing");if(s.val=this.id(t),s.choice=t,this.opts.element.trigger(s),s.isDefaultPrevented())return!1;for(;0<=(i=d(this.id(t),n));)n.splice(i,1),this.setVal(n),this.select&&this.postprocessResults();return e.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(t),choice:t}),this.triggerChange({removed:t}),!0}},postprocessResults:function(e,t,i){var n=this.getVal(),s=this.results.find(".select2-result"),a=this.results.find(".select2-result-with-children"),o=this;s.each2(function(e,t){0<=d(o.id(t.data("select2-data")),n)&&(t.addClass("select2-selected"),t.find(".select2-result-selectable").addClass("select2-selected"))}),a.each2(function(e,t){t.is(".select2-result-selectable")||0!==t.find(".select2-result-selectable:not(.select2-selected)").length||t.addClass("select2-selected")}),-1==this.highlight()&&!1!==i&&o.highlight(0),!this.opts.createSearchChoice&&0<!s.filter(".select2-result:not(.select2-selected)").length&&(!e||e&&!e.more&&0===this.results.find(".select2-no-results").length)&&b(o.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+x(o.opts.formatNoMatches,o.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-a(this.search)},resizeSearch:function(){var e,t,i,n,s=a(this.search);e=function(e){if(!S){var t=e[0].currentStyle||window.getComputedStyle(e[0],null);(S=C(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:t.fontSize,fontFamily:t.fontFamily,fontStyle:t.fontStyle,fontWeight:t.fontWeight,letterSpacing:t.letterSpacing,textTransform:t.textTransform,whiteSpace:"nowrap"})).attr("class","select2-sizer"),C("body").append(S)}return S.text(e.val()),S.width()}(this.search)+10,t=this.search.offset().left,(n=(i=this.selection.width())-(t-this.selection.offset().left)-s)<e&&(n=i-s),n<40&&(n=i-s),n<=0&&(n=e),this.search.width(Math.floor(n))},getVal:function(){var e;return this.select?null===(e=this.select.val())?[]:e:s(e=this.opts.element.val(),this.opts.separator)},setVal:function(e){var t;this.select?this.select.val(e):(t=[],C(e).each(function(){d(this,t)<0&&t.push(this)}),this.opts.element.val(0===t.length?"":t.join(this.opts.separator)))},buildChangeDetails:function(e,t){t=t.slice(0),e=e.slice(0);for(var i=0;i<t.length;i++)for(var n=0;n<e.length;n++)p(this.opts.id(t[i]),this.opts.id(e[n]))&&(t.splice(i,1),0<i&&i--,e.splice(n,1),n--);return{added:t,removed:e}},val:function(e,i){var n,s=this;if(0===arguments.length)return this.getVal();if((n=this.data()).length||(n=[]),!e&&0!==e)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(i&&this.triggerChange({added:this.data(),removed:n}));if(this.setVal(e),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),i&&this.triggerChange(this.buildChangeDetails(n,this.data()));else{if(this.opts.initSelection===y)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(e){var t=C.map(e,s.id);s.setVal(t),s.updateSelection(e),s.clearSearch(),i&&s.triggerChange(s.buildChangeDetails(n,s.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var e=[],t=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){e.push(t.opts.id(C(this).data("select2-data")))}),this.setVal(e),this.triggerChange()},data:function(e,t){var i,n,s=this;return 0===arguments.length?this.selection.children(".select2-search-choice").map(function(){return C(this).data("select2-data")}).get():(n=this.data(),e=e||[],i=C.map(e,function(e){return s.opts.id(e)}),this.setVal(i),this.updateSelection(e),this.clearSearch(),void(t&&this.triggerChange(this.buildChangeDetails(n,this.data()))))}}),C.fn.select2=function(){var e,t,i,n,s,a=Array.prototype.slice.call(arguments,0),o=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],r=["opened","isFocused","container","dropdown"],l=["val","data"],h={search:"externalSearch"};return this.each(function(){if(0===a.length||"object"==typeof a[0])(e=0===a.length?{}:C.extend({},a[0])).element=C(this),"select"===e.element.get(0).tagName.toLowerCase()?s=e.element.prop("multiple"):(s=e.multiple||!1,"tags"in e&&(e.multiple=s=!0)),(t=s?new window.Select2.class.multi:new window.Select2.class.single).init(e);else{if("string"!=typeof a[0])throw"Invalid arguments to select2 plugin: "+a;if(d(a[0],o)<0)throw"Unknown method: "+a[0];if(n=y,(t=C(this).data("select2"))===y)return;if(i=a[0],n="container"===i?t.container:"dropdown"===i?t.dropdown:(h[i]&&(i=h[i]),t[i].apply(t,a.slice(1))),0<=d(a[0],r)||d(a[0],l)&&1==a.length)return!1}}),n===y?this:n},C.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(e,t,i,n){var s=[];return l(e.text,i.term,s,n),s.join("")},formatSelection:function(e,t,i){return e?i(e.text):y},sortResults:function(e){return e},formatResultCssClass:function(e){return e.css},formatSelectionCssClass:function(){return y},formatMatches:function(e){return e+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(e,t){var i=t-e.length;return"Please enter "+i+" or more character"+(1==i?"":"s")},formatInputTooLong:function(e,t){var i=e.length-t;return"Please delete "+i+" character"+(1==i?"":"s")},formatSelectionTooBig:function(e){return"You can only select "+e+" item"+(1==e?"":"s")},formatLoadMore:function(){return"Loading more results…"},formatSearching:function(){return"Searching…"},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(e){return e==y?null:e.id},matcher:function(e,t){return 0<=r(""+t).toUpperCase().indexOf(r(""+e).toUpperCase())},separator:",",tokenSeparators:[],tokenizer:function(e,t,i,n){var s,a,o,r,l,h=e,c=!1;if(!n.createSearchChoice||!n.tokenSeparators||n.tokenSeparators.length<1)return y;for(;;){for(a=-1,o=0,r=n.tokenSeparators.length;o<r&&(l=n.tokenSeparators[o],!(0<=(a=e.indexOf(l))));o++);if(a<0)break;if(s=e.substring(0,a),e=e.substring(a+l.length),0<s.length&&((s=n.createSearchChoice.call(this,s,t))!==y&&null!==s&&n.id(s)!==y&&null!==n.id(s))){for(c=!1,o=0,r=t.length;o<r;o++)if(p(n.id(s),n.id(t[o]))){c=!0;break}c||i(s)}}return h!==e?e:void 0},escapeMarkup:e,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(e){return e},adaptDropdownCssClass:function(){return null},nextSearchTerm:function(){return y},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(e){return!(e.opts.minimumResultsForSearch<0)}},C.fn.select2.ajaxDefaults={transport:C.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:n,local:h,tags:c},util:{debounce:g,markMatch:l,escapeMarkup:e,stripDiacritics:r},class:{abstract:i,single:u,multi:w}}}var R}(jQuery),function(){var a;(a=jQuery).bootstrapGrowl=function(e,t){var i,n,s;switch(t=a.extend({},a.bootstrapGrowl.default_options,t),(i=a("<div>")).attr("class","bootstrap-growl alert"),t.type&&i.addClass("alert-"+t.type),t.allow_dismiss&&i.append('<a class="close" data-dismiss="alert" href="#">&times;</a>'),i.append(e),t.top_offset&&(t.offset={from:"top",amount:t.top_offset}),s=t.offset.amount,a(".bootstrap-growl").each(function(){return s=Math.max(s,parseInt(a(this).css(t.offset.from))+a(this).outerHeight()+t.stackup_spacing)}),(n={position:"body"===t.ele?"fixed":"absolute",margin:0,"z-index":"9999",display:"none"})[t.offset.from]=s+"px",i.css(n),"auto"!==t.width&&i.css("width",t.width+"px"),a(t.ele).append(i),t.align){case"center":i.css({left:"50%","margin-left":"-"+i.outerWidth()/2+"px"});break;case"left":i.css("left","20px");break;default:i.css("right","20px")}return i.fadeIn(),0<t.delay&&i.delay(t.delay).fadeOut(function(){return a(this).alert("close")}),i},a.bootstrapGrowl.default_options={ele:"body",type:"info",offset:{from:"top",amount:20},align:"right",width:250,delay:4e3,allow_dismiss:!0,stackup_spacing:10}}.call(this);var Index={init:function(){var e={type:"bar",barWidth:8,barSpacing:6,height:"64px",tooltipOffsetX:-25,tooltipOffsetY:20,barColor:"#999999",tooltipPrefix:"+ ",tooltipSuffix:" Sales",tooltipFormat:"{{prefix}}{{value}}{{suffix}}"};$("#mini-chart-sales").sparkline([8,3,1,5,4,8,9,6,5,7,10,5,8,9],e),e.tooltipSuffix="%",$("#mini-chart-brand").sparkline([50,65,70,90,95,110,140,160,190,200,220,230,260],e);var t=$("#dash-widget-chart"),a=null,o=null;t.bind("plothover",function(e,t,i){if(i){if(a!==i.dataIndex){a=i.dataIndex,$("#chart-tooltip").remove(),i.datapoint[0];var n=i.datapoint[1],s=i.series.xaxis.options.ticks[i.dataIndex][1];o=1===i.seriesIndex?"<strong>"+n+"</strong> sales in <strong>"+s+"</strong>":"$ <strong>"+n+"</strong> in <strong>"+s+"</strong>",$('<div id="chart-tooltip" class="chart-tooltip">'+o+"</div>").css({top:i.pageY-50,left:i.pageX-50}).appendTo("body").show()}}else $("#chart-tooltip").remove(),a=null})}};Array.prototype.contains=function(e){for(i in this)if(this[i]==e)return!0;return!1};